(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[11],{"+fTh":function(e,n,a){"use strict";e.exports=function(e){var n,a={};if(!(e instanceof Object)||Array.isArray(e))throw new Error("keyMirror(...): Argument must be an object.");for(n in e)e.hasOwnProperty(n)&&(a[n]=n);return a}},"2B1R":function(e,n,a){"use strict";var r=a("I+eb"),t=a("tycR").map,l=a("Hd5f"),i=a("rkAj"),o=l("map"),s=i("map");r({target:"Array",proto:!0,forced:!o||!s},{map:function(e){return t(this,e,arguments.length>1?arguments[1]:void 0)}})},"2u0L":function(e,n,a){"use strict";var r,t=void 0!==r?r:r=a("FFhI");n.a=t},CNs0:function(e,n,a){"use strict";var r,t,l,i=a("q1tI"),o=a.n(i),s=a("lB3/"),u=a("Tdh/"),d=a("H7IY"),c=a("+3mh"),m=o.a.createElement,g=void 0!==r?r:r=a("afFk");n.a=function(e){var n=Object(i.useState)(""),r=n[0],o=n[1],f=Object(i.useState)(""),p=f[0],h=f[1],y=null;e.codeshare&&(y=Object(c.useFragment)(void 0!==t?t:t=a("odkW"),e.codeshare));var b=Object(c.useFragment)(void 0!==l?l:l=a("CzOP"),e.me);return m(u.a,{buttonLabel:e.buttonLabel||"Log in",theme:s.a.FULL_WIDTH,getMutationConfig:function(){return{mutation:g,variables:{input:{email:r,password:p}},updater:function(e){var n=e.getRootField("login").getLinkedRecord("viewer"),a=n.getLinkedRecord("me");if(e.getRoot().setLinkedRecord(n,"viewer"),y){var r=e.get(y.id),t=null===r||void 0===r?void 0:r.getLinkedRecord("createdBy");null===t||void 0===t||t.setValue(t.getValue("userId")===a.getValue("id"),"me");var l=null===r||void 0===r?void 0:r.getLinkedRecord("modifiedBy");null===l||void 0===l||l.setValue(l.getValue("userId")===a.getValue("id"),"me");var i=null===r||void 0===r?void 0:r.getLinkedRecord("canEdit"),o=null===i||void 0===i?void 0:i.getValue("userIds");null===i||void 0===i||i.setValue(0===(null===o||void 0===o?void 0:o.length)||(null===o||void 0===o?void 0:o.contains(b.id)),"me")}return e},onSuccess:function(n){if(e.onSuccess)return e.onSuccess(n)}}}},m(d.b,{name:"email",id:"email",type:"email",label:"Email address",autoFocus:!0,autoComplete:"email",required:!0,value:r,onChange:function(n){e.onEmailChange&&e.onEmailChange(n),o(n)}}),m(d.b,{name:"password",id:"password",type:"password",label:"Password",autoComplete:"current-password",required:!0,value:p,onChange:h}),e.children)}},CzOP:function(e,n,a){"use strict";a.r(n);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"LoginForm_me",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],type:"Me",hash:"497a19debdfc2c44cec95b28e3898893"};n.default=r},FFhI:function(e,n,a){"use strict";a.r(n);var r=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input",type:"UpdateCodeshareInput!"}],n={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},a=[{alias:null,args:[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"UpdateCodeshareResponse",kind:"LinkedField",name:"updateCodeshare",plural:!1,selections:[{alias:null,args:null,concreteType:"Codeshare",kind:"LinkedField",name:"codeshare",plural:!1,selections:[n,{alias:null,args:null,concreteType:"CreatedBy",kind:"LinkedField",name:"createdBy",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"me",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[n],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"userId",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"updateCodeshareMutation",selections:a,type:"Mutation"},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"updateCodeshareMutation",selections:a},params:{id:null,metadata:{},name:"updateCodeshareMutation",operationKind:"mutation",text:"mutation updateCodeshareMutation(\n  $input: UpdateCodeshareInput!\n) {\n  updateCodeshare(input: $input) {\n    codeshare {\n      id\n      createdBy {\n        me\n        user {\n          id\n        }\n        userId\n      }\n    }\n  }\n}\n"}}}();r.hash="77c0642d03487268ba091c23bff547cc",n.default=r},H7IY:function(e,n,a){"use strict";a.d(n,"a",(function(){return o})),a.d(n,"b",(function(){return s}));a("2B1R"),a("sMBO");var r=a("Ff2n"),t=a("wx14"),l=a("q1tI"),i=a.n(l).a.createElement,o=function(e){return i("div",{className:"form-field"},e.children)};function s(e){return i(o,null,i("label",{htmlFor:e.name},e.label),"select"===e.type?i(u,e):i("input",Object(t.a)({},e,{onChange:function(n){return e.onChange(n.target.value)}})))}function u(e){e.label;var n=e.options,a=e.onChange,l=Object(r.a)(e,["label","options","onChange"]);return i("select",Object(t.a)({},l,{onChange:function(e){return a(e.target.value)}}),n.map((function(e){return i("option",{key:e,value:e},e)})))}},ODXe:function(e,n,a){"use strict";a.d(n,"a",(function(){return t}));var r=a("BsWD");function t(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var a=[],r=!0,t=!1,l=void 0;try{for(var i,o=e[Symbol.iterator]();!(r=(i=o.next()).done)&&(a.push(i.value),!n||a.length!==n);r=!0);}catch(s){t=!0,l=s}finally{try{r||null==o.return||o.return()}finally{if(t)throw l}}return a}}(e,n)||Object(r.a)(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},OJ4N:function(e,n,a){"use strict";a.d(n,"a",(function(){return s}));var r=a("wx14"),t=a("q1tI"),l=a.n(t),i=a("QRLs"),o=l.a.createElement;function s(e){return o(i.e,Object(r.a)({type:"submit",theme:i.d.PRIMARY},e),e.disabled?"...":e.label)}},QRLs:function(e,n,a){"use strict";a.d(n,"d",(function(){return m})),a.d(n,"c",(function(){return g})),a.d(n,"b",(function(){return f})),a.d(n,"a",(function(){return p}));var r=a("wx14"),t=a("Ff2n"),l=a("q1tI"),i=a.n(l),o=a("TSYQ"),s=a.n(o),u=a("+fTh"),d=a.n(u),c=i.a.createElement,m=d()({PRIMARY:null,CALL_TO_ACTION:null,CLOSE:null,DANGER:null,ICON:null,LINK:null,SECONDARY:null,SECONDARY_INVERT:null}),g=d()({SMALL:null,FULL:null}),f=d()({TOP:null}),p=d()({NO_PAD:null}),h=function(e){e.hint;var n=e.hintPosition,a=e.padding,l=e.size,i=e.theme,o=Object(t.a)(e,["hint","hintPosition","padding","size","theme"]);return c("button",Object(r.a)({className:s()({btn:!0,"btn-sm":l===g.SMALL,"btn-block":l===g.FULL,"btn-cta":i===m.CALL_TO_ACTION,"btn-close":i===m.CLOSE,"btn-icon":i===m.ICON,"btn-link":i===m.LINK||i===m.DANGER,"btn-primary":i===m.PRIMARY,"btn-secondary":i===m.SECONDARY,"btn-secondary-invert":i===m.SECONDARY_INVERT,"text-danger":i===m.DANGER,"pl-0":a===p.NO_PAD,"pr-0":a===p.NO_PAD,"hint--top":n===f.TOP})},o),o.children)};h.defaultProps={theme:m.PRIMARY},n.e=h},"Tdh/":function(e,n,a){"use strict";a.d(n,"a",(function(){return h}));a("pNMO"),a("TeQF"),a("QWBl"),a("HRxU"),a("eoL8"),a("5DmW"),a("27RR"),a("tkto"),a("FZtP");var r=a("wx14"),t=a("ODXe"),l=a("rePB"),i=a("Ff2n"),o=a("q1tI"),s=a.n(o),u=a("lB3/"),d=a("e1/f"),c=a("Xa66"),m=a("+3mh"),g=s.a.createElement;function f(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,r)}return a}function p(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?f(Object(a),!0).forEach((function(n){Object(l.a)(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):f(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}function h(e){var n=e.getMutationConfig,a=Object(i.a)(e,["getMutationConfig"]),l=Object(m.useRelayEnvironment)(),s=Object(o.useState)(),f=s[0],h=s[1],y=Object(o.useState)(!1),b=y[0],k=y[1],v=Object(o.useRef)(!1);function C(e){v.current||e()}return Object(o.useEffect)((function(){return function(){v.current=!0}}),[]),g(u.b,Object(r.a)({},a,{disabled:b,errMessage:f,onSubmit:function(e){e.preventDefault(),C((function(){return k(!0)}));var a=n();if(null==a)return C((function(){return h(void 0)})),void C((function(){return k(!1)}));Object(d.commitMutation)(l,p(p({},a),{},{onError:function(e){console.error("mutation error",e),C((function(){var n=Object(c.a)(e);h((null===n||void 0===n?void 0:n.message)||"an unexpected error occurred, try again")})),C((function(){return k(!1)}))},onCompleted:function(e,n){var r=n||[],l=Object(t.a)(r,1)[0];if(l)return C((function(){return h(l.message)})),void C((function(){return k(!1)}));if(!a.onSuccess)return C((function(){return h(void 0)})),void C((function(){return k(!1)}));var i=a.onSuccess(e);if(null==i)return C((function(){return h(void 0)})),void C((function(){return k(!1)}));i.then((function(){C((function(){return h(void 0)})),C((function(){return k(!1)}))})).catch((function(e){C((function(){return k(!1)}))}))}}))}}),e.children)}},afFk:function(e,n,a){"use strict";a.r(n);var r=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input",type:"LoginInput!"}],n=[{kind:"Variable",name:"input",variableName:"input"}],a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"email",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"anonymous",storageKey:null},i={alias:null,args:[{kind:"Literal",name:"first",value:1}],concreteType:"CodeshareConnection",kind:"LinkedField",name:"codesharesCreated",plural:!1,selections:[{alias:null,args:null,concreteType:"CodeshareConnectionEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Codeshare",kind:"LinkedField",name:"node",plural:!1,selections:[a],storageKey:null}],storageKey:null}],storageKey:"codesharesCreated(first:1)"},o={alias:null,args:null,kind:"ScalarField",name:"token",storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"LoginFormMutation",selections:[{alias:null,args:n,concreteType:"AuthResponse",kind:"LinkedField",name:"login",plural:!1,selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"Me",kind:"LinkedField",name:"me",plural:!1,selections:[a,r,t,l,i,{args:null,kind:"FragmentSpread",name:"LoginForm_me"},{args:null,kind:"FragmentSpread",name:"CodeshareHead_me"},{args:null,kind:"FragmentSpread",name:"CodeshareNavbar_me"},{args:null,kind:"FragmentSpread",name:"CodeshareEditor_me"},{args:null,kind:"FragmentSpread",name:"CodeshareSidebar_me"},{args:null,kind:"FragmentSpread",name:"NagModal_me"}],storageKey:null}],storageKey:null},o],storageKey:null}],type:"Mutation"},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"LoginFormMutation",selections:[{alias:null,args:n,concreteType:"AuthResponse",kind:"LinkedField",name:"login",plural:!1,selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"Me",kind:"LinkedField",name:"me",plural:!1,selections:[a,r,t,l,i,{alias:null,args:null,concreteType:"UserSettings",kind:"LinkedField",name:"settings",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"theme",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"keymap",storageKey:null}],storageKey:null},{alias:null,args:[{kind:"Literal",name:"first",value:100}],concreteType:"SubscriptionPlanConnection",kind:"LinkedField",name:"subscriptionPlans",plural:!1,selections:[{alias:null,args:null,concreteType:"SubscriptionPlanConnectionEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"SubscriptionPlan",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"isActive",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"planId",storageKey:null},a],storageKey:null}],storageKey:null}],storageKey:"subscriptionPlans(first:100)"}],storageKey:null}],storageKey:null},o],storageKey:null}]},params:{id:null,metadata:{},name:"LoginFormMutation",operationKind:"mutation",text:"mutation LoginFormMutation(\n  $input: LoginInput!\n) {\n  login(input: $input) {\n    viewer {\n      me {\n        id\n        name\n        email\n        anonymous\n        codesharesCreated(first: 1) {\n          edges {\n            node {\n              id\n            }\n          }\n        }\n        ...LoginForm_me\n        ...CodeshareHead_me\n        ...CodeshareNavbar_me\n        ...CodeshareEditor_me\n        ...CodeshareSidebar_me\n        ...NagModal_me\n      }\n    }\n    token\n  }\n}\n\nfragment AuthUserNavbar_me on Me {\n  anonymous\n  name\n  email\n  ...Gravatar_me\n}\n\nfragment CodeshareCodeMirror_me on Me {\n  id\n  ...useTheme_me\n  ...useKeymap_me\n}\n\nfragment CodeshareEditor_me on Me {\n  ...CodeshareFirepad_me\n}\n\nfragment CodeshareFirepad_me on Me {\n  id\n  ...CodeshareCodeMirror_me\n}\n\nfragment CodeshareHead_me on Me {\n  ...CodeshareLazyHead_me\n  ...useKeymap_me\n}\n\nfragment CodeshareKeymapFormField_me on Me {\n  ...useKeymap_me\n}\n\nfragment CodeshareLazyHead_me on Me {\n  ...useTheme_me\n}\n\nfragment CodeshareNavbar_me on Me {\n  anonymous\n  ...UserNavbar_me\n  ...CodeshareShareModal_me\n  ...PlansButton_me\n  ...isCodeshareProSubscriber_me\n}\n\nfragment CodesharePlans_me on Me {\n  anonymous\n  ...CodeshareProCheckoutModal_me\n  ...isCodeshareProSubscriber_me\n  ...LoginRegisterModal_me\n}\n\nfragment CodeshareProCheckoutModal_me on Me {\n  ...CodeshareProForm_me\n}\n\nfragment CodeshareProForm_me on Me {\n  id\n  email\n}\n\nfragment CodeshareProModal_me on Me {\n  ...CodesharePlans_me\n}\n\nfragment CodeshareSettingsForm_me on Me {\n  anonymous\n  ...CodeshareThemeFormField_me\n  ...CodeshareKeymapFormField_me\n}\n\nfragment CodeshareShareModal_me on Me {\n  ...CodeshareViewOnlyCheckbox_me\n}\n\nfragment CodeshareSidebar_me on Me {\n  ...CodeshareSettingsForm_me\n}\n\nfragment CodeshareThemeFormField_me on Me {\n  ...useTheme_me\n}\n\nfragment CodeshareViewOnlyCheckbox_me on Me {\n  anonymous\n  ...isCodeshareProSubscriber_me\n  ...CodeshareProModal_me\n}\n\nfragment Gravatar_me on Me {\n  name\n  email\n}\n\nfragment LoginForm_me on Me {\n  id\n}\n\nfragment LoginRegisterModal_me on Me {\n  ...LoginForm_me\n  ...RegisterForm_me\n}\n\nfragment NagModal_me on Me {\n  anonymous\n  ...LoginRegisterModal_me\n}\n\nfragment PlansButton_me on Me {\n  ...CodeshareProModal_me\n}\n\nfragment RegisterForm_me on Me {\n  id\n}\n\nfragment UserNavbar_me on Me {\n  anonymous\n  ...AuthUserNavbar_me\n}\n\nfragment isCodeshareProSubscriber_me on Me {\n  subscriptionPlans(first: 100) {\n    edges {\n      node {\n        isActive\n        planId\n        id\n      }\n    }\n  }\n}\n\nfragment useKeymap_me on Me {\n  id\n  settings {\n    keymap\n  }\n}\n\nfragment useTheme_me on Me {\n  id\n  settings {\n    theme\n  }\n}\n"}}}();r.hash="970385a9ec3a07f2d19c62c2a4a8966d",n.default=r},"lB3/":function(e,n,a){"use strict";a.d(n,"a",(function(){return c})),a.d(n,"b",(function(){return m}));var r=a("q1tI"),t=a.n(r),l=a("OJ4N"),i=a("TSYQ"),o=a.n(i),s=a("+fTh"),u=a.n(s),d=t.a.createElement,c=u()({FULL_WIDTH:null});function m(e){var n=e.errMessage?{}:{display:"none"},a=e.successMessage?{}:{display:"none"};return d("form",{id:e.id,className:o()({"full-width":e.theme===c.FULL_WIDTH}),onSubmit:e.onSubmit},e.descriptionText?d("p",null,"props.descriptionText"):null,e.children,d("span",{className:"text-success",style:a},e.successMessage),d("span",{id:"error",style:n},"Error: ",e.errMessage),e.buttonLabel?d(l.a,{disabled:e.disabled,label:e.buttonLabel,theme:e.buttonTheme,padding:e.buttonPadding,onSubmit:e.onSubmit}):null)}},odkW:function(e,n,a){"use strict";a.r(n);var r=function(){var e={alias:null,args:null,kind:"ScalarField",name:"me",storageKey:null},n=[{alias:null,args:null,kind:"ScalarField",name:"userId",storageKey:null},e];return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"LoginForm_codeshare",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,concreteType:"CreatedBy",kind:"LinkedField",name:"createdBy",plural:!1,selections:n,storageKey:null},{alias:null,args:null,concreteType:"ModifiedBy",kind:"LinkedField",name:"modifiedBy",plural:!1,selections:n,storageKey:null},{alias:null,args:null,concreteType:"CanEdit",kind:"LinkedField",name:"canEdit",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"userIds",storageKey:null},e],storageKey:null}],type:"Codeshare"}}();r.hash="9892f3cab56a99a6bb12365a64a08d14",n.default=r}}]);