_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[18],{"+2oP":function(e,t,n){"use strict";var r=n("I+eb"),i=n("hh1v"),o=n("6LWA"),a=n("I8vh"),s=n("UMSQ"),c=n("/GqU"),l=n("hBjN"),u=n("tiKp"),d=n("Hd5f"),h=n("rkAj"),p=d("slice"),f=h("slice",{ACCESSORS:!0,0:0,1:2}),m=u("species"),g=[].slice,v=Math.max;r({target:"Array",proto:!0,forced:!p||!f},{slice:function(e,t){var n,r,u,d=c(this),h=s(d.length),p=a(e,h),f=a(void 0===t?h:t,h);if(o(d)&&("function"!=typeof(n=d.constructor)||n!==Array&&!o(n.prototype)?i(n)&&null===(n=n[m])&&(n=void 0):n=void 0,n===Array||void 0===n))return g.call(d,p,f);for(r=new(void 0===n?Array:n)(v(f-p,0)),u=0;p<f;p++,u++)p in d&&l(r,u,d[p]);return r.length=u,r}})},"+SKG":function(e,t,n){(function(t){e.exports=function(e){return t.Buffer&&t.Buffer.isBuffer(e)||t.ArrayBuffer&&e instanceof ArrayBuffer}}).call(this,n("yLpj"))},"+pgx":function(e,t,n){(function(t){var r=n("I5KL");e.exports=function(e){return function e(n){if(!n)return!1;if(t.Buffer&&t.Buffer.isBuffer&&t.Buffer.isBuffer(n)||t.ArrayBuffer&&n instanceof ArrayBuffer||t.Blob&&n instanceof Blob||t.File&&n instanceof File)return!0;if(r(n)){for(var i=0;i<n.length;i++)if(e(n[i]))return!0}else if(n&&"object"==typeof n)for(var o in n.toJSON&&"function"==typeof n.toJSON&&(n=n.toJSON()),n)if(Object.prototype.hasOwnProperty.call(n,o)&&e(n[o]))return!0;return!1}(e)}}).call(this,n("yLpj"))},"+phH":function(e,t,n){"use strict";var r=n("lVut").log,i=n("lVut").browserDetails,o={shimMediaStream:function(){window.MediaStream=window.MediaStream||window.webkitMediaStream},shimOnTrack:function(){"object"===typeof window&&window.RTCPeerConnection&&!("ontrack"in window.RTCPeerConnection.prototype)&&Object.defineProperty(window.RTCPeerConnection.prototype,"ontrack",{get:function(){return this._ontrack},set:function(e){var t=this;this._ontrack&&(this.removeEventListener("track",this._ontrack),this.removeEventListener("addstream",this._ontrackpoly)),this.addEventListener("track",this._ontrack=e),this.addEventListener("addstream",this._ontrackpoly=function(e){e.stream.addEventListener("addtrack",(function(n){var r=new Event("track");r.track=n.track,r.receiver={track:n.track},r.streams=[e.stream],t.dispatchEvent(r)})),e.stream.getTracks().forEach(function(t){var n=new Event("track");n.track=t,n.receiver={track:t},n.streams=[e.stream],this.dispatchEvent(n)}.bind(this))}.bind(this))}})},shimSourceObject:function(){"object"===typeof window&&window.HTMLMediaElement&&!("srcObject"in window.HTMLMediaElement.prototype)&&Object.defineProperty(window.HTMLMediaElement.prototype,"srcObject",{get:function(){return this._srcObject},set:function(e){var t=this;this._srcObject=e,this.src&&URL.revokeObjectURL(this.src),e?(this.src=URL.createObjectURL(e),e.addEventListener("addtrack",(function(){t.src&&URL.revokeObjectURL(t.src),t.src=URL.createObjectURL(e)})),e.addEventListener("removetrack",(function(){t.src&&URL.revokeObjectURL(t.src),t.src=URL.createObjectURL(e)}))):this.src=""}})},shimPeerConnection:function(){window.RTCPeerConnection=function(e,t){r("PeerConnection"),e&&e.iceTransportPolicy&&(e.iceTransports=e.iceTransportPolicy);var n=new webkitRTCPeerConnection(e,t),i=n.getStats.bind(n);return n.getStats=function(e,t,n){var r=this,o=arguments;if(arguments.length>0&&"function"===typeof e)return i(e,t);var a=function(e){var t={};return e.result().forEach((function(e){var n={id:e.id,timestamp:e.timestamp,type:e.type};e.names().forEach((function(t){n[t]=e.stat(t)})),t[n.id]=n})),t},s=function(e,t){var n=new Map(Object.keys(e).map((function(t){return[t,e[t]]})));return t=t||e,Object.keys(t).forEach((function(e){n[e]=t[e]})),n};if(arguments.length>=2){var c=function(e){o[1](s(a(e)))};return i.apply(this,[c,arguments[0]])}return new Promise((function(t,n){1===o.length&&"object"===typeof e?i.apply(r,[function(e){t(s(a(e)))},n]):i.apply(r,[function(e){t(s(a(e),e.result()))},n])})).then(t,n)},n},window.RTCPeerConnection.prototype=webkitRTCPeerConnection.prototype,webkitRTCPeerConnection.generateCertificate&&Object.defineProperty(window.RTCPeerConnection,"generateCertificate",{get:function(){return webkitRTCPeerConnection.generateCertificate}}),["createOffer","createAnswer"].forEach((function(e){var t=webkitRTCPeerConnection.prototype[e];webkitRTCPeerConnection.prototype[e]=function(){var e=this;if(arguments.length<1||1===arguments.length&&"object"===typeof arguments[0]){var n=1===arguments.length?arguments[0]:void 0;return new Promise((function(r,i){t.apply(e,[r,i,n])}))}return t.apply(this,arguments)}})),i.version<51&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach((function(e){var t=webkitRTCPeerConnection.prototype[e];webkitRTCPeerConnection.prototype[e]=function(){var e=arguments,n=this,r=new Promise((function(r,i){t.apply(n,[e[0],r,i])}));return e.length<2?r:r.then((function(){e[1].apply(null,[])}),(function(t){e.length>=3&&e[2].apply(null,[t])}))}})),["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach((function(e){var t=webkitRTCPeerConnection.prototype[e];webkitRTCPeerConnection.prototype[e]=function(){return arguments[0]=new("addIceCandidate"===e?RTCIceCandidate:RTCSessionDescription)(arguments[0]),t.apply(this,arguments)}}));var e=RTCPeerConnection.prototype.addIceCandidate;RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?e.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())}}};e.exports={shimMediaStream:o.shimMediaStream,shimOnTrack:o.shimOnTrack,shimSourceObject:o.shimSourceObject,shimPeerConnection:o.shimPeerConnection,shimGetUserMedia:n("vwHn")}},"+tJ4":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){return function(t){for(var n=0,r=e.length;n<r&&!t.closed;n++)t.next(e[n]);t.complete()}}},"//0v":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("DtyJ");t.Observable=r.Observable},"/WYv":function(e,t,n){"use strict";function r(e){return!!e&&"function"!==typeof e.subscribe&&"function"===typeof e.then}n.d(t,"a",(function(){return r}))},"/k0Q":function(e,t,n){"use strict";n.r(t);var r=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input",type:"UpdateCodeshareInput!"}],t=[{alias:null,args:[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"UpdateCodeshareResponse",kind:"LinkedField",name:"updateCodeshare",plural:!1,selections:[{alias:null,args:null,concreteType:"Codeshare",kind:"LinkedField",name:"codeshare",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"modeName",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"useCodeshareModeNameMutation",selections:t,type:"Mutation"},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"useCodeshareModeNameMutation",selections:t},params:{id:null,metadata:{},name:"useCodeshareModeNameMutation",operationKind:"mutation",text:"mutation useCodeshareModeNameMutation(\n  $input: UpdateCodeshareInput!\n) {\n  updateCodeshare(input: $input) {\n    codeshare {\n      id\n      modeName\n    }\n  }\n}\n"}}}();r.hash="febc74741a259b39be34cd9300e62f59",t.default=r},0:function(e,t){},"0/uQ":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("6blF"),i=n("Fxb1"),o=n("i4X3");function a(e,t){return t?Object(o.a)(e,t):e instanceof r.a?e:new r.a(Object(i.a)(e))}},"0JNz":function(e,t,n){"use strict";!function(){var t=n("lVut").log,r=n("lVut").browserDetails;e.exports.browserDetails=r,e.exports.extractVersion=n("lVut").extractVersion,e.exports.disableLog=n("lVut").disableLog;var i=n("+phH")||null,o=n("sJPo")||null,a=n("Mupt")||null,s=n("goMv")||null;switch(r.browser){case"opera":case"chrome":if(!i||!i.shimPeerConnection)return void t("Chrome shim is not included in this adapter release.");t("adapter.js shimming chrome."),e.exports.browserShim=i,i.shimGetUserMedia(),i.shimMediaStream(),i.shimSourceObject(),i.shimPeerConnection(),i.shimOnTrack();break;case"firefox":if(!a||!a.shimPeerConnection)return void t("Firefox shim is not included in this adapter release.");t("adapter.js shimming firefox."),e.exports.browserShim=a,a.shimGetUserMedia(),a.shimSourceObject(),a.shimPeerConnection(),a.shimOnTrack();break;case"edge":if(!o||!o.shimPeerConnection)return void t("MS edge shim is not included in this adapter release.");t("adapter.js shimming edge."),e.exports.browserShim=o,o.shimGetUserMedia(),o.shimPeerConnection();break;case"safari":if(!s)return void t("Safari shim is not included in this adapter release.");t("adapter.js shimming safari."),e.exports.browserShim=s,s.shimGetUserMedia();break;default:t("Unsupported browser!")}}()},"0az+":function(e,t,n){"use strict";var r=n("zFjM").log;e.exports=function(){var e=function(e){if("object"!==typeof e||e.mandatory||e.optional)return e;var t={};return Object.keys(e).forEach((function(n){if("require"!==n&&"advanced"!==n&&"mediaSource"!==n){var r="object"===typeof e[n]?e[n]:{ideal:e[n]};void 0!==r.exact&&"number"===typeof r.exact&&(r.min=r.max=r.exact);var i=function(e,t){return e?e+t.charAt(0).toUpperCase()+t.slice(1):"deviceId"===t?"sourceId":t};if(void 0!==r.ideal){t.optional=t.optional||[];var o={};"number"===typeof r.ideal?(o[i("min",n)]=r.ideal,t.optional.push(o),(o={})[i("max",n)]=r.ideal,t.optional.push(o)):(o[i("",n)]=r.ideal,t.optional.push(o))}void 0!==r.exact&&"number"!==typeof r.exact?(t.mandatory=t.mandatory||{},t.mandatory[i("",n)]=r.exact):["min","max"].forEach((function(e){void 0!==r[e]&&(t.mandatory=t.mandatory||{},t.mandatory[i(e,n)]=r[e])}))}})),e.advanced&&(t.optional=(t.optional||[]).concat(e.advanced)),t},t=function(t,n){if((t=JSON.parse(JSON.stringify(t)))&&t.audio&&(t.audio=e(t.audio)),t&&"object"===typeof t.video){var i=t.video.facingMode;if((i=i&&("object"===typeof i?i:{ideal:i}))&&("user"===i.exact||"environment"===i.exact||"user"===i.ideal||"environment"===i.ideal)&&(!navigator.mediaDevices.getSupportedConstraints||!navigator.mediaDevices.getSupportedConstraints().facingMode)&&(delete t.video.facingMode,"environment"===i.exact||"environment"===i.ideal))return navigator.mediaDevices.enumerateDevices().then((function(o){var a=(o=o.filter((function(e){return"videoinput"===e.kind}))).find((function(e){return-1!==e.label.toLowerCase().indexOf("back")}))||o.length&&o[o.length-1];return a&&(t.video.deviceId=i.exact?{exact:a.deviceId}:{ideal:a.deviceId}),t.video=e(t.video),r("chrome: "+JSON.stringify(t)),n(t)}));t.video=e(t.video)}return r("chrome: "+JSON.stringify(t)),n(t)},n=function(e){return{name:{PermissionDeniedError:"NotAllowedError",ConstraintNotSatisfiedError:"OverconstrainedError"}[e.name]||e.name,message:e.message,constraint:e.constraintName,toString:function(){return this.name+(this.message&&": ")+this.message}}};navigator.getUserMedia=function(e,r,i){t(e,(function(e){navigator.webkitGetUserMedia(e,r,(function(e){i(n(e))}))}))};var i=function(e){return new Promise((function(t,n){navigator.getUserMedia(e,t,n)}))};if(navigator.mediaDevices||(navigator.mediaDevices={getUserMedia:i,enumerateDevices:function(){return new Promise((function(e){var t={audio:"audioinput",video:"videoinput"};return MediaStreamTrack.getSources((function(n){e(n.map((function(e){return{label:e.label,kind:t[e.kind],deviceId:e.id,groupId:""}})))}))}))}}),navigator.mediaDevices.getUserMedia){var o=navigator.mediaDevices.getUserMedia.bind(navigator.mediaDevices);navigator.mediaDevices.getUserMedia=function(e){return t(e,(function(e){return o(e).catch((function(e){return Promise.reject(n(e))}))}))}}else navigator.mediaDevices.getUserMedia=function(e){return i(e)};"undefined"===typeof navigator.mediaDevices.addEventListener&&(navigator.mediaDevices.addEventListener=function(){r("Dummy mediaDevices.addEventListener called.")}),"undefined"===typeof navigator.mediaDevices.removeEventListener&&(navigator.mediaDevices.removeEventListener=function(){r("Dummy mediaDevices.removeEventListener called.")})}},"0nnn":function(e,t,n){var r=n("p7Ng"),i=n("7tlc");function o(e){r.call(this);var t,n=e||{};for(t in this.config={chunksize:16384,pacing:0},n)this.config[t]=n[t];this.file=null,this.channel=null}function a(){r.call(this),this.receiveBuffer=[],this.received=0,this.metadata={},this.channel=null}i.inherits(o,r),o.prototype.send=function(e,t){var n=this;this.file=e,this.channel=t;var r="number"!==typeof t.bufferedAmountLowThreshold,i=0,o=function(){var a=new window.FileReader;a.onload=function(a){n.channel.send(a.target.result),n.emit("progress",i,e.size,a.target.result),e.size>i+a.target.result.byteLength?r?window.setTimeout(o,n.config.pacing):t.bufferedAmount<=t.bufferedAmountLowThreshold&&window.setTimeout(o,0):(n.emit("progress",e.size,e.size,null),n.emit("sentFile")),i+=n.config.chunksize};var s=e.slice(i,i+n.config.chunksize);a.readAsArrayBuffer(s)};r||(t.bufferedAmountLowThreshold=8*this.config.chunksize,t.addEventListener("bufferedamountlow",o)),window.setTimeout(o,0)},i.inherits(a,r),a.prototype.receive=function(e,t){var n=this;e&&(this.metadata=e),this.channel=t,t.binaryType="arraybuffer",this.channel.onmessage=function(e){var t=e.data.byteLength;n.received+=t,n.receiveBuffer.push(e.data),n.emit("progress",n.received,n.metadata.size,e.data),n.received===n.metadata.size?(n.emit("receivedFile",new window.Blob(n.receiveBuffer),n.metadata),n.receiveBuffer=[]):n.received>n.metadata.size&&(console.error("received more than expected, discarding..."),n.receiveBuffer=[])}},e.exports={},e.exports.support="undefined"!==typeof window&&window&&window.File&&window.FileReader&&window.Blob,e.exports.Sender=o,e.exports.Receiver=a},"0z79":function(e,t,n){(function(t){var r=n("AdPF"),i=n("CUme"),o=n("1Mk5"),a=n("Yvos"),s=n("uffb")("engine.io-client:polling-xhr");function c(){}function l(e){if(i.call(this,e),this.requestTimeout=e.requestTimeout,t.location){var n="https:"===location.protocol,r=location.port;r||(r=n?443:80),this.xd=e.hostname!==t.location.hostname||r!==e.port,this.xs=e.secure!==n}else this.extraHeaders=e.extraHeaders}function u(e){this.method=e.method||"GET",this.uri=e.uri,this.xd=!!e.xd,this.xs=!!e.xs,this.async=!1!==e.async,this.data=void 0!==e.data?e.data:null,this.agent=e.agent,this.isBinary=e.isBinary,this.supportsBinary=e.supportsBinary,this.enablesXDR=e.enablesXDR,this.requestTimeout=e.requestTimeout,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.extraHeaders=e.extraHeaders,this.create()}function d(){for(var e in u.requests)u.requests.hasOwnProperty(e)&&u.requests[e].abort()}e.exports=l,e.exports.Request=u,a(l,i),l.prototype.supportsBinary=!0,l.prototype.request=function(e){return(e=e||{}).uri=this.uri(),e.xd=this.xd,e.xs=this.xs,e.agent=this.agent||!1,e.supportsBinary=this.supportsBinary,e.enablesXDR=this.enablesXDR,e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized,e.requestTimeout=this.requestTimeout,e.extraHeaders=this.extraHeaders,new u(e)},l.prototype.doWrite=function(e,t){var n="string"!==typeof e&&void 0!==e,r=this.request({method:"POST",data:e,isBinary:n}),i=this;r.on("success",t),r.on("error",(function(e){i.onError("xhr post error",e)})),this.sendXhr=r},l.prototype.doPoll=function(){s("xhr poll");var e=this.request(),t=this;e.on("data",(function(e){t.onData(e)})),e.on("error",(function(e){t.onError("xhr poll error",e)})),this.pollXhr=e},o(u.prototype),u.prototype.create=function(){var e={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized;var n=this.xhr=new r(e),i=this;try{s("xhr open %s: %s",this.method,this.uri),n.open(this.method,this.uri,this.async);try{if(this.extraHeaders)for(var o in n.setDisableHeaderCheck(!0),this.extraHeaders)this.extraHeaders.hasOwnProperty(o)&&n.setRequestHeader(o,this.extraHeaders[o])}catch(a){}if(this.supportsBinary&&(n.responseType="arraybuffer"),"POST"===this.method)try{this.isBinary?n.setRequestHeader("Content-type","application/octet-stream"):n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(a){}try{n.setRequestHeader("Accept","*/*")}catch(a){}"withCredentials"in n&&(n.withCredentials=!0),this.requestTimeout&&(n.timeout=this.requestTimeout),this.hasXDR()?(n.onload=function(){i.onLoad()},n.onerror=function(){i.onError(n.responseText)}):n.onreadystatechange=function(){4===n.readyState&&(200===n.status||1223===n.status?i.onLoad():setTimeout((function(){i.onError(n.status)}),0))},s("xhr data %s",this.data),n.send(this.data)}catch(a){return void setTimeout((function(){i.onError(a)}),0)}t.document&&(this.index=u.requestsCount++,u.requests[this.index]=this)},u.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},u.prototype.onData=function(e){this.emit("data",e),this.onSuccess()},u.prototype.onError=function(e){this.emit("error",e),this.cleanup(!0)},u.prototype.cleanup=function(e){if("undefined"!==typeof this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=c:this.xhr.onreadystatechange=c,e)try{this.xhr.abort()}catch(n){}t.document&&delete u.requests[this.index],this.xhr=null}},u.prototype.onLoad=function(){var e;try{var t;try{t=this.xhr.getResponseHeader("Content-Type").split(";")[0]}catch(a){}if("application/octet-stream"===t)e=this.xhr.response||this.xhr.responseText;else if(this.supportsBinary)try{e=String.fromCharCode.apply(null,new Uint8Array(this.xhr.response))}catch(a){for(var n=new Uint8Array(this.xhr.response),r=[],i=0,o=n.length;i<o;i++)r.push(n[i]);e=String.fromCharCode.apply(null,r)}else e=this.xhr.responseText}catch(a){this.onError(a)}null!=e&&this.onData(e)},u.prototype.hasXDR=function(){return"undefined"!==typeof t.XDomainRequest&&!this.xs&&this.enablesXDR},u.prototype.abort=function(){this.cleanup()},u.requestsCount=0,u.requests={},t.document&&(t.attachEvent?t.attachEvent("onunload",d):t.addEventListener&&t.addEventListener("beforeunload",d,!1))}).call(this,n("yLpj"))},"11PJ":function(e,t,n){"use strict";n.r(t);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CodeshareNavbar_me",selections:[{alias:null,args:null,kind:"ScalarField",name:"anonymous",storageKey:null},{args:null,kind:"FragmentSpread",name:"UserNavbar_me"},{args:null,kind:"FragmentSpread",name:"CodeshareShareModal_me"},{args:null,kind:"FragmentSpread",name:"PlansButton_me"},{args:null,kind:"FragmentSpread",name:"isCodeshareProSubscriber_me"}],type:"Me",hash:"9e9644bbf9ac840fe799d8a66aa02f12"};t.default=r},"14A5":function(e,t,n){(function(t){var n=t.BlobBuilder||t.WebKitBlobBuilder||t.MSBlobBuilder||t.MozBlobBuilder,r=function(){try{return 2===new Blob(["hi"]).size}catch(e){return!1}}(),i=r&&function(){try{return 2===new Blob([new Uint8Array([1,2])]).size}catch(e){return!1}}(),o=n&&n.prototype.append&&n.prototype.getBlob;function a(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.buffer instanceof ArrayBuffer){var r=n.buffer;if(n.byteLength!==r.byteLength){var i=new Uint8Array(n.byteLength);i.set(new Uint8Array(r,n.byteOffset,n.byteLength)),r=i.buffer}e[t]=r}}}function s(e,t){t=t||{};var r=new n;a(e);for(var i=0;i<e.length;i++)r.append(e[i]);return t.type?r.getBlob(t.type):r.getBlob()}function c(e,t){return a(e),new Blob(e,t||{})}e.exports=r?i?t.Blob:c:o?s:void 0}).call(this,n("yLpj"))},"18pa":function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="18pa"},"19Vz":function(e,t,n){!function(e){function t(e){e.state.placeholder&&(e.state.placeholder.parentNode.removeChild(e.state.placeholder),e.state.placeholder=null)}function n(e){t(e);var n=e.state.placeholder=document.createElement("pre");n.style.cssText="height: 0; overflow: visible",n.style.direction=e.getOption("direction"),n.className="CodeMirror-placeholder CodeMirror-line-like";var r=e.getOption("placeholder");"string"==typeof r&&(r=document.createTextNode(r)),n.appendChild(r),e.display.lineSpace.insertBefore(n,e.display.lineSpace.firstChild)}function r(e){o(e)&&n(e)}function i(e){var r=e.getWrapperElement(),i=o(e);r.className=r.className.replace(" CodeMirror-empty","")+(i?" CodeMirror-empty":""),i?n(e):t(e)}function o(e){return 1===e.lineCount()&&""===e.getLine(0)}e.defineOption("placeholder","",(function(n,o,a){var s=a&&a!=e.Init;if(o&&!s)n.on("blur",r),n.on("change",i),n.on("swapDoc",i),i(n);else if(!o&&s){n.off("blur",r),n.off("change",i),n.off("swapDoc",i),t(n);var c=n.getWrapperElement();c.className=c.className.replace(" CodeMirror-empty","")}o&&!n.hasFocus()&&r(n)}))}(n("VrN/"))},"1C/a":function(e,t){e.exports={initiator:{incoming:{initiator:"recvonly",responder:"sendonly",both:"sendrecv",none:"inactive",recvonly:"initiator",sendonly:"responder",sendrecv:"both",inactive:"none"},outgoing:{initiator:"sendonly",responder:"recvonly",both:"sendrecv",none:"inactive",recvonly:"responder",sendonly:"initiator",sendrecv:"both",inactive:"none"}},responder:{incoming:{initiator:"sendonly",responder:"recvonly",both:"sendrecv",none:"inactive",recvonly:"responder",sendonly:"initiator",sendrecv:"both",inactive:"none"},outgoing:{initiator:"recvonly",responder:"sendonly",both:"sendrecv",none:"inactive",recvonly:"initiator",sendonly:"responder",sendrecv:"both",inactive:"none"}}}},"1Mk5":function(e,t,n){function r(e){if(e)return function(e){for(var t in r.prototype)e[t]=r.prototype[t];return e}(e)}e.exports=r,r.prototype.on=r.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},r.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var i=0;i<r.length;i++)if((n=r[i])===t||n.fn===t){r.splice(i,1);break}return this},r.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks["$"+e];if(n)for(var r=0,i=(n=n.slice(0)).length;r<i;++r)n[r].apply(this,t);return this},r.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},r.prototype.hasListeners=function(e){return!!this.listeners(e).length}},"1e0N":function(e,t,n){"use strict";n.r(t);var r=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input",type:"CreateCodeHistoryInput!"}],t={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},n=[{alias:null,args:[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"CreateCodeHistoryResponse",kind:"LinkedField",name:"createCodeHistory",plural:!1,selections:[{alias:null,args:null,concreteType:"Codeshare",kind:"LinkedField",name:"codeshare",plural:!1,selections:[t],storageKey:null},{alias:null,args:null,concreteType:"CodeHistoryEdge",kind:"LinkedField",name:"newCodeHistoryEdge",plural:!1,selections:[{alias:null,args:null,concreteType:"CodeHistory",kind:"LinkedField",name:"node",plural:!1,selections:[t,{alias:null,args:null,kind:"ScalarField",name:"codeshareId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"createdAt",storageKey:null},{alias:null,args:null,concreteType:"CreatedBy",kind:"LinkedField",name:"createdBy",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"me",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"userId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"clientId",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"historyId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"createCodeHistoryMutation",selections:n,type:"Mutation"},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"createCodeHistoryMutation",selections:n},params:{id:null,metadata:{},name:"createCodeHistoryMutation",operationKind:"mutation",text:"mutation createCodeHistoryMutation(\n  $input: CreateCodeHistoryInput!\n) {\n  createCodeHistory(input: $input) {\n    codeshare {\n      id\n    }\n    newCodeHistoryEdge {\n      node {\n        id\n        codeshareId\n        createdAt\n        createdBy {\n          me\n          userId\n          clientId\n        }\n        historyId\n        value\n      }\n      cursor\n    }\n  }\n}\n"}}}();r.hash="d8460e699da3d3e3dff197865083443f",t.default=r},"1fDf":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("FFOo");function i(e){for(;e;){var t=e,n=t.closed,i=t.destination,o=t.isStopped;if(n||o)return!1;e=i&&i instanceof r.a?i:null}return!0}},"28KJ":function(e,t,n){"use strict";n.r(t);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CodeshareSettingsFormSubscription_me",selections:[{args:null,kind:"FragmentSpread",name:"CodeshareThemeFormField_me"},{args:null,kind:"FragmentSpread",name:"CodeshareKeymapFormField_me"}],type:"Me",hash:"92e087adb56f91c8f7cc3ef5f2d2dbd6"};t.default=r},"2Bdj":function(e,t,n){"use strict";function r(e){return"function"===typeof e}n.d(t,"a",(function(){return r}))},"2Dig":function(e,t){e.exports=function(e,t,n){return e.on(t,n),{destroy:function(){e.removeListener(t,n)}}}},"2ePl":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){return e&&"number"===typeof e.length&&"function"!==typeof e}},"2pII":function(e,t,n){(function(t){var r=n("akSB"),i=n("1Mk5"),o=n("uffb")("engine.io-client:socket"),a=n("7jRU"),s=n("Wm4p"),c=n("Uxeu"),l=n("JsDy"),u=n("TypT");function d(e,n){if(!(this instanceof d))return new d(e,n);n=n||{},e&&"object"===typeof e&&(n=e,e=null),e?(e=c(e),n.hostname=e.host,n.secure="https"===e.protocol||"wss"===e.protocol,n.port=e.port,e.query&&(n.query=e.query)):n.host&&(n.hostname=c(n.host).host),this.secure=null!=n.secure?n.secure:t.location&&"https:"===location.protocol,n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.agent=n.agent||!1,this.hostname=n.hostname||(t.location?location.hostname:"localhost"),this.port=n.port||(t.location&&location.port?location.port:this.secure?443:80),this.query=n.query||{},"string"===typeof this.query&&(this.query=u.decode(this.query)),this.upgrade=!1!==n.upgrade,this.path=(n.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!n.forceJSONP,this.jsonp=!1!==n.jsonp,this.forceBase64=!!n.forceBase64,this.enablesXDR=!!n.enablesXDR,this.timestampParam=n.timestampParam||"t",this.timestampRequests=n.timestampRequests,this.transports=n.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=n.policyPort||843,this.rememberUpgrade=n.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=n.onlyBinaryUpgrades,this.perMessageDeflate=!1!==n.perMessageDeflate&&(n.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=n.pfx||null,this.key=n.key||null,this.passphrase=n.passphrase||null,this.cert=n.cert||null,this.ca=n.ca||null,this.ciphers=n.ciphers||null,this.rejectUnauthorized=void 0===n.rejectUnauthorized?null:n.rejectUnauthorized,this.forceNode=!!n.forceNode;var r="object"===typeof t&&t;r.global===r&&(n.extraHeaders&&Object.keys(n.extraHeaders).length>0&&(this.extraHeaders=n.extraHeaders),n.localAddress&&(this.localAddress=n.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}e.exports=d,d.priorWebsocketSuccess=!1,i(d.prototype),d.protocol=s.protocol,d.Socket=d,d.Transport=n("Gbct"),d.transports=n("akSB"),d.parser=n("Wm4p"),d.prototype.createTransport=function(e){o('creating transport "%s"',e);var t=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}(this.query);return t.EIO=s.protocol,t.transport=e,this.id&&(t.sid=this.id),new r[e]({agent:this.agent,hostname:this.hostname,port:this.port,secure:this.secure,path:this.path,query:t,forceJSONP:this.forceJSONP,jsonp:this.jsonp,forceBase64:this.forceBase64,enablesXDR:this.enablesXDR,timestampRequests:this.timestampRequests,timestampParam:this.timestampParam,policyPort:this.policyPort,socket:this,pfx:this.pfx,key:this.key,passphrase:this.passphrase,cert:this.cert,ca:this.ca,ciphers:this.ciphers,rejectUnauthorized:this.rejectUnauthorized,perMessageDeflate:this.perMessageDeflate,extraHeaders:this.extraHeaders,forceNode:this.forceNode,localAddress:this.localAddress})},d.prototype.open=function(){var e;if(this.rememberUpgrade&&d.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length){var t=this;return void setTimeout((function(){t.emit("error","No transports available")}),0)}e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(n){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)},d.prototype.setTransport=function(e){o("setting transport %s",e.name);var t=this;this.transport&&(o("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=e,e.on("drain",(function(){t.onDrain()})).on("packet",(function(e){t.onPacket(e)})).on("error",(function(e){t.onError(e)})).on("close",(function(){t.onClose("transport close")}))},d.prototype.probe=function(e){o('probing transport "%s"',e);var t=this.createTransport(e,{probe:1}),n=!1,r=this;function i(){if(r.onlyBinaryUpgrades){var i=!this.supportsBinary&&r.transport.supportsBinary;n=n||i}n||(o('probe transport "%s" opened',e),t.send([{type:"ping",data:"probe"}]),t.once("packet",(function(i){if(!n)if("pong"===i.type&&"probe"===i.data){if(o('probe transport "%s" pong',e),r.upgrading=!0,r.emit("upgrading",t),!t)return;d.priorWebsocketSuccess="websocket"===t.name,o('pausing current transport "%s"',r.transport.name),r.transport.pause((function(){n||"closed"!==r.readyState&&(o("changing transport and sending upgrade packet"),h(),r.setTransport(t),t.send([{type:"upgrade"}]),r.emit("upgrade",t),t=null,r.upgrading=!1,r.flush())}))}else{o('probe transport "%s" failed',e);var a=new Error("probe error");a.transport=t.name,r.emit("upgradeError",a)}})))}function a(){n||(n=!0,h(),t.close(),t=null)}function s(n){var i=new Error("probe error: "+n);i.transport=t.name,a(),o('probe transport "%s" failed because of error: %s',e,n),r.emit("upgradeError",i)}function c(){s("transport closed")}function l(){s("socket closed")}function u(e){t&&e.name!==t.name&&(o('"%s" works - aborting "%s"',e.name,t.name),a())}function h(){t.removeListener("open",i),t.removeListener("error",s),t.removeListener("close",c),r.removeListener("close",l),r.removeListener("upgrading",u)}d.priorWebsocketSuccess=!1,t.once("open",i),t.once("error",s),t.once("close",c),this.once("close",l),this.once("upgrading",u),t.open()},d.prototype.onOpen=function(){if(o("socket open"),this.readyState="open",d.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.upgrade&&this.transport.pause){o("starting upgrade probes");for(var e=0,t=this.upgrades.length;e<t;e++)this.probe(this.upgrades[e])}},d.prototype.onPacket=function(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(o('socket receive: type "%s", data "%s"',e.type,e.data),this.emit("packet",e),this.emit("heartbeat"),e.type){case"open":this.onHandshake(l(e.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emit("data",e.data),this.emit("message",e.data)}else o('packet received with socket readyState "%s"',this.readyState)},d.prototype.onHandshake=function(e){this.emit("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),"closed"!==this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},d.prototype.onHeartbeat=function(e){clearTimeout(this.pingTimeoutTimer);var t=this;t.pingTimeoutTimer=setTimeout((function(){"closed"!==t.readyState&&t.onClose("ping timeout")}),e||t.pingInterval+t.pingTimeout)},d.prototype.setPing=function(){var e=this;clearTimeout(e.pingIntervalTimer),e.pingIntervalTimer=setTimeout((function(){o("writing ping packet - expecting pong within %sms",e.pingTimeout),e.ping(),e.onHeartbeat(e.pingTimeout)}),e.pingInterval)},d.prototype.ping=function(){var e=this;this.sendPacket("ping",(function(){e.emit("ping")}))},d.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},d.prototype.flush=function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(o("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},d.prototype.write=d.prototype.send=function(e,t,n){return this.sendPacket("message",e,t,n),this},d.prototype.sendPacket=function(e,t,n,r){if("function"===typeof t&&(r=t,t=void 0),"function"===typeof n&&(r=n,n=null),"closing"!==this.readyState&&"closed"!==this.readyState){(n=n||{}).compress=!1!==n.compress;var i={type:e,data:t,options:n};this.emit("packetCreate",i),this.writeBuffer.push(i),r&&this.once("flush",r),this.flush()}},d.prototype.close=function(){if("opening"===this.readyState||"open"===this.readyState){this.readyState="closing";var e=this;this.writeBuffer.length?this.once("drain",(function(){this.upgrading?r():t()})):this.upgrading?r():t()}function t(){e.onClose("forced close"),o("socket closing - telling transport to close"),e.transport.close()}function n(){e.removeListener("upgrade",n),e.removeListener("upgradeError",n),t()}function r(){e.once("upgrade",n),e.once("upgradeError",n)}return this},d.prototype.onError=function(e){o("socket error %j",e),d.priorWebsocketSuccess=!1,this.emit("error",e),this.onClose("transport error",e)},d.prototype.onClose=function(e,t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){o('socket close with reason: "%s"',e);clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",e,t),this.writeBuffer=[],this.prevBufferLen=0}},d.prototype.filterUpgrades=function(e){for(var t=[],n=0,r=e.length;n<r;n++)~a(this.transports,e[n])&&t.push(e[n]);return t}}).call(this,n("yLpj"))},"2xqC":function(e,t,n){function r(e){if(e)return function(e){for(var t in r.prototype)e[t]=r.prototype[t];return e}(e)}e.exports=r,r.prototype.on=r.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},r.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var i=0;i<r.length;i++)if((n=r[i])===t||n.fn===t){r.splice(i,1);break}return this},r.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks["$"+e];if(n)for(var r=0,i=(n=n.slice(0)).length;r<i;++r)n[r].apply(this,t);return this},r.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},r.prototype.hasListeners=function(e){return!!this.listeners(e).length}},"3+jK":function(e,t,n){"use strict";var r=n("Ypoe").log,i=n("Ypoe").browserDetails;e.exports=function(){var e=function(e){return{name:{SecurityError:"NotAllowedError",PermissionDeniedError:"NotAllowedError"}[e.name]||e.name,message:{"The operation is insecure.":"The request is not allowed by the user agent or the platform in the current context."}[e.message]||e.message,constraint:e.constraint,toString:function(){return this.name+(this.message&&": ")+this.message}}},t=function(t,n,o){var a=function(e){if("object"!==typeof e||e.require)return e;var t=[];return Object.keys(e).forEach((function(n){if("require"!==n&&"advanced"!==n&&"mediaSource"!==n){var r=e[n]="object"===typeof e[n]?e[n]:{ideal:e[n]};if(void 0===r.min&&void 0===r.max&&void 0===r.exact||t.push(n),void 0!==r.exact&&("number"===typeof r.exact?r.min=r.max=r.exact:e[n]=r.exact,delete r.exact),void 0!==r.ideal){e.advanced=e.advanced||[];var i={};"number"===typeof r.ideal?i[n]={min:r.ideal,max:r.ideal}:i[n]=r.ideal,e.advanced.push(i),delete r.ideal,Object.keys(r).length||delete e[n]}}})),t.length&&(e.require=t),e};return t=JSON.parse(JSON.stringify(t)),i.version<38&&(r("spec: "+JSON.stringify(t)),t.audio&&(t.audio=a(t.audio)),t.video&&(t.video=a(t.video)),r("ff37: "+JSON.stringify(t))),navigator.mozGetUserMedia(t,n,(function(t){o(e(t))}))};if(navigator.mediaDevices||(navigator.mediaDevices={getUserMedia:function(e){return new Promise((function(n,r){t(e,n,r)}))},addEventListener:function(){},removeEventListener:function(){}}),navigator.mediaDevices.enumerateDevices=navigator.mediaDevices.enumerateDevices||function(){return new Promise((function(e){e([{kind:"audioinput",deviceId:"default",label:"",groupId:""},{kind:"videoinput",deviceId:"default",label:"",groupId:""}])}))},i.version<41){var n=navigator.mediaDevices.enumerateDevices.bind(navigator.mediaDevices);navigator.mediaDevices.enumerateDevices=function(){return n().then(void 0,(function(e){if("NotFoundError"===e.name)return[];throw e}))}}if(i.version<49){var o=navigator.mediaDevices.getUserMedia.bind(navigator.mediaDevices);navigator.mediaDevices.getUserMedia=function(t){return o(t).catch((function(t){return Promise.reject(e(t))}))}}navigator.getUserMedia=function(e,n,r){if(i.version<44)return t(e,n,r);console.warn("navigator.getUserMedia has been replaced by navigator.mediaDevices.getUserMedia"),navigator.mediaDevices.getUserMedia(e).then(n,r)}}},"3d56":function(e,t,n){"use strict";var r=n("zFjM").log,i=n("zFjM").browserDetails,o={shimOnTrack:function(){"object"===typeof window&&window.RTCPeerConnection&&!("ontrack"in window.RTCPeerConnection.prototype)&&Object.defineProperty(window.RTCPeerConnection.prototype,"ontrack",{get:function(){return this._ontrack},set:function(e){this._ontrack&&(this.removeEventListener("track",this._ontrack),this.removeEventListener("addstream",this._ontrackpoly)),this.addEventListener("track",this._ontrack=e),this.addEventListener("addstream",this._ontrackpoly=function(e){e.stream.getTracks().forEach(function(t){var n=new Event("track");n.track=t,n.receiver={track:t},n.streams=[e.stream],this.dispatchEvent(n)}.bind(this))}.bind(this))}})},shimSourceObject:function(){"object"===typeof window&&window.HTMLMediaElement&&!("srcObject"in window.HTMLMediaElement.prototype)&&Object.defineProperty(window.HTMLMediaElement.prototype,"srcObject",{get:function(){return this.mozSrcObject},set:function(e){this.mozSrcObject=e}})},shimPeerConnection:function(){if("object"===typeof window&&(window.RTCPeerConnection||window.mozRTCPeerConnection)){window.RTCPeerConnection||(window.RTCPeerConnection=function(e,t){if(i.version<38&&e&&e.iceServers){for(var n=[],r=0;r<e.iceServers.length;r++){var o=e.iceServers[r];if(o.hasOwnProperty("urls"))for(var a=0;a<o.urls.length;a++){var s={url:o.urls[a]};0===o.urls[a].indexOf("turn")&&(s.username=o.username,s.credential=o.credential),n.push(s)}else n.push(e.iceServers[r])}e.iceServers=n}return new mozRTCPeerConnection(e,t)},window.RTCPeerConnection.prototype=mozRTCPeerConnection.prototype,mozRTCPeerConnection.generateCertificate&&Object.defineProperty(window.RTCPeerConnection,"generateCertificate",{get:function(){return mozRTCPeerConnection.generateCertificate}}),window.RTCSessionDescription=mozRTCSessionDescription,window.RTCIceCandidate=mozRTCIceCandidate),["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach((function(e){var t=RTCPeerConnection.prototype[e];RTCPeerConnection.prototype[e]=function(){return arguments[0]=new("addIceCandidate"===e?RTCIceCandidate:RTCSessionDescription)(arguments[0]),t.apply(this,arguments)}}));var e=RTCPeerConnection.prototype.addIceCandidate;RTCPeerConnection.prototype.addIceCandidate=function(){return null===arguments[0]?Promise.resolve():e.apply(this,arguments)};var t=RTCPeerConnection.prototype.getStats;RTCPeerConnection.prototype.getStats=function(e,n,r){return t.apply(this,[e||null]).then((function(e){return function(e){var t=new Map;return Object.keys(e).forEach((function(n){t.set(n,e[n]),t[n]=e[n]})),t}(e)})).then(n,r)}}},attachMediaStream:function(e,t){r("DEPRECATED, attachMediaStream will soon be removed."),e.srcObject=t},reattachMediaStream:function(e,t){r("DEPRECATED, reattachMediaStream will soon be removed."),e.srcObject=t.srcObject}};e.exports={shimOnTrack:o.shimOnTrack,shimSourceObject:o.shimSourceObject,shimPeerConnection:o.shimPeerConnection,shimGetUserMedia:n("HxeQ"),attachMediaStream:o.attachMediaStream,reattachMediaStream:o.reattachMediaStream}},"49YT":function(e,t,n){"use strict";n.r(t);var r=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input",type:"UpdateMeInput!"}],t=[{alias:null,args:[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"ViewerResponse",kind:"LinkedField",name:"updateMe",plural:!1,selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"Me",kind:"LinkedField",name:"me",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,concreteType:"UserSettings",kind:"LinkedField",name:"settings",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"keymap",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"useKeymapMutation",selections:t,type:"Mutation"},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"useKeymapMutation",selections:t},params:{id:null,metadata:{},name:"useKeymapMutation",operationKind:"mutation",text:"mutation useKeymapMutation(\n  $input: UpdateMeInput!\n) {\n  updateMe(input: $input) {\n    viewer {\n      me {\n        id\n        settings {\n          keymap\n        }\n      }\n    }\n  }\n}\n"}}}();r.hash="bd317611258d3ae07c2b711aec373f0a",t.default=r},"4Brf":function(e,t,n){"use strict";var r=n("I+eb"),i=n("g6v/"),o=n("2oRo"),a=n("UTVS"),s=n("hh1v"),c=n("m/L8").f,l=n("6JNq"),u=o.Symbol;if(i&&"function"==typeof u&&(!("description"in u.prototype)||void 0!==u().description)){var d={},h=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof h?new u(e):void 0===e?u():u(e);return""===e&&(d[t]=!0),t};l(h,u);var p=h.prototype=u.prototype;p.constructor=h;var f=p.toString,m="Symbol(test)"==String(u("test")),g=/^Symbol\((.*)\)[^)]+$/;c(p,"description",{configurable:!0,get:function(){var e=s(this)?this.valueOf():this,t=f.call(e);if(a(d,e))return"";var n=m?t.slice(7,-1):t.replace(g,"$1");return""===n?void 0:n}}),r({global:!0,forced:!0},{Symbol:h})}},"4c1C":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n("//0v"))},"55+8":function(e,t,n){"use strict";n.r(t);var r;n("sMBO"),n("rB9j"),n("UxlC");t.default=(r=function(e,t){e.modeURL||(e.modeURL="../mode/%N/%N.js");var n={};function r(t,n){var r=e.modes[t].dependencies;if(!r)return n();for(var i=[],o=0;o<r.length;++o)e.modes.hasOwnProperty(r[o])||i.push(r[o]);if(!i.length)return n();var a=function(e,t){var n=t;return function(){0==--n&&e()}}(n,i.length);for(o=0;o<i.length;++o)e.requireMode(i[o],a)}e.requireMode=function(t,i){if("string"!=typeof t&&(t=t.name),e.modes.hasOwnProperty(t))return r(t,i);if(n.hasOwnProperty(t))return n[t].push(i);var o=e.modeURL.replace(/%N/g,t),a=document.createElement("script");a.src=o;var s=document.getElementsByTagName("script")[0],c=n[t]=[i];e.on(a,"load",(function(){r(t,(function(){for(var e=0;e<c.length;++e)c[e]()}))})),s.parentNode.insertBefore(a,s)},e.autoLoadMode=function(t,n){e.modes.hasOwnProperty(n)||e.requireMode(n,(function(){t.setOption("mode",t.getOption("mode"))}))}},void("object"==typeof exports&&"object"==typeof e?r(n("VrN/")):"function"==typeof define&&n("PDX0")?define(["codemirror"],(function(e){r(e)})):r(CodeMirror)))},"5LH7":function(e,t){var n=1e3,r=6e4,i=60*r,o=24*i,a=365.25*o;function s(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}e.exports=function(e,t){t=t||{};var c,l=typeof e;if("string"===l&&e.length>0)return function(e){if((e=String(e)).length>1e4)return;var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(!t)return;var s=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return s*a;case"days":case"day":case"d":return s*o;case"hours":case"hour":case"hrs":case"hr":case"h":return s*i;case"minutes":case"minute":case"mins":case"min":case"m":return s*r;case"seconds":case"second":case"secs":case"sec":case"s":return s*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}(e);if("number"===l&&!1===isNaN(e))return t.long?s(c=e,o,"day")||s(c,i,"hour")||s(c,r,"minute")||s(c,n,"second")||c+" ms":function(e){if(e>=o)return Math.round(e/o)+"d";if(e>=i)return Math.round(e/i)+"h";if(e>=r)return Math.round(e/r)+"m";if(e>=n)return Math.round(e/n)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},"5XSV":function(e,t,n){"use strict";n.r(t);var r=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input",type:"UpdateMeInput!"}],t=[{alias:null,args:[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"ViewerResponse",kind:"LinkedField",name:"updateMe",plural:!1,selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"Me",kind:"LinkedField",name:"me",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,concreteType:"UserSettings",kind:"LinkedField",name:"settings",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"theme",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"useThemeMutation",selections:t,type:"Mutation"},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"useThemeMutation",selections:t},params:{id:null,metadata:{},name:"useThemeMutation",operationKind:"mutation",text:"mutation useThemeMutation(\n  $input: UpdateMeInput!\n) {\n  updateMe(input: $input) {\n    viewer {\n      me {\n        id\n        settings {\n          theme\n        }\n      }\n    }\n  }\n}\n"}}}();r.hash="703845230823301ccf742e028cd83b65",t.default=r},"67Y/":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("mrSG"),i=n("FFOo");function o(e,t){return function(n){if("function"!==typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new a(e,t))}}var a=function(){function e(e,t){this.project=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.project,this.thisArg))},e}(),s=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.project=n,i.count=0,i.thisArg=r||i,i}return r.c(t,e),t.prototype._next=function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(t)},t}(i.a)},"69cX":function(e,t,n){"use strict";n.r(t);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CodeshareTitleFormField_codeshare",selections:[{alias:null,args:null,concreteType:"CanEdit",kind:"LinkedField",name:"canEdit",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"me",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"userIds",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"useCodeshareTitle_codeshare"}],type:"Codeshare",hash:"ff19f7e9f441897c38962242daaadf94"};t.default=r},"6O97":function(e,t,n){var r=n("7tlc"),i=n("7+id"),o=n("p7Ng"),a=n("zZgz"),s=n("0JNz"),c=n("zT9C");function l(e,t){var n,r=this;o.call(this),(e=e||{}).iceServers=e.iceServers||[];var i=s.browserDetails.browser;for(n in this.enableChromeNativeSimulcast=!1,t&&t.optional&&"chrome"===i&&null===navigator.appVersion.match(/Chromium\//)&&t.optional.forEach((function(e){e.enableChromeNativeSimulcast&&(r.enableChromeNativeSimulcast=!0)})),this.enableMultiStreamHacks=!1,t&&t.optional&&"chrome"===i&&t.optional.forEach((function(e){e.enableMultiStreamHacks&&(r.enableMultiStreamHacks=!0)})),this.restrictBandwidth=0,t&&t.optional&&t.optional.forEach((function(e){e.andyetRestrictBandwidth&&(r.restrictBandwidth=e.andyetRestrictBandwidth)})),this.batchIceCandidates=0,t&&t.optional&&t.optional.forEach((function(e){e.andyetBatchIce&&(r.batchIceCandidates=e.andyetBatchIce)})),this.batchedIceCandidates=[],t&&t.optional&&"chrome"===i&&t.optional.forEach((function(e){e.andyetFasterICE&&(r.eliminateDuplicateCandidates=e.andyetFasterICE)})),t&&t.optional&&t.optional.forEach((function(e){e.andyetDontSignalCandidates&&(r.dontSignalCandidates=e.andyetDontSignalCandidates)})),this.assumeSetLocalSuccess=!1,t&&t.optional&&t.optional.forEach((function(e){e.andyetAssumeSetLocalSuccess&&(r.assumeSetLocalSuccess=e.andyetAssumeSetLocalSuccess)})),"firefox"===i&&t&&t.optional&&(this.wtFirefox=0,t.optional.forEach((function(e){e.andyetFirefoxMakesMeSad&&(r.wtFirefox=e.andyetFirefoxMakesMeSad,r.wtFirefox>0&&(r.firefoxcandidatebuffer=[]))}))),this.pc=new a(e,t),this.getLocalStreams=this.pc.getLocalStreams.bind(this.pc),this.getRemoteStreams=this.pc.getRemoteStreams.bind(this.pc),this.addStream=this.pc.addStream.bind(this.pc),this.removeStream=this.pc.removeStream.bind(this.pc),this.pc.on("*",(function(){r.emit.apply(r,arguments)})),this.pc.onremovestream=this.emit.bind(this,"removeStream"),this.pc.onaddstream=this.emit.bind(this,"addStream"),this.pc.onnegotiationneeded=this.emit.bind(this,"negotiationNeeded"),this.pc.oniceconnectionstatechange=this.emit.bind(this,"iceConnectionStateChange"),this.pc.onsignalingstatechange=this.emit.bind(this,"signalingStateChange"),this.pc.onicecandidate=this._onIce.bind(this),this.pc.ondatachannel=this._onDataChannel.bind(this),this.localDescription={contents:[]},this.remoteDescription={contents:[]},this.config={debug:!1,sid:"",isInitiator:!0,sdpSessionID:Date.now(),useJingle:!1},this.iceCredentials={local:{},remote:{}},e)this.config[n]=e[n];this.config.debug&&this.on("*",(function(){var t=e.logger||console;t.log("PeerConnection event:",arguments)})),this.hadLocalStunCandidate=!1,this.hadRemoteStunCandidate=!1,this.hadLocalRelayCandidate=!1,this.hadRemoteRelayCandidate=!1,this.hadLocalIPv6Candidate=!1,this.hadRemoteIPv6Candidate=!1,this._remoteDataChannels=[],this._localDataChannels=[],this._candidateBuffer=[]}r.inherits(l,o),Object.defineProperty(l.prototype,"signalingState",{get:function(){return this.pc.signalingState}}),Object.defineProperty(l.prototype,"iceConnectionState",{get:function(){return this.pc.iceConnectionState}}),l.prototype._role=function(){return this.isInitiator?"initiator":"responder"},l.prototype.addStream=function(e){this.localStream=e,this.pc.addStream(e)},l.prototype._checkLocalCandidate=function(e){var t=i.toCandidateJSON(e);"srflx"==t.type?this.hadLocalStunCandidate=!0:"relay"==t.type&&(this.hadLocalRelayCandidate=!0),-1!=t.ip.indexOf(":")&&(this.hadLocalIPv6Candidate=!0)},l.prototype._checkRemoteCandidate=function(e){var t=i.toCandidateJSON(e);"srflx"==t.type?this.hadRemoteStunCandidate=!0:"relay"==t.type&&(this.hadRemoteRelayCandidate=!0),-1!=t.ip.indexOf(":")&&(this.hadRemoteIPv6Candidate=!0)},l.prototype.processIce=function(e,t){t=t||function(){};var n=this;if("closed"===this.pc.signalingState)return t();if(e.contents||e.jingle&&e.jingle.contents){var r=this.remoteDescription.contents.map((function(e){return e.name}));(e.contents||e.jingle.contents).forEach((function(e){var o=e.transport||{},a=o.candidates||[],s=r.indexOf(e.name),c=e.name,l=n.remoteDescription.contents.find((function(t){return t.name===e.name})),u=function(){a.forEach((function(e){var t=i.toCandidateSDP(e)+"\r\n";n.pc.addIceCandidate(new RTCIceCandidate({candidate:t,sdpMLineIndex:s,sdpMid:c}),(function(){}),(function(e){n.emit("error",e)})),n._checkRemoteCandidate(t)})),t()};if(n.iceCredentials.remote[e.name]&&o.ufrag&&n.iceCredentials.remote[e.name].ufrag!==o.ufrag)if(l){l.transport.ufrag=o.ufrag,l.transport.pwd=o.pwd;var d={type:"offer",jingle:n.remoteDescription};d.sdp=i.toSessionSDP(d.jingle,{sid:n.config.sdpSessionID,role:n._role(),direction:"incoming"}),n.pc.setRemoteDescription(new RTCSessionDescription(d),(function(){u()}),(function(e){n.emit("error",e)}))}else n.emit("error","ice restart failed to find matching content");else u()}))}else{if(e.candidate&&0!==e.candidate.candidate.indexOf("a=")&&(e.candidate.candidate="a="+e.candidate.candidate),this.wtFirefox&&null!==this.firefoxcandidatebuffer&&this.pc.localDescription&&"offer"===this.pc.localDescription.type)return this.firefoxcandidatebuffer.push(e.candidate),t();n.pc.addIceCandidate(new RTCIceCandidate(e.candidate),(function(){}),(function(e){n.emit("error",e)})),n._checkRemoteCandidate(e.candidate.candidate),t()}},l.prototype.offer=function(e,t){var n=this,r=2===arguments.length,o=r&&e?e:{offerToReceiveAudio:1,offerToReceiveVideo:1};if(t=(t=r?t:e)||function(){},"closed"===this.pc.signalingState)return t("Already closed");this.pc.createOffer((function(e){var r={type:"offer",sdp:e.sdp};n.assumeSetLocalSuccess&&(n.emit("offer",r),t(null,r)),n._candidateBuffer=[],n.pc.setLocalDescription(e,(function(){var o;n.config.useJingle&&((o=i.toSessionJSON(e.sdp,{role:n._role(),direction:"outgoing"})).sid=n.config.sid,n.localDescription=o,o.contents.forEach((function(e){var t=e.transport||{};t.ufrag&&(n.iceCredentials.local[e.name]={ufrag:t.ufrag,pwd:t.pwd})})),r.jingle=o),r.sdp.split("\r\n").forEach((function(e){0===e.indexOf("a=candidate:")&&n._checkLocalCandidate(e)})),n.assumeSetLocalSuccess||(n.emit("offer",r),t(null,r))}),(function(e){n.emit("error",e),t(e)}))}),(function(e){n.emit("error",e),t(e)}),o)},l.prototype.handleOffer=function(e,t){t=t||function(){};var n=this;if(e.type="offer",e.jingle){if(this.enableChromeNativeSimulcast&&e.jingle.contents.forEach((function(e){"video"===e.name&&(e.application.googConferenceFlag=!0)})),this.enableMultiStreamHacks&&e.jingle.contents.forEach((function(e){if("video"===e.name){var t=e.application.sources||[];0!==t.length&&"3735928559"===t[0].ssrc||(t.unshift({ssrc:"3735928559",parameters:[{key:"cname",value:"deadbeef"},{key:"msid",value:"mixyourfecintothis please"}]}),e.application.sources=t)}})),n.restrictBandwidth>0&&e.jingle.contents.length>=2&&"video"===e.jingle.contents[1].name){var r=e.jingle.contents[1];r.application&&r.application.bandwidth&&r.application.bandwidth.bandwidth||(e.jingle.contents[1].application.bandwidth={type:"AS",bandwidth:n.restrictBandwidth.toString()},e.sdp=i.toSessionSDP(e.jingle,{sid:n.config.sdpSessionID,role:n._role(),direction:"outgoing"}))}e.jingle.contents.forEach((function(e){var t=e.transport||{};t.ufrag&&(n.iceCredentials.remote[e.name]={ufrag:t.ufrag,pwd:t.pwd})})),e.sdp=i.toSessionSDP(e.jingle,{sid:n.config.sdpSessionID,role:n._role(),direction:"incoming"}),n.remoteDescription=e.jingle}e.sdp.split("\r\n").forEach((function(e){0===e.indexOf("a=candidate:")&&n._checkRemoteCandidate(e)})),n.pc.setRemoteDescription(new RTCSessionDescription(e),(function(){t()}),t)},l.prototype.answerAudioOnly=function(e){this._answer({mandatory:{OfferToReceiveAudio:!0,OfferToReceiveVideo:!1}},e)},l.prototype.answerBroadcastOnly=function(e){this._answer({mandatory:{OfferToReceiveAudio:!1,OfferToReceiveVideo:!1}},e)},l.prototype.answer=function(e,t){var n=2===arguments.length,r=n?t:e,i=n&&e?e:{mandatory:{OfferToReceiveAudio:!0,OfferToReceiveVideo:!0}};this._answer(i,r)},l.prototype.handleAnswer=function(e,t){t=t||function(){};var n=this;e.jingle&&(e.sdp=i.toSessionSDP(e.jingle,{sid:n.config.sdpSessionID,role:n._role(),direction:"incoming"}),n.remoteDescription=e.jingle,e.jingle.contents.forEach((function(e){var t=e.transport||{};t.ufrag&&(n.iceCredentials.remote[e.name]={ufrag:t.ufrag,pwd:t.pwd})}))),e.sdp.split("\r\n").forEach((function(e){0===e.indexOf("a=candidate:")&&n._checkRemoteCandidate(e)})),n.pc.setRemoteDescription(new RTCSessionDescription(e),(function(){n.wtFirefox&&window.setTimeout((function(){n.firefoxcandidatebuffer.forEach((function(e){n.pc.addIceCandidate(new RTCIceCandidate(e),(function(){}),(function(e){n.emit("error",e)})),n._checkRemoteCandidate(e.candidate)})),n.firefoxcandidatebuffer=null}),n.wtFirefox),t(null)}),t)},l.prototype.close=function(){this.pc.close(),this._localDataChannels=[],this._remoteDataChannels=[],this.emit("close")},l.prototype._answer=function(e,t){t=t||function(){};var n=this;if(!this.pc.remoteDescription)throw new Error("remoteDescription not set");if("closed"===this.pc.signalingState)return t("Already closed");n.pc.createAnswer((function(e){var r=[];if(n.enableChromeNativeSimulcast&&(e.jingle=i.toSessionJSON(e.sdp,{role:n._role(),direction:"outgoing"}),e.jingle.contents.length>=2&&"video"===e.jingle.contents[1].name)){var o=e.jingle.contents[1].application.sourceGroups||[],a=!1;if(o.forEach((function(e){"SIM"==e.semantics&&(a=!0)})),!a&&e.jingle.contents[1].application.sources.length){var s=JSON.parse(JSON.stringify(e.jingle.contents[1].application.sources[0]));s.ssrc=""+Math.floor(4294967295*Math.random()),e.jingle.contents[1].application.sources.push(s),r.push(e.jingle.contents[1].application.sources[0].ssrc),r.push(s.ssrc),o.push({semantics:"SIM",sources:r});var l=JSON.parse(JSON.stringify(s));l.ssrc=""+Math.floor(4294967295*Math.random()),e.jingle.contents[1].application.sources.push(l),o.push({semantics:"FID",sources:[s.ssrc,l.ssrc]}),e.jingle.contents[1].application.sourceGroups=o,e.sdp=i.toSessionSDP(e.jingle,{sid:n.config.sdpSessionID,role:n._role(),direction:"outgoing"})}}var u={type:"answer",sdp:e.sdp};if(n.assumeSetLocalSuccess){var d=c(u);n.emit("answer",d),t(null,d)}n._candidateBuffer=[],n.pc.setLocalDescription(e,(function(){if(n.config.useJingle){var r=i.toSessionJSON(e.sdp,{role:n._role(),direction:"outgoing"});r.sid=n.config.sid,n.localDescription=r,u.jingle=r}if(n.enableChromeNativeSimulcast&&(u.jingle||(u.jingle=i.toSessionJSON(e.sdp,{role:n._role(),direction:"outgoing"})),u.jingle.contents[1].application.sources.forEach((function(e,t){e.parameters=e.parameters.map((function(e){return"msid"===e.key&&(e.value+="-"+Math.floor(t/2)),e}))})),u.sdp=i.toSessionSDP(u.jingle,{sid:n.sdpSessionID,role:n._role(),direction:"outgoing"})),u.sdp.split("\r\n").forEach((function(e){0===e.indexOf("a=candidate:")&&n._checkLocalCandidate(e)})),!n.assumeSetLocalSuccess){var o=c(u);n.emit("answer",o),t(null,o)}}),(function(e){n.emit("error",e),t(e)}))}),(function(e){n.emit("error",e),t(e)}),e)},l.prototype._onIce=function(e){var t=this;if(e.candidate){if(this.dontSignalCandidates)return;var n=e.candidate,r={candidate:{candidate:n.candidate,sdpMid:n.sdpMid,sdpMLineIndex:n.sdpMLineIndex}};this._checkLocalCandidate(n.candidate);var o,a,s=i.toCandidateJSON(n.candidate);if(this.eliminateDuplicateCandidates&&"relay"===s.type&&(a=(o=this._candidateBuffer.filter((function(e){return"relay"===e.type})).map((function(e){return e.foundation+":"+e.component}))).indexOf(s.foundation+":"+s.component))>-1&&s.priority>>24>=o[a].priority>>24)return;if("max-bundle"===this.config.bundlePolicy&&(a=(o=this._candidateBuffer.filter((function(e){return s.type===e.type})).map((function(e){return e.address+":"+e.port}))).indexOf(s.address+":"+s.port))>-1)return;if("require"===this.config.rtcpMuxPolicy&&"2"===s.component)return;if(this._candidateBuffer.push(s),t.config.useJingle){if(n.sdpMid||(t.pc.remoteDescription&&"offer"===t.pc.remoteDescription.type?n.sdpMid=t.remoteDescription.contents[n.sdpMLineIndex].name:n.sdpMid=t.localDescription.contents[n.sdpMLineIndex].name),!t.iceCredentials.local[n.sdpMid])i.toSessionJSON(t.pc.localDescription.sdp,{role:t._role(),direction:"outgoing"}).contents.forEach((function(e){var n=e.transport||{};n.ufrag&&(t.iceCredentials.local[e.name]={ufrag:n.ufrag,pwd:n.pwd})}));if(r.jingle={contents:[{name:n.sdpMid,creator:t._role(),transport:{transportType:"iceUdp",ufrag:t.iceCredentials.local[n.sdpMid].ufrag,pwd:t.iceCredentials.local[n.sdpMid].pwd,candidates:[s]}}]},t.batchIceCandidates>0)return 0===t.batchedIceCandidates.length&&window.setTimeout((function(){var e={};t.batchedIceCandidates.forEach((function(t){t=t.contents[0],e[t.name]||(e[t.name]=t),e[t.name].transport.candidates.push(t.transport.candidates[0])}));var n={jingle:{contents:[]}};Object.keys(e).forEach((function(t){n.jingle.contents.push(e[t])})),t.batchedIceCandidates=[],t.emit("ice",n)}),t.batchIceCandidates),void t.batchedIceCandidates.push(r.jingle)}this.emit("ice",r)}else this.emit("endOfCandidates")},l.prototype._onDataChannel=function(e){var t=e.channel;this._remoteDataChannels.push(t),this.emit("addChannel",t)},l.prototype.createDataChannel=function(e,t){var n=this.pc.createDataChannel(e,t);return this._localDataChannels.push(n),n},l.prototype.getStats=function(e){this.pc.getStats(null,(function(t){e(null,t)}),(function(t){e(t)}))},e.exports=l},"6W4v":function(e,t,n){"use strict";n.r(t);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CodeshareSidebarSubscription_me",selections:[{args:null,kind:"FragmentSpread",name:"CodeshareSettingsFormSubscription_me"}],type:"Me",hash:"fb020ffccca7982ae5c81923d87b4fda"};t.default=r},"6ahw":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("iLxQ"),i=n("DKTb"),o={closed:!0,next:function(e){},error:function(e){if(r.a.useDeprecatedSynchronousErrorHandling)throw e;Object(i.a)(e)},complete:function(){}}},"6blF":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("1fDf"),i=n("FFOo"),o=n("L/V9"),a=n("6ahw");var s=n("xTla"),c=n("y3By"),l=n("iLxQ"),u=function(){function e(e){this._isScalar=!1,e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var r=this.operator,s=function(e,t,n){if(e){if(e instanceof i.a)return e;if(e[o.a])return e[o.a]()}return e||t||n?new i.a(e,t,n):new i.a(a.a)}(e,t,n);if(r?s.add(r.call(s,this.source)):s.add(this.source||l.a.useDeprecatedSynchronousErrorHandling&&!s.syncErrorThrowable?this._subscribe(s):this._trySubscribe(s)),l.a.useDeprecatedSynchronousErrorHandling&&s.syncErrorThrowable&&(s.syncErrorThrowable=!1,s.syncErrorThrown))throw s.syncErrorValue;return s},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){l.a.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),Object(r.a)(e)?e.error(t):console.warn(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=d(t))((function(t,r){var i;i=n.subscribe((function(t){try{e(t)}catch(n){r(n),i&&i.unsubscribe()}}),r,t)}))},e.prototype._subscribe=function(e){var t=this.source;return t&&t.subscribe(e)},e.prototype[s.a]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?this:Object(c.b)(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=d(e))((function(e,n){var r;t.subscribe((function(e){return r=e}),(function(e){return n(e)}),(function(){return e(r)}))}))},e.create=function(t){return new e(t)},e}();function d(e){if(e||(e=l.a.Promise||Promise),!e)throw new Error("no Promise impl found");return e}},"6fGe":function(e,t,n){"use strict";!function(){var t=n("Ypoe").log,r=n("Ypoe").browserDetails;e.exports.browserDetails=r,e.exports.extractVersion=n("Ypoe").extractVersion,e.exports.disableLog=n("Ypoe").disableLog;var i=n("JIt6")||null,o=n("sgSL")||null,a=n("zmzR")||null,s=n("RkQG")||null;switch(r.browser){case"opera":case"chrome":if(!i||!i.shimPeerConnection)return void t("Chrome shim is not included in this adapter release.");t("adapter.js shimming chrome."),e.exports.browserShim=i,i.shimGetUserMedia(),i.shimMediaStream(),i.shimSourceObject(),i.shimPeerConnection(),i.shimOnTrack();break;case"firefox":if(!a||!a.shimPeerConnection)return void t("Firefox shim is not included in this adapter release.");t("adapter.js shimming firefox."),e.exports.browserShim=a,a.shimGetUserMedia(),a.shimSourceObject(),a.shimPeerConnection(),a.shimOnTrack();break;case"edge":if(!o||!o.shimPeerConnection)return void t("MS edge shim is not included in this adapter release.");t("adapter.js shimming edge."),e.exports.browserShim=o,o.shimGetUserMedia(),o.shimPeerConnection();break;case"safari":if(!s)return void t("Safari shim is not included in this adapter release.");t("adapter.js shimming safari."),e.exports.browserShim=s,s.shimGetUserMedia();break;default:t("Unsupported browser!")}}()},"6wyt":function(e,t,n){!function(e){"use strict";e.multiplexingMode=function(t){var n=Array.prototype.slice.call(arguments,1);function r(e,t,n,r){if("string"==typeof t){var i=e.indexOf(t,n);return r&&i>-1?i+t.length:i}var o=t.exec(n?e.slice(n):e);return o?o.index+n+(r?o[0].length:0):-1}return{startState:function(){return{outer:e.startState(t),innerActive:null,inner:null}},copyState:function(n){return{outer:e.copyState(t,n.outer),innerActive:n.innerActive,inner:n.innerActive&&e.copyState(n.innerActive.mode,n.inner)}},token:function(i,o){if(o.innerActive){var a=o.innerActive;if(l=i.string,!a.close&&i.sol())return o.innerActive=o.inner=null,this.token(i,o);if((d=a.close?r(l,a.close,i.pos,a.parseDelimiters):-1)==i.pos&&!a.parseDelimiters)return i.match(a.close),o.innerActive=o.inner=null,a.delimStyle&&a.delimStyle+" "+a.delimStyle+"-close";d>-1&&(i.string=l.slice(0,d));var s=a.mode.token(i,o.inner);return d>-1&&(i.string=l),d==i.pos&&a.parseDelimiters&&(o.innerActive=o.inner=null),a.innerStyle&&(s=s?s+" "+a.innerStyle:a.innerStyle),s}for(var c=1/0,l=i.string,u=0;u<n.length;++u){var d,h=n[u];if((d=r(l,h.open,i.pos))==i.pos){h.parseDelimiters||i.match(h.open),o.innerActive=h;var p=0;if(t.indent){var f=t.indent(o.outer,"","");f!==e.Pass&&(p=f)}return o.inner=e.startState(h.mode,p),h.delimStyle&&h.delimStyle+" "+h.delimStyle+"-open"}-1!=d&&d<c&&(c=d)}c!=1/0&&(i.string=l.slice(0,c));var m=t.token(i,o.outer);return c!=1/0&&(i.string=l),m},indent:function(n,r,i){var o=n.innerActive?n.innerActive.mode:t;return o.indent?o.indent(n.innerActive?n.inner:n.outer,r,i):e.Pass},blankLine:function(r){var i=r.innerActive?r.innerActive.mode:t;if(i.blankLine&&i.blankLine(r.innerActive?r.inner:r.outer),r.innerActive)"\n"===r.innerActive.close&&(r.innerActive=r.inner=null);else for(var o=0;o<n.length;++o){var a=n[o];"\n"===a.open&&(r.innerActive=a,r.inner=e.startState(a.mode,i.indent?i.indent(r.outer,"",""):0))}},electricChars:t.electricChars,innerMode:function(e){return e.inner?{state:e.inner,mode:e.innerActive.mode}:{state:e.outer,mode:t}}}}}(n("VrN/"))},"7+id":function(e,t,n){var r=n("GG1g"),i=n("CNtn");t.toIncomingSDPOffer=function(e){return r.toSessionSDP(e,{role:"responder",direction:"incoming"})},t.toOutgoingSDPOffer=function(e){return r.toSessionSDP(e,{role:"initiator",direction:"outgoing"})},t.toIncomingSDPAnswer=function(e){return r.toSessionSDP(e,{role:"initiator",direction:"incoming"})},t.toOutgoingSDPAnswer=function(e){return r.toSessionSDP(e,{role:"responder",direction:"outgoing"})},t.toIncomingMediaSDPOffer=function(e){return r.toMediaSDP(e,{role:"responder",direction:"incoming"})},t.toOutgoingMediaSDPOffer=function(e){return r.toMediaSDP(e,{role:"initiator",direction:"outgoing"})},t.toIncomingMediaSDPAnswer=function(e){return r.toMediaSDP(e,{role:"initiator",direction:"incoming"})},t.toOutgoingMediaSDPAnswer=function(e){return r.toMediaSDP(e,{role:"responder",direction:"outgoing"})},t.toCandidateSDP=r.toCandidateSDP,t.toMediaSDP=r.toMediaSDP,t.toSessionSDP=r.toSessionSDP,t.toIncomingJSONOffer=function(e,t){return i.toSessionJSON(e,{role:"responder",direction:"incoming",creators:t})},t.toOutgoingJSONOffer=function(e,t){return i.toSessionJSON(e,{role:"initiator",direction:"outgoing",creators:t})},t.toIncomingJSONAnswer=function(e,t){return i.toSessionJSON(e,{role:"initiator",direction:"incoming",creators:t})},t.toOutgoingJSONAnswer=function(e,t){return i.toSessionJSON(e,{role:"responder",direction:"outgoing",creators:t})},t.toIncomingMediaJSONOffer=function(e,t){return i.toMediaJSON(e,{role:"responder",direction:"incoming",creator:t})},t.toOutgoingMediaJSONOffer=function(e,t){return i.toMediaJSON(e,{role:"initiator",direction:"outgoing",creator:t})},t.toIncomingMediaJSONAnswer=function(e,t){return i.toMediaJSON(e,{role:"initiator",direction:"incoming",creator:t})},t.toOutgoingMediaJSONAnswer=function(e,t){return i.toMediaJSON(e,{role:"responder",direction:"outgoing",creator:t})},t.toCandidateJSON=i.toCandidateJSON,t.toMediaJSON=i.toMediaJSON,t.toSessionJSON=i.toSessionJSON},"72mu":function(e,t,n){"use strict";n.r(t);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CodeshareEditor_me",selections:[{args:null,kind:"FragmentSpread",name:"CodeshareFirepad_me"}],type:"Me",hash:"bf03c44d9ffbd7498b47fac5d290a5ac"};t.default=r},"7jRU":function(e,t){var n=[].indexOf;e.exports=function(e,t){if(n)return e.indexOf(t);for(var r=0;r<e.length;++r)if(e[r]===t)return r;return-1}},"7oZY":function(e,t,n){"use strict";n.r(t);var r=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input",type:"CodeshareUpdatesInput!"}],t=[{kind:"Variable",name:"input",variableName:"input"}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"CodeshareIdCodeshareSubscription",selections:[{alias:null,args:t,concreteType:"CodeshareUpdatesPayload",kind:"LinkedField",name:"codeshareUpdates",plural:!1,selections:[{alias:null,args:null,concreteType:"Codeshare",kind:"LinkedField",name:"codeshare",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CodesharePageSubscription_codeshare"}],storageKey:null}],storageKey:null}],type:"Subscription"},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"CodeshareIdCodeshareSubscription",selections:[{alias:null,args:t,concreteType:"CodeshareUpdatesPayload",kind:"LinkedField",name:"codeshareUpdates",plural:!1,selections:[{alias:null,args:null,concreteType:"Codeshare",kind:"LinkedField",name:"codeshare",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"createdAt",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,concreteType:"CanEdit",kind:"LinkedField",name:"canEdit",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"me",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"userIds",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"modeName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"tabSize",storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:null,metadata:{},name:"CodeshareIdCodeshareSubscription",operationKind:"subscription",text:"subscription CodeshareIdCodeshareSubscription(\n  $input: CodeshareUpdatesInput!\n) {\n  codeshareUpdates(input: $input) {\n    codeshare {\n      ...CodesharePageSubscription_codeshare\n      id\n    }\n  }\n}\n\nfragment CodeshareModeNameFormField_codeshare on Codeshare {\n  ...useCodeshareModeName_codeshare\n  canEdit {\n    me\n    userIds\n  }\n}\n\nfragment CodesharePageSubscription_codeshare on Codeshare {\n  ...CodeshareSidebarSubscription_codeshare\n}\n\nfragment CodeshareSettingsFormSubscription_codeshare on Codeshare {\n  ...CodeshareTitleFormField_codeshare\n  ...CodeshareModeNameFormField_codeshare\n  ...CodeshareTabSizeFormField_codeshare\n}\n\nfragment CodeshareSidebarSubscription_codeshare on Codeshare {\n  ...CodeshareSettingsFormSubscription_codeshare\n}\n\nfragment CodeshareTabSizeFormField_codeshare on Codeshare {\n  ...useCodeshareTabSize_codeshare\n  canEdit {\n    me\n    userIds\n  }\n}\n\nfragment CodeshareTitleFormField_codeshare on Codeshare {\n  ...useCodeshareTitle_codeshare\n  canEdit {\n    me\n    userIds\n  }\n}\n\nfragment useCodeshareModeName_codeshare on Codeshare {\n  id\n  modeName\n}\n\nfragment useCodeshareTabSize_codeshare on Codeshare {\n  id\n  tabSize\n}\n\nfragment useCodeshareTitle_codeshare on Codeshare {\n  id\n  createdAt\n  title\n}\n"}}}();r.hash="e1ae83afdcb8caac44276dde9b210298",t.default=r},"8EBN":function(e,t,n){!function(e){"use strict";e.modeInfo=[{name:"APL",mime:"text/apl",mode:"apl",ext:["dyalog","apl"]},{name:"PGP",mimes:["application/pgp","application/pgp-encrypted","application/pgp-keys","application/pgp-signature"],mode:"asciiarmor",ext:["asc","pgp","sig"]},{name:"ASN.1",mime:"text/x-ttcn-asn",mode:"asn.1",ext:["asn","asn1"]},{name:"Asterisk",mime:"text/x-asterisk",mode:"asterisk",file:/^extensions\.conf$/i},{name:"Brainfuck",mime:"text/x-brainfuck",mode:"brainfuck",ext:["b","bf"]},{name:"C",mime:"text/x-csrc",mode:"clike",ext:["c","h","ino"]},{name:"C++",mime:"text/x-c++src",mode:"clike",ext:["cpp","c++","cc","cxx","hpp","h++","hh","hxx"],alias:["cpp"]},{name:"Cobol",mime:"text/x-cobol",mode:"cobol",ext:["cob","cpy"]},{name:"C#",mime:"text/x-csharp",mode:"clike",ext:["cs"],alias:["csharp","cs"]},{name:"Clojure",mime:"text/x-clojure",mode:"clojure",ext:["clj","cljc","cljx"]},{name:"ClojureScript",mime:"text/x-clojurescript",mode:"clojure",ext:["cljs"]},{name:"Closure Stylesheets (GSS)",mime:"text/x-gss",mode:"css",ext:["gss"]},{name:"CMake",mime:"text/x-cmake",mode:"cmake",ext:["cmake","cmake.in"],file:/^CMakeLists.txt$/},{name:"CoffeeScript",mimes:["application/vnd.coffeescript","text/coffeescript","text/x-coffeescript"],mode:"coffeescript",ext:["coffee"],alias:["coffee","coffee-script"]},{name:"Common Lisp",mime:"text/x-common-lisp",mode:"commonlisp",ext:["cl","lisp","el"],alias:["lisp"]},{name:"Cypher",mime:"application/x-cypher-query",mode:"cypher",ext:["cyp","cypher"]},{name:"Cython",mime:"text/x-cython",mode:"python",ext:["pyx","pxd","pxi"]},{name:"Crystal",mime:"text/x-crystal",mode:"crystal",ext:["cr"]},{name:"CSS",mime:"text/css",mode:"css",ext:["css"]},{name:"CQL",mime:"text/x-cassandra",mode:"sql",ext:["cql"]},{name:"D",mime:"text/x-d",mode:"d",ext:["d"]},{name:"Dart",mimes:["application/dart","text/x-dart"],mode:"dart",ext:["dart"]},{name:"diff",mime:"text/x-diff",mode:"diff",ext:["diff","patch"]},{name:"Django",mime:"text/x-django",mode:"django"},{name:"Dockerfile",mime:"text/x-dockerfile",mode:"dockerfile",file:/^Dockerfile$/},{name:"DTD",mime:"application/xml-dtd",mode:"dtd",ext:["dtd"]},{name:"Dylan",mime:"text/x-dylan",mode:"dylan",ext:["dylan","dyl","intr"]},{name:"EBNF",mime:"text/x-ebnf",mode:"ebnf"},{name:"ECL",mime:"text/x-ecl",mode:"ecl",ext:["ecl"]},{name:"edn",mime:"application/edn",mode:"clojure",ext:["edn"]},{name:"Eiffel",mime:"text/x-eiffel",mode:"eiffel",ext:["e"]},{name:"Elm",mime:"text/x-elm",mode:"elm",ext:["elm"]},{name:"Embedded Javascript",mime:"application/x-ejs",mode:"htmlembedded",ext:["ejs"]},{name:"Embedded Ruby",mime:"application/x-erb",mode:"htmlembedded",ext:["erb"]},{name:"Erlang",mime:"text/x-erlang",mode:"erlang",ext:["erl"]},{name:"Esper",mime:"text/x-esper",mode:"sql"},{name:"Factor",mime:"text/x-factor",mode:"factor",ext:["factor"]},{name:"FCL",mime:"text/x-fcl",mode:"fcl"},{name:"Forth",mime:"text/x-forth",mode:"forth",ext:["forth","fth","4th"]},{name:"Fortran",mime:"text/x-fortran",mode:"fortran",ext:["f","for","f77","f90","f95"]},{name:"F#",mime:"text/x-fsharp",mode:"mllike",ext:["fs"],alias:["fsharp"]},{name:"Gas",mime:"text/x-gas",mode:"gas",ext:["s"]},{name:"Gherkin",mime:"text/x-feature",mode:"gherkin",ext:["feature"]},{name:"GitHub Flavored Markdown",mime:"text/x-gfm",mode:"gfm",file:/^(readme|contributing|history).md$/i},{name:"Go",mime:"text/x-go",mode:"go",ext:["go"]},{name:"Groovy",mime:"text/x-groovy",mode:"groovy",ext:["groovy","gradle"],file:/^Jenkinsfile$/},{name:"HAML",mime:"text/x-haml",mode:"haml",ext:["haml"]},{name:"Haskell",mime:"text/x-haskell",mode:"haskell",ext:["hs"]},{name:"Haskell (Literate)",mime:"text/x-literate-haskell",mode:"haskell-literate",ext:["lhs"]},{name:"Haxe",mime:"text/x-haxe",mode:"haxe",ext:["hx"]},{name:"HXML",mime:"text/x-hxml",mode:"haxe",ext:["hxml"]},{name:"ASP.NET",mime:"application/x-aspx",mode:"htmlembedded",ext:["aspx"],alias:["asp","aspx"]},{name:"HTML",mime:"text/html",mode:"htmlmixed",ext:["html","htm","handlebars","hbs"],alias:["xhtml"]},{name:"HTTP",mime:"message/http",mode:"http"},{name:"IDL",mime:"text/x-idl",mode:"idl",ext:["pro"]},{name:"Pug",mime:"text/x-pug",mode:"pug",ext:["jade","pug"],alias:["jade"]},{name:"Java",mime:"text/x-java",mode:"clike",ext:["java"]},{name:"Java Server Pages",mime:"application/x-jsp",mode:"htmlembedded",ext:["jsp"],alias:["jsp"]},{name:"JavaScript",mimes:["text/javascript","text/ecmascript","application/javascript","application/x-javascript","application/ecmascript"],mode:"javascript",ext:["js"],alias:["ecmascript","js","node"]},{name:"JSON",mimes:["application/json","application/x-json"],mode:"javascript",ext:["json","map"],alias:["json5"]},{name:"JSON-LD",mime:"application/ld+json",mode:"javascript",ext:["jsonld"],alias:["jsonld"]},{name:"JSX",mime:"text/jsx",mode:"jsx",ext:["jsx"]},{name:"Jinja2",mime:"text/jinja2",mode:"jinja2",ext:["j2","jinja","jinja2"]},{name:"Julia",mime:"text/x-julia",mode:"julia",ext:["jl"]},{name:"Kotlin",mime:"text/x-kotlin",mode:"clike",ext:["kt"]},{name:"LESS",mime:"text/x-less",mode:"css",ext:["less"]},{name:"LiveScript",mime:"text/x-livescript",mode:"livescript",ext:["ls"],alias:["ls"]},{name:"Lua",mime:"text/x-lua",mode:"lua",ext:["lua"]},{name:"Markdown",mime:"text/x-markdown",mode:"markdown",ext:["markdown","md","mkd"]},{name:"mIRC",mime:"text/mirc",mode:"mirc"},{name:"MariaDB SQL",mime:"text/x-mariadb",mode:"sql"},{name:"Mathematica",mime:"text/x-mathematica",mode:"mathematica",ext:["m","nb","wl","wls"]},{name:"Modelica",mime:"text/x-modelica",mode:"modelica",ext:["mo"]},{name:"MUMPS",mime:"text/x-mumps",mode:"mumps",ext:["mps"]},{name:"MS SQL",mime:"text/x-mssql",mode:"sql"},{name:"mbox",mime:"application/mbox",mode:"mbox",ext:["mbox"]},{name:"MySQL",mime:"text/x-mysql",mode:"sql"},{name:"Nginx",mime:"text/x-nginx-conf",mode:"nginx",file:/nginx.*\.conf$/i},{name:"NSIS",mime:"text/x-nsis",mode:"nsis",ext:["nsh","nsi"]},{name:"NTriples",mimes:["application/n-triples","application/n-quads","text/n-triples"],mode:"ntriples",ext:["nt","nq"]},{name:"Objective-C",mime:"text/x-objectivec",mode:"clike",ext:["m"],alias:["objective-c","objc"]},{name:"Objective-C++",mime:"text/x-objectivec++",mode:"clike",ext:["mm"],alias:["objective-c++","objc++"]},{name:"OCaml",mime:"text/x-ocaml",mode:"mllike",ext:["ml","mli","mll","mly"]},{name:"Octave",mime:"text/x-octave",mode:"octave",ext:["m"]},{name:"Oz",mime:"text/x-oz",mode:"oz",ext:["oz"]},{name:"Pascal",mime:"text/x-pascal",mode:"pascal",ext:["p","pas"]},{name:"PEG.js",mime:"null",mode:"pegjs",ext:["jsonld"]},{name:"Perl",mime:"text/x-perl",mode:"perl",ext:["pl","pm"]},{name:"PHP",mimes:["text/x-php","application/x-httpd-php","application/x-httpd-php-open"],mode:"php",ext:["php","php3","php4","php5","php7","phtml"]},{name:"Pig",mime:"text/x-pig",mode:"pig",ext:["pig"]},{name:"Plain Text",mime:"text/plain",mode:"null",ext:["txt","text","conf","def","list","log"]},{name:"PLSQL",mime:"text/x-plsql",mode:"sql",ext:["pls"]},{name:"PostgreSQL",mime:"text/x-pgsql",mode:"sql"},{name:"PowerShell",mime:"application/x-powershell",mode:"powershell",ext:["ps1","psd1","psm1"]},{name:"Properties files",mime:"text/x-properties",mode:"properties",ext:["properties","ini","in"],alias:["ini","properties"]},{name:"ProtoBuf",mime:"text/x-protobuf",mode:"protobuf",ext:["proto"]},{name:"Python",mime:"text/x-python",mode:"python",ext:["BUILD","bzl","py","pyw"],file:/^(BUCK|BUILD)$/},{name:"Puppet",mime:"text/x-puppet",mode:"puppet",ext:["pp"]},{name:"Q",mime:"text/x-q",mode:"q",ext:["q"]},{name:"R",mime:"text/x-rsrc",mode:"r",ext:["r","R"],alias:["rscript"]},{name:"reStructuredText",mime:"text/x-rst",mode:"rst",ext:["rst"],alias:["rst"]},{name:"RPM Changes",mime:"text/x-rpm-changes",mode:"rpm"},{name:"RPM Spec",mime:"text/x-rpm-spec",mode:"rpm",ext:["spec"]},{name:"Ruby",mime:"text/x-ruby",mode:"ruby",ext:["rb"],alias:["jruby","macruby","rake","rb","rbx"]},{name:"Rust",mime:"text/x-rustsrc",mode:"rust",ext:["rs"]},{name:"SAS",mime:"text/x-sas",mode:"sas",ext:["sas"]},{name:"Sass",mime:"text/x-sass",mode:"sass",ext:["sass"]},{name:"Scala",mime:"text/x-scala",mode:"clike",ext:["scala"]},{name:"Scheme",mime:"text/x-scheme",mode:"scheme",ext:["scm","ss"]},{name:"SCSS",mime:"text/x-scss",mode:"css",ext:["scss"]},{name:"Shell",mimes:["text/x-sh","application/x-sh"],mode:"shell",ext:["sh","ksh","bash"],alias:["bash","sh","zsh"],file:/^PKGBUILD$/},{name:"Sieve",mime:"application/sieve",mode:"sieve",ext:["siv","sieve"]},{name:"Slim",mimes:["text/x-slim","application/x-slim"],mode:"slim",ext:["slim"]},{name:"Smalltalk",mime:"text/x-stsrc",mode:"smalltalk",ext:["st"]},{name:"Smarty",mime:"text/x-smarty",mode:"smarty",ext:["tpl"]},{name:"Solr",mime:"text/x-solr",mode:"solr"},{name:"SML",mime:"text/x-sml",mode:"mllike",ext:["sml","sig","fun","smackspec"]},{name:"Soy",mime:"text/x-soy",mode:"soy",ext:["soy"],alias:["closure template"]},{name:"SPARQL",mime:"application/sparql-query",mode:"sparql",ext:["rq","sparql"],alias:["sparul"]},{name:"Spreadsheet",mime:"text/x-spreadsheet",mode:"spreadsheet",alias:["excel","formula"]},{name:"SQL",mime:"text/x-sql",mode:"sql",ext:["sql"]},{name:"SQLite",mime:"text/x-sqlite",mode:"sql"},{name:"Squirrel",mime:"text/x-squirrel",mode:"clike",ext:["nut"]},{name:"Stylus",mime:"text/x-styl",mode:"stylus",ext:["styl"]},{name:"Swift",mime:"text/x-swift",mode:"swift",ext:["swift"]},{name:"sTeX",mime:"text/x-stex",mode:"stex"},{name:"LaTeX",mime:"text/x-latex",mode:"stex",ext:["text","ltx","tex"],alias:["tex"]},{name:"SystemVerilog",mime:"text/x-systemverilog",mode:"verilog",ext:["v","sv","svh"]},{name:"Tcl",mime:"text/x-tcl",mode:"tcl",ext:["tcl"]},{name:"Textile",mime:"text/x-textile",mode:"textile",ext:["textile"]},{name:"TiddlyWiki ",mime:"text/x-tiddlywiki",mode:"tiddlywiki"},{name:"Tiki wiki",mime:"text/tiki",mode:"tiki"},{name:"TOML",mime:"text/x-toml",mode:"toml",ext:["toml"]},{name:"Tornado",mime:"text/x-tornado",mode:"tornado"},{name:"troff",mime:"text/troff",mode:"troff",ext:["1","2","3","4","5","6","7","8","9"]},{name:"TTCN",mime:"text/x-ttcn",mode:"ttcn",ext:["ttcn","ttcn3","ttcnpp"]},{name:"TTCN_CFG",mime:"text/x-ttcn-cfg",mode:"ttcn-cfg",ext:["cfg"]},{name:"Turtle",mime:"text/turtle",mode:"turtle",ext:["ttl"]},{name:"TypeScript",mime:"application/typescript",mode:"javascript",ext:["ts"],alias:["ts"]},{name:"TypeScript-JSX",mime:"text/typescript-jsx",mode:"jsx",ext:["tsx"],alias:["tsx"]},{name:"Twig",mime:"text/x-twig",mode:"twig"},{name:"Web IDL",mime:"text/x-webidl",mode:"webidl",ext:["webidl"]},{name:"VB.NET",mime:"text/x-vb",mode:"vb",ext:["vb"]},{name:"VBScript",mime:"text/vbscript",mode:"vbscript",ext:["vbs"]},{name:"Velocity",mime:"text/velocity",mode:"velocity",ext:["vtl"]},{name:"Verilog",mime:"text/x-verilog",mode:"verilog",ext:["v"]},{name:"VHDL",mime:"text/x-vhdl",mode:"vhdl",ext:["vhd","vhdl"]},{name:"Vue.js Component",mimes:["script/x-vue","text/x-vue"],mode:"vue",ext:["vue"]},{name:"XML",mimes:["application/xml","text/xml"],mode:"xml",ext:["xml","xsl","xsd","svg"],alias:["rss","wsdl","xsd"]},{name:"XQuery",mime:"application/xquery",mode:"xquery",ext:["xy","xquery"]},{name:"Yacas",mime:"text/x-yacas",mode:"yacas",ext:["ys"]},{name:"YAML",mimes:["text/x-yaml","text/yaml"],mode:"yaml",ext:["yaml","yml"],alias:["yml"]},{name:"Z80",mime:"text/x-z80",mode:"z80",ext:["z80"]},{name:"mscgen",mime:"text/x-mscgen",mode:"mscgen",ext:["mscgen","mscin","msc"]},{name:"xu",mime:"text/x-xu",mode:"mscgen",ext:["xu"]},{name:"msgenny",mime:"text/x-msgenny",mode:"mscgen",ext:["msgenny"]}];for(var t=0;t<e.modeInfo.length;t++){var n=e.modeInfo[t];n.mimes&&(n.mime=n.mimes[0])}e.findModeByMIME=function(t){t=t.toLowerCase();for(var n=0;n<e.modeInfo.length;n++){var r=e.modeInfo[n];if(r.mime==t)return r;if(r.mimes)for(var i=0;i<r.mimes.length;i++)if(r.mimes[i]==t)return r}return/\+xml$/.test(t)?e.findModeByMIME("application/xml"):/\+json$/.test(t)?e.findModeByMIME("application/json"):void 0},e.findModeByExtension=function(t){t=t.toLowerCase();for(var n=0;n<e.modeInfo.length;n++){var r=e.modeInfo[n];if(r.ext)for(var i=0;i<r.ext.length;i++)if(r.ext[i]==t)return r}},e.findModeByFileName=function(t){for(var n=0;n<e.modeInfo.length;n++){var r=e.modeInfo[n];if(r.file&&r.file.test(t))return r}var i=t.lastIndexOf("."),o=i>-1&&t.substring(i+1,t.length);if(o)return e.findModeByExtension(o)},e.findModeByName=function(t){t=t.toLowerCase();for(var n=0;n<e.modeInfo.length;n++){var r=e.modeInfo[n];if(r.name.toLowerCase()==t)return r;if(r.alias)for(var i=0;i<r.alias.length;i++)if(r.alias[i].toLowerCase()==t)return r}}}(n("VrN/"))},"9Low":function(e,t,n){!function(e){"use strict";function t(t,r){function i(){t.display.wrapper.offsetHeight?(n(t,r),t.display.lastWrapHeight!=t.display.wrapper.clientHeight&&t.refresh()):r.timeout=setTimeout(i,r.delay)}r.timeout=setTimeout(i,r.delay),r.hurry=function(){clearTimeout(r.timeout),r.timeout=setTimeout(i,50)},e.on(window,"mouseup",r.hurry),e.on(window,"keyup",r.hurry)}function n(t,n){clearTimeout(n.timeout),e.off(window,"mouseup",n.hurry),e.off(window,"keyup",n.hurry)}e.defineOption("autoRefresh",!1,(function(e,r){e.state.autoRefresh&&(n(e,e.state.autoRefresh),e.state.autoRefresh=null),r&&0==e.display.wrapper.offsetHeight&&t(e,e.state.autoRefresh={delay:r.delay||250})}))}(n("VrN/"))},"9VKX":function(e,t,n){(t=e.exports=a.debug=a).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){t.save(e);for(var n=(e||"").split(/[\s,]+/),r=n.length,i=0;i<r;i++)n[i]&&("-"===(e=n[i].replace(/[\\^$+?.()|[\]{}]/g,"\\$&").replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n("5LH7"),t.names=[],t.skips=[],t.formatters={};var r,i=0;function o(){return t.colors[i++%t.colors.length]}function a(e){function n(){}function i(){var e=i,n=+new Date,a=n-(r||n);e.diff=a,e.prev=r,e.curr=n,r=n,null==e.useColors&&(e.useColors=t.useColors()),null==e.color&&e.useColors&&(e.color=o());for(var s=new Array(arguments.length),c=0;c<s.length;c++)s[c]=arguments[c];s[0]=t.coerce(s[0]),"string"!==typeof s[0]&&(s=["%o"].concat(s));var l=0;s[0]=s[0].replace(/%([a-z%])/g,(function(n,r){if("%%"===n)return n;l++;var i=t.formatters[r];if("function"===typeof i){var o=s[l];n=i.call(e,o),s.splice(l,1),l--}return n})),s=t.formatArgs.apply(e,s);var u=i.log||t.log||console.log.bind(console);u.apply(e,s)}n.enabled=!1,i.enabled=!0;var a=t.enabled(e)?i:n;return a.namespace=e,a}},A7Jb:function(e,t,n){"use strict";n.r(t);var r=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input",type:"UpdateCodesharePermissionsInput!"}],t=[{alias:null,args:[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"UpdateCodesharePermissionsResponseType",kind:"LinkedField",name:"updateCodesharePermissions",plural:!1,selections:[{alias:null,args:null,concreteType:"Codeshare",kind:"LinkedField",name:"codeshare",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,concreteType:"CanEdit",kind:"LinkedField",name:"canEdit",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"userIds",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"me",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"updateCodesharePermissionsMutation",selections:t,type:"Mutation"},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"updateCodesharePermissionsMutation",selections:t},params:{id:null,metadata:{},name:"updateCodesharePermissionsMutation",operationKind:"mutation",text:"mutation updateCodesharePermissionsMutation(\n  $input: UpdateCodesharePermissionsInput!\n) {\n  updateCodesharePermissions(input: $input) {\n    codeshare {\n      id\n      canEdit {\n        userIds\n        me\n      }\n    }\n  }\n}\n"}}}();r.hash="f9d0ffae8efb89556ae54819d5817753",t.default=r},A9kb:function(e,t,n){(function(e,r){var i;!function(o){var a=t,s=(e&&e.exports,"object"==typeof r&&r);s.global!==s&&s.window;var c,l,u,d=String.fromCharCode;function h(e){for(var t,n,r=[],i=0,o=e.length;i<o;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<o?56320==(64512&(n=e.charCodeAt(i++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),i--):r.push(t);return r}function p(e,t){return d(e>>t&63|128)}function f(e){if(0==(4294967168&e))return d(e);var t="";return 0==(4294965248&e)?t=d(e>>6&31|192):0==(4294901760&e)?(t=d(e>>12&15|224),t+=p(e,6)):0==(4292870144&e)&&(t=d(e>>18&7|240),t+=p(e,12),t+=p(e,6)),t+=d(63&e|128)}function m(){if(u>=l)throw Error("Invalid byte index");var e=255&c[u];if(u++,128==(192&e))return 63&e;throw Error("Invalid continuation byte")}function g(){var e,t;if(u>l)throw Error("Invalid byte index");if(u==l)return!1;if(e=255&c[u],u++,0==(128&e))return e;if(192==(224&e)){if((t=(31&e)<<6|m())>=128)return t;throw Error("Invalid continuation byte")}if(224==(240&e)){if((t=(15&e)<<12|m()<<6|m())>=2048)return t;throw Error("Invalid continuation byte")}if(240==(248&e)&&(t=(15&e)<<18|m()<<12|m()<<6|m())>=65536&&t<=1114111)return t;throw Error("Invalid WTF-8 detected")}var v={version:"1.0.0",encode:function(e){for(var t=h(e),n=t.length,r=-1,i="";++r<n;)i+=f(t[r]);return i},decode:function(e){c=h(e),l=c.length,u=0;for(var t,n=[];!1!==(t=g());)n.push(t);return function(e){for(var t,n=e.length,r=-1,i="";++r<n;)(t=e[r])>65535&&(i+=d((t-=65536)>>>10&1023|55296),t=56320|1023&t),i+=d(t);return i}(n)}};void 0===(i=function(){return v}.call(t,n,t,e))||(e.exports=i)}()}).call(this,n("YuTi")(e),n("yLpj"))},AdPF:function(e,t,n){(function(t){var r=n("yeub");e.exports=function(e){var n=e.xdomain,i=e.xscheme,o=e.enablesXDR;try{if("undefined"!==typeof XMLHttpRequest&&(!n||r))return new XMLHttpRequest}catch(a){}try{if("undefined"!==typeof XDomainRequest&&!i&&o)return new XDomainRequest}catch(a){}if(!n)try{return new(t[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(a){}}}).call(this,n("yLpj"))},AnxJ:function(e,t,n){"use strict";n.r(t);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CodeshareVideoChatButton_codeshare",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],type:"Codeshare",hash:"332ad36072ad42fc7f6bf28772d2eb31"};t.default=r},Aplp:function(e,t,n){"use strict";var r,i="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),o={},a=0,s=0;function c(e){var t="";do{t=i[e%64]+t,e=Math.floor(e/64)}while(e>0);return t}function l(){var e=c(+new Date);return e!==r?(a=0,r=e):e+"."+c(a++)}for(;s<64;s++)o[i[s]]=s;l.encode=c,l.decode=function(e){var t=0;for(s=0;s<e.length;s++)t=64*t+o[e.charAt(s)];return t},e.exports=l},Ax77:function(e,t,n){"use strict";n.r(t);var r=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"codeshareId",type:"String!"},{defaultValue:null,kind:"LocalArgument",name:"codeHistoryAfter",type:"String"},{defaultValue:null,kind:"LocalArgument",name:"codeHistoryFirst",type:"Int!"},{defaultValue:null,kind:"LocalArgument",name:"codeshareUsersFirst",type:"Int!"},{defaultValue:null,kind:"LocalArgument",name:"codeshareUsersAfter",type:"String"}],t=[{kind:"Variable",name:"id",variableName:"codeshareId"}],n={alias:null,args:null,kind:"ScalarField",name:"createdAt",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"me",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"userId",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"historyId",storageKey:null},c={alias:null,args:null,concreteType:"CreatedBy",kind:"LinkedField",name:"createdBy",plural:!1,selections:[i,o,{alias:null,args:null,kind:"ScalarField",name:"clientId",storageKey:null}],storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null},u=[{kind:"Variable",name:"after",variableName:"codeHistoryAfter"},{kind:"Variable",name:"first",variableName:"codeHistoryFirst"}],d={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},h={alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null},p=[{kind:"Variable",name:"after",variableName:"codeshareUsersAfter"},{kind:"Variable",name:"first",variableName:"codeshareUsersFirst"}],f=[o,i];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"CodeshareIdCodeshareReconnectQuery",selections:[{alias:null,args:t,concreteType:"Codeshare",kind:"LinkedField",name:"codeshare",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CodesharePage_codeshare"},{args:null,kind:"FragmentSpread",name:"CodesharePageSubscription_codeshare"}],storageKey:null}],type:"Query"},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"CodeshareIdCodeshareReconnectQuery",selections:[{alias:null,args:t,concreteType:"Codeshare",kind:"LinkedField",name:"codeshare",plural:!1,selections:[n,{alias:null,args:null,concreteType:"CreatedBy",kind:"LinkedField",name:"createdBy",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"first",value:100}],concreteType:"SubscriptionPlanConnection",kind:"LinkedField",name:"subscriptionPlans",plural:!1,selections:[{alias:null,args:null,concreteType:"SubscriptionPlanConnectionEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"SubscriptionPlan",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"isActive",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"planId",storageKey:null},r],storageKey:null}],storageKey:null}],storageKey:"subscriptionPlans(first:100)"},r,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"anonymous",storageKey:null}],storageKey:null},i,o],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},r,{alias:null,args:null,concreteType:"CanEdit",kind:"LinkedField",name:"canEdit",plural:!1,selections:[i,{alias:null,args:null,kind:"ScalarField",name:"userIds",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"modeName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"tabSize",storageKey:null},{alias:null,args:null,concreteType:"CodeCheckpoint",kind:"LinkedField",name:"codeCheckpoint",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"codeHistoryId",storageKey:null},a,{alias:null,args:null,concreteType:"CodeHistoryEdge",kind:"LinkedField",name:"codeHistoryEdge",plural:!1,selections:[{alias:null,args:null,concreteType:"CodeHistory",kind:"LinkedField",name:"node",plural:!1,selections:[r,s,a,n,c],storageKey:null},l],storageKey:null}],storageKey:null},{alias:null,args:u,concreteType:"CodeHistoryConnection",kind:"LinkedField",name:"codeHistory",plural:!1,selections:[{alias:null,args:null,concreteType:"CodeHistoryConnectionEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"CodeHistory",kind:"LinkedField",name:"node",plural:!1,selections:[r,s,a,n,c,d],storageKey:null},l],storageKey:null},h],storageKey:null},{alias:null,args:u,filters:null,handle:"connection",key:"Codeshare_codeHistory",kind:"LinkedHandle",name:"codeHistory"},{alias:null,args:p,concreteType:"CodeshareUsersConnection",kind:"LinkedField",name:"users",plural:!1,selections:[{alias:null,args:null,concreteType:"CodeshareUserConnectionEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"CodeshareUser",kind:"LinkedField",name:"node",plural:!1,selections:[r,n,{alias:null,args:null,kind:"ScalarField",name:"modifiedAt",storageKey:null},{alias:null,args:null,concreteType:"CreatedBy",kind:"LinkedField",name:"createdBy",plural:!1,selections:f,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},{alias:null,args:null,concreteType:"CursorType",kind:"LinkedField",name:"cursor",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"position",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"selectionEnd",storageKey:null}],storageKey:null},d],storageKey:null},l],storageKey:null},h],storageKey:null},{alias:null,args:p,filters:[],handle:"connection",key:"Codeshare_users",kind:"LinkedHandle",name:"users"},{alias:null,args:null,concreteType:"ModifiedBy",kind:"LinkedField",name:"modifiedBy",plural:!1,selections:f,storageKey:null}],storageKey:null}]},params:{id:null,metadata:{},name:"CodeshareIdCodeshareReconnectQuery",operationKind:"query",text:"query CodeshareIdCodeshareReconnectQuery(\n  $codeshareId: String!\n  $codeHistoryAfter: String\n  $codeHistoryFirst: Int!\n  $codeshareUsersFirst: Int!\n  $codeshareUsersAfter: String\n) {\n  codeshare(id: $codeshareId) {\n    ...CodesharePage_codeshare\n    ...CodesharePageSubscription_codeshare\n    id\n  }\n}\n\nfragment CodeMirrorCursor_codeshare on Codeshare {\n  canEdit {\n    me\n    userIds\n  }\n}\n\nfragment CodeshareCodeMirror_codeshare on Codeshare {\n  ...useCodeshareModeName_codeshare\n  ...useCodeshareTabSize_codeshare\n  ...CodeMirrorCursor_codeshare\n  canEdit {\n    me\n    userIds\n  }\n}\n\nfragment CodeshareDownloadButton_codeshare on Codeshare {\n  title\n  createdAt\n  modeName\n}\n\nfragment CodeshareEditor_codeshare on Codeshare {\n  ...CodeshareFirepad_codeshare\n}\n\nfragment CodeshareFirepad_codeshare on Codeshare {\n  id\n  ...CodeshareCodeMirror_codeshare\n  ...useCodeshareCodeHistories_codeshare\n  ...useCodeshareUsers_codeshare\n  canEdit {\n    me\n    userIds\n  }\n}\n\nfragment CodeshareHead_codeshare on Codeshare {\n  ...CodeshareLazyHead_codeshare\n}\n\nfragment CodeshareLazyHead_codeshare on Codeshare {\n  createdAt\n  title\n}\n\nfragment CodeshareModeNameFormField_codeshare on Codeshare {\n  ...useCodeshareModeName_codeshare\n  canEdit {\n    me\n    userIds\n  }\n}\n\nfragment CodeshareNavbar_codeshare on Codeshare {\n  id\n  createdBy {\n    me\n  }\n  title\n  createdAt\n  ...CodeshareShareButton_codeshare\n  ...CodeshareShareModal_codeshare\n}\n\nfragment CodesharePageSubscription_codeshare on Codeshare {\n  ...CodeshareSidebarSubscription_codeshare\n}\n\nfragment CodesharePage_codeshare on Codeshare {\n  createdAt\n  createdBy {\n    user {\n      ...isCodeshareProSubscriber_user\n      id\n    }\n  }\n  title\n  ...CodeshareHead_codeshare\n  ...CodeshareNavbar_codeshare\n  ...CodeshareEditor_codeshare\n  ...CodeshareSidebar_codeshare\n  ...NagModal_codeshare\n}\n\nfragment CodeshareSettingsFormSubscription_codeshare on Codeshare {\n  ...CodeshareTitleFormField_codeshare\n  ...CodeshareModeNameFormField_codeshare\n  ...CodeshareTabSizeFormField_codeshare\n}\n\nfragment CodeshareSettingsForm_codeshare on Codeshare {\n  ...CodeshareTitleFormField_codeshare\n  ...CodeshareModeNameFormField_codeshare\n  ...CodeshareTabSizeFormField_codeshare\n}\n\nfragment CodeshareShareButton_codeshare on Codeshare {\n  canEdit {\n    me\n    userIds\n  }\n}\n\nfragment CodeshareShareModal_codeshare on Codeshare {\n  ...CodeshareShareUrl_codeshare\n  ...CodeshareViewOnlyCheckbox_codeshare\n}\n\nfragment CodeshareShareUrl_codeshare on Codeshare {\n  id\n}\n\nfragment CodeshareSidebarSubscription_codeshare on Codeshare {\n  ...CodeshareSettingsFormSubscription_codeshare\n}\n\nfragment CodeshareSidebar_codeshare on Codeshare {\n  ...CodeshareSettingsForm_codeshare\n  ...CodeshareDownloadButton_codeshare\n  ...CodeshareVideoChatButton_codeshare\n}\n\nfragment CodeshareTabSizeFormField_codeshare on Codeshare {\n  ...useCodeshareTabSize_codeshare\n  canEdit {\n    me\n    userIds\n  }\n}\n\nfragment CodeshareTitleFormField_codeshare on Codeshare {\n  ...useCodeshareTitle_codeshare\n  canEdit {\n    me\n    userIds\n  }\n}\n\nfragment CodeshareVideoChatButton_codeshare on Codeshare {\n  id\n}\n\nfragment CodeshareViewOnlyCheckbox_codeshare on Codeshare {\n  id\n  createdBy {\n    me\n    userId\n    user {\n      id\n      name\n    }\n  }\n  ...isCodeshareViewOnly_codeshare\n}\n\nfragment LoginForm_codeshare on Codeshare {\n  id\n  createdBy {\n    userId\n    me\n  }\n  modifiedBy {\n    userId\n    me\n  }\n  canEdit {\n    userIds\n    me\n  }\n}\n\nfragment LoginRegisterModal_codeshare on Codeshare {\n  id\n  createdBy {\n    me\n    user {\n      anonymous\n      id\n    }\n  }\n  ...LoginForm_codeshare\n  ...RegisterForm_codeshare\n}\n\nfragment NagModal_codeshare on Codeshare {\n  ...LoginRegisterModal_codeshare\n}\n\nfragment RegisterForm_codeshare on Codeshare {\n  id\n  createdBy {\n    userId\n    me\n  }\n  modifiedBy {\n    userId\n    me\n  }\n  canEdit {\n    userIds\n    me\n  }\n}\n\nfragment isCodeshareProSubscriber_user on User {\n  subscriptionPlans(first: 100) {\n    edges {\n      node {\n        isActive\n        planId\n        id\n      }\n    }\n  }\n}\n\nfragment isCodeshareViewOnly_codeshare on Codeshare {\n  canEdit {\n    userIds\n  }\n}\n\nfragment refetchableCodeHistoryEdges_codeshare on Codeshare {\n  id\n  createdBy {\n    userId\n    me\n  }\n  codeCheckpoint {\n    codeHistoryId\n    value\n    codeHistoryEdge {\n      node {\n        id\n        historyId\n        value\n        createdAt\n        createdBy {\n          me\n          userId\n          clientId\n        }\n      }\n      cursor\n    }\n  }\n  codeHistory(after: $codeHistoryAfter, first: $codeHistoryFirst) {\n    edges {\n      node {\n        id\n        historyId\n        value\n        createdAt\n        createdBy {\n          me\n          userId\n          clientId\n        }\n        __typename\n      }\n      cursor\n    }\n    pageInfo {\n      endCursor\n      hasNextPage\n    }\n  }\n}\n\nfragment refetchableCodeshareUserEdges_codeshare on Codeshare {\n  id\n  createdBy {\n    userId\n    me\n  }\n  users(first: $codeshareUsersFirst, after: $codeshareUsersAfter) {\n    edges {\n      node {\n        id\n        createdAt\n        modifiedAt\n        createdBy {\n          userId\n          me\n        }\n        color\n        cursor {\n          position\n          selectionEnd\n        }\n        __typename\n      }\n      cursor\n    }\n    pageInfo {\n      endCursor\n      hasNextPage\n    }\n  }\n}\n\nfragment useCodeshareCodeHistories_codeshare on Codeshare {\n  id\n  ...refetchableCodeHistoryEdges_codeshare\n}\n\nfragment useCodeshareModeName_codeshare on Codeshare {\n  id\n  modeName\n}\n\nfragment useCodeshareTabSize_codeshare on Codeshare {\n  id\n  tabSize\n}\n\nfragment useCodeshareTitle_codeshare on Codeshare {\n  id\n  createdAt\n  title\n}\n\nfragment useCodeshareUsers_codeshare on Codeshare {\n  id\n  ...refetchableCodeshareUserEdges_codeshare\n}\n"}}}();r.hash="2a1999a747b72363294472e7617f4c91",t.default=r},Be4E:function(e,t,n){"use strict";!function(){var t=n("zFjM").log,r=n("zFjM").browserDetails;e.exports.browserDetails=r,e.exports.extractVersion=n("zFjM").extractVersion,e.exports.disableLog=n("zFjM").disableLog;var i=n("misl")||null,o=n("oxK+")||null,a=n("3d56")||null,s=n("ywzX")||null;switch(r.browser){case"opera":case"chrome":if(!i||!i.shimPeerConnection)return void t("Chrome shim is not included in this adapter release.");t("adapter.js shimming chrome."),e.exports.browserShim=i,i.shimGetUserMedia(),i.shimMediaStream(),i.shimSourceObject(),i.shimPeerConnection(),i.shimOnTrack();break;case"firefox":if(!a||!a.shimPeerConnection)return void t("Firefox shim is not included in this adapter release.");t("adapter.js shimming firefox."),e.exports.browserShim=a,a.shimGetUserMedia(),a.shimSourceObject(),a.shimPeerConnection(),a.shimOnTrack();break;case"edge":if(!o||!o.shimPeerConnection)return void t("MS edge shim is not included in this adapter release.");t("adapter.js shimming edge."),e.exports.browserShim=o,o.shimGetUserMedia(),o.shimPeerConnection();break;case"safari":if(!s)return void t("Safari shim is not included in this adapter release.");t("adapter.js shimming safari."),e.exports.browserShim=s,s.shimGetUserMedia();break;default:t("Unsupported browser!")}}()},CIKq:function(e,t,n){(function(t){var r,i=n("Gbct"),o=n("Wm4p"),a=n("TypT"),s=n("Yvos"),c=n("Aplp"),l=n("uffb")("engine.io-client:websocket"),u=t.WebSocket||t.MozWebSocket;if("undefined"===typeof window)try{r=n(0)}catch(p){}var d=u;function h(e){e&&e.forceBase64&&(this.supportsBinary=!1),this.perMessageDeflate=e.perMessageDeflate,this.usingBrowserWebSocket=u&&!e.forceNode,this.usingBrowserWebSocket||(d=r),i.call(this,e)}d||"undefined"!==typeof window||(d=r),e.exports=h,s(h,i),h.prototype.name="websocket",h.prototype.supportsBinary=!0,h.prototype.doOpen=function(){if(this.check()){var e=this.uri(),t={agent:this.agent,perMessageDeflate:this.perMessageDeflate};t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(t.headers=this.extraHeaders),this.localAddress&&(t.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket?new d(e):new d(e,void 0,t)}catch(n){return this.emit("error",n)}void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},h.prototype.addEventListeners=function(){var e=this;this.ws.onopen=function(){e.onOpen()},this.ws.onclose=function(){e.onClose()},this.ws.onmessage=function(t){e.onData(t.data)},this.ws.onerror=function(t){e.onError("websocket error",t)}},h.prototype.write=function(e){var n=this;this.writable=!1;for(var r=e.length,i=0,a=r;i<a;i++)!function(e){o.encodePacket(e,n.supportsBinary,(function(i){if(!n.usingBrowserWebSocket){var o={};if(e.options&&(o.compress=e.options.compress),n.perMessageDeflate)("string"===typeof i?t.Buffer.byteLength(i):i.length)<n.perMessageDeflate.threshold&&(o.compress=!1)}try{n.usingBrowserWebSocket?n.ws.send(i):n.ws.send(i,o)}catch(p){l("websocket closed before onclose event")}--r||s()}))}(e[i]);function s(){n.emit("flush"),setTimeout((function(){n.writable=!0,n.emit("drain")}),0)}},h.prototype.onClose=function(){i.prototype.onClose.call(this)},h.prototype.doClose=function(){"undefined"!==typeof this.ws&&this.ws.close()},h.prototype.uri=function(){var e=this.query||{},t=this.secure?"wss":"ws",n="";return this.port&&("wss"===t&&443!==Number(this.port)||"ws"===t&&80!==Number(this.port))&&(n=":"+this.port),this.timestampRequests&&(e[this.timestampParam]=c()),this.supportsBinary||(e.b64=1),(e=a.encode(e)).length&&(e="?"+e),t+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+e},h.prototype.check=function(){return!!d&&!("__initialize"in d&&this.name===h.prototype.name)}}).call(this,n("yLpj"))},CNtn:function(e,t,n){var r=n("1C/a"),i=n("br3w"),o=Math.random();t._setIdCounter=function(e){o=e},t.toSessionJSON=function(e,n){var r,o=n.creators||[],a=n.role||"initiator",s=n.direction||"outgoing",c=e.split(/\r?\nm=/);for(r=1;r<c.length;r++)c[r]="m="+c[r],r!==c.length-1&&(c[r]+="\r\n");var l=c.shift()+"\r\n",u=i.lines(l),d={},h=[];for(r=0;r<c.length;r++)h.push(t.toMediaJSON(c[r],l,{role:a,direction:s,creator:o[r]||"initiator"}));d.contents=h;var p=i.findLines("a=group:",u);return p.length&&(d.groups=i.groups(p)),d},t.toMediaJSON=function(e,n,o){var a=o.creator||"initiator",s=o.role||"initiator",c=o.direction||"outgoing",l=i.lines(e),u=i.lines(n),d=i.mline(l[0]),h={creator:a,name:d.media,application:{applicationType:"rtp",media:d.media,payloads:[],encryption:[],feedback:[],headerExtensions:[]},transport:{transportType:"iceUdp",candidates:[],fingerprints:[]}};"application"==d.media&&(h.application={applicationType:"datachannel"},h.transport.sctp=[]);var p=h.application,f=h.transport,m=i.findLine("a=mid:",l);if(m&&(h.name=m.substr(6)),i.findLine("a=sendrecv",l,u)?h.senders="both":i.findLine("a=sendonly",l,u)?h.senders=r[s][c].sendonly:i.findLine("a=recvonly",l,u)?h.senders=r[s][c].recvonly:i.findLine("a=inactive",l,u)&&(h.senders="none"),"rtp"==p.applicationType){var g=i.findLine("b=",l);g&&(p.bandwidth=i.bandwidth(g));var v=i.findLine("a=ssrc:",l);v&&(p.ssrc=v.substr(7).split(" ")[0]),i.findLines("a=rtpmap:",l).forEach((function(e){var t=i.rtpmap(e);t.parameters=[],t.feedback=[],i.findLines("a=fmtp:"+t.id,l).forEach((function(e){t.parameters=i.fmtp(e)})),i.findLines("a=rtcp-fb:"+t.id,l).forEach((function(e){t.feedback.push(i.rtcpfb(e))})),p.payloads.push(t)})),i.findLines("a=crypto:",l,u).forEach((function(e){p.encryption.push(i.crypto(e))})),i.findLine("a=rtcp-mux",l)&&(p.mux=!0),i.findLine("a=rtcp-rsize",l)&&(p.rsize=!0),i.findLines("a=rtcp-fb:*",l).forEach((function(e){p.feedback.push(i.rtcpfb(e))})),i.findLines("a=extmap:",l).forEach((function(e){var t=i.extmap(e);t.senders=r[s][c][t.senders],p.headerExtensions.push(t)}));var y=i.findLines("a=ssrc-group:",l);p.sourceGroups=i.sourceGroups(y||[]);var b=i.findLines("a=ssrc:",l),C=p.sources=i.sources(b||[]),w=i.findLine("a=msid:",l);if(w){var S=i.msid(w);["msid","mslabel","label"].forEach((function(e){for(var t=0;t<C.length;t++){for(var n=!1,r=0;r<C[t].parameters.length;r++)C[t].parameters[r].key===e&&(n=!0);n||C[t].parameters.push({key:e,value:S[e]})}}))}i.findLine("a=x-google-flag:conference",l,u)&&(p.googConferenceFlag=!0)}var k=i.findLines("a=fingerprint:",l,u),x=i.findLine("a=setup:",l,u);k.forEach((function(e){var t=i.fingerprint(e);x&&(t.setup=x.substr(8)),f.fingerprints.push(t)}));var E=i.findLine("a=ice-ufrag:",l,u),T=i.findLine("a=ice-pwd:",l,u);E&&T&&(f.ufrag=E.substr(12),f.pwd=T.substr(10),f.candidates=[],i.findLines("a=candidate:",l,u).forEach((function(e){f.candidates.push(t.toCandidateJSON(e))})));"datachannel"==p.applicationType&&i.findLines("a=sctpmap:",l).forEach((function(e){var t=i.sctpmap(e);f.sctp.push(t)}));return h},t.toCandidateJSON=function(e){var t=i.candidate(e.split(/\r?\n/)[0]);return t.id=(o++).toString(36).substr(0,12),t}},CS9Q:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("mrSG"),i=n("siIJ"),o=function(e){function t(n,r){void 0===r&&(r=i.a.now);var o=e.call(this,n,(function(){return t.delegate&&t.delegate!==o?t.delegate.now():r()}))||this;return o.actions=[],o.active=!1,o.scheduled=void 0,o}return r.c(t,e),t.prototype.schedule=function(n,r,i){return void 0===r&&(r=0),t.delegate&&t.delegate!==this?t.delegate.schedule(n,r,i):e.prototype.schedule.call(this,n,r,i)},t.prototype.flush=function(e){var t=this.actions;if(this.active)t.push(e);else{var n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}},t}(i.a)},CUme:function(e,t,n){var r=n("Gbct"),i=n("TypT"),o=n("Wm4p"),a=n("Yvos"),s=n("Aplp"),c=n("uffb")("engine.io-client:polling");e.exports=u;var l=null!=new(n("AdPF"))({xdomain:!1}).responseType;function u(e){var t=e&&e.forceBase64;l&&!t||(this.supportsBinary=!1),r.call(this,e)}a(u,r),u.prototype.name="polling",u.prototype.doOpen=function(){this.poll()},u.prototype.pause=function(e){var t=this;function n(){c("paused"),t.readyState="paused",e()}if(this.readyState="pausing",this.polling||!this.writable){var r=0;this.polling&&(c("we are currently polling - waiting to pause"),r++,this.once("pollComplete",(function(){c("pre-pause polling complete"),--r||n()}))),this.writable||(c("we are currently writing - waiting to pause"),r++,this.once("drain",(function(){c("pre-pause writing complete"),--r||n()})))}else n()},u.prototype.poll=function(){c("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},u.prototype.onData=function(e){var t=this;c("polling got data %s",e);o.decodePayload(e,this.socket.binaryType,(function(e,n,r){if("opening"===t.readyState&&t.onOpen(),"close"===e.type)return t.onClose(),!1;t.onPacket(e)})),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState?this.poll():c('ignoring poll - transport state "%s"',this.readyState))},u.prototype.doClose=function(){var e=this;function t(){c("writing close packet"),e.write([{type:"close"}])}"open"===this.readyState?(c("transport open - closing"),t()):(c("transport not open - deferring close"),this.once("open",t))},u.prototype.write=function(e){var t=this;this.writable=!1;var n=function(){t.writable=!0,t.emit("drain")};o.encodePayload(e,this.supportsBinary,(function(e){t.doWrite(e,n)}))},u.prototype.uri=function(){var e=this.query||{},t=this.secure?"https":"http",n="";return!1!==this.timestampRequests&&(e[this.timestampParam]=s()),this.supportsBinary||e.sid||(e.b64=1),e=i.encode(e),this.port&&("https"===t&&443!==Number(this.port)||"http"===t&&80!==Number(this.port))&&(n=":"+this.port),e.length&&(e="?"+e),t+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+e}},Cl5A:function(e,t,n){(function(t){var r=n("CUme"),i=n("Yvos");e.exports=l;var o,a=/\n/g,s=/\\n/g;function c(){}function l(e){r.call(this,e),this.query=this.query||{},o||(t.___eio||(t.___eio=[]),o=t.___eio),this.index=o.length;var n=this;o.push((function(e){n.onData(e)})),this.query.j=this.index,t.document&&t.addEventListener&&t.addEventListener("beforeunload",(function(){n.script&&(n.script.onerror=c)}),!1)}i(l,r),l.prototype.supportsBinary=!1,l.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),r.prototype.doClose.call(this)},l.prototype.doPoll=function(){var e=this,t=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),t.async=!0,t.src=this.uri(),t.onerror=function(t){e.onError("jsonp poll error",t)};var n=document.getElementsByTagName("script")[0];n?n.parentNode.insertBefore(t,n):(document.head||document.body).appendChild(t),this.script=t,"undefined"!==typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout((function(){var e=document.createElement("iframe");document.body.appendChild(e),document.body.removeChild(e)}),100)},l.prototype.doWrite=function(e,t){var n=this;if(!this.form){var r,i=document.createElement("form"),o=document.createElement("textarea"),c=this.iframeId="eio_iframe_"+this.index;i.className="socketio",i.style.position="absolute",i.style.top="-1000px",i.style.left="-1000px",i.target=c,i.method="POST",i.setAttribute("accept-charset","utf-8"),o.name="d",i.appendChild(o),document.body.appendChild(i),this.form=i,this.area=o}function l(){u(),t()}function u(){if(n.iframe)try{n.form.removeChild(n.iframe)}catch(t){n.onError("jsonp polling iframe removal error",t)}try{var e='<iframe src="javascript:0" name="'+n.iframeId+'">';r=document.createElement(e)}catch(t){(r=document.createElement("iframe")).name=n.iframeId,r.src="javascript:0"}r.id=n.iframeId,n.form.appendChild(r),n.iframe=r}this.form.action=this.uri(),u(),e=e.replace(s,"\\\n"),this.area.value=e.replace(a,"\\n");try{this.form.submit()}catch(d){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===n.iframe.readyState&&l()}:this.iframe.onload=l}}).call(this,n("yLpj"))},ClI1:function(e,t,n){var r=n("4c1C").Observable,i=n("NTzu").Subscription;function o(){r.call(this,(function(t){e._observer=t;for(;e._observerCalls.length;){var n=e._observerCalls.shift();t[n.method].apply(t,n.args)}return new i(()=>{this._observer={next:()=>{},error:()=>{},complete:()=>{}}})}));var e=this;this._observer=null,this._observerCalls=[]}function a(e){return function(){var t=this._observer;return t?t[e].apply(t,arguments):this._observerCalls.push({method:e,args:Array.prototype.slice.call(arguments)}),this}}e.exports=o,o.next=function(){var e=new o;return e.next.apply(e,arguments)},o.error=function(){var e=new o;return e.error.apply(e,arguments)},o.complete=function(){var e=new o;return e.complete.apply(e,arguments)},o.prototype=Object.create(r.prototype),o.prototype.next=a("next"),o.prototype.error=a("error"),o.prototype.complete=a("complete")},DKTb:function(e,t,n){"use strict";function r(e){setTimeout((function(){throw e}),0)}n.d(t,"a",(function(){return r}))},DTth:function(e,t,n){var r=n("0Dky"),i=n("tiKp"),o=n("xDBR"),a=i("iterator");e.exports=!r((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,n="";return e.pathname="c%20d",t.forEach((function(e,r){t.delete("b"),n+=r+e})),o&&!e.toJSON||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[a]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://\u0442\u0435\u0441\u0442").host||"#%D0%B1"!==new URL("http://a#\u0431").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host}))},DtyJ:function(e,t,n){"use strict";n.r(t),n.d(t,"Observable",(function(){return r.a})),n.d(t,"ConnectableObservable",(function(){return m})),n.d(t,"GroupedObservable",(function(){return y})),n.d(t,"observable",(function(){return C.a})),n.d(t,"Subject",(function(){return d})),n.d(t,"BehaviorSubject",(function(){return w})),n.d(t,"ReplaySubject",(function(){return U})),n.d(t,"AsyncSubject",(function(){return K})),n.d(t,"asapScheduler",(function(){return Y})),n.d(t,"asyncScheduler",(function(){return $.a})),n.d(t,"queueScheduler",(function(){return E})),n.d(t,"animationFrameScheduler",(function(){return Q})),n.d(t,"VirtualTimeScheduler",(function(){return Z})),n.d(t,"VirtualAction",(function(){return ee})),n.d(t,"Scheduler",(function(){return te.a})),n.d(t,"Subscription",(function(){return a.a})),n.d(t,"Subscriber",(function(){return o.a})),n.d(t,"Notification",(function(){return I})),n.d(t,"NotificationKind",(function(){return L})),n.d(t,"pipe",(function(){return ne.a})),n.d(t,"noop",(function(){return re})),n.d(t,"identity",(function(){return ie.a})),n.d(t,"isObservable",(function(){return oe})),n.d(t,"ArgumentOutOfRangeError",(function(){return ae})),n.d(t,"EmptyError",(function(){return se})),n.d(t,"ObjectUnsubscribedError",(function(){return s})),n.d(t,"UnsubscriptionError",(function(){return ce.a})),n.d(t,"TimeoutError",(function(){return le})),n.d(t,"bindCallback",(function(){return pe})),n.d(t,"bindNodeCallback",(function(){return ge})),n.d(t,"combineLatest",(function(){return ke})),n.d(t,"concat",(function(){return Le})),n.d(t,"defer",(function(){return Fe})),n.d(t,"empty",(function(){return _})),n.d(t,"forkJoin",(function(){return je})),n.d(t,"from",(function(){return Me.a})),n.d(t,"fromEvent",(function(){return Ie})),n.d(t,"fromEventPattern",(function(){return De})),n.d(t,"generate",(function(){return Ne})),n.d(t,"iif",(function(){return Be})),n.d(t,"interval",(function(){return He})),n.d(t,"merge",(function(){return ze})),n.d(t,"never",(function(){return Ge})),n.d(t,"of",(function(){return j})),n.d(t,"onErrorResumeNext",(function(){return Je})),n.d(t,"pairs",(function(){return We})),n.d(t,"partition",(function(){return tt})),n.d(t,"race",(function(){return nt})),n.d(t,"range",(function(){return ot})),n.d(t,"throwError",(function(){return A})),n.d(t,"timer",(function(){return st})),n.d(t,"using",(function(){return lt})),n.d(t,"zip",(function(){return dt})),n.d(t,"scheduled",(function(){return vt.a})),n.d(t,"EMPTY",(function(){return T})),n.d(t,"NEVER",(function(){return qe})),n.d(t,"config",(function(){return yt.a}));var r=n("6blF"),i=n("mrSG"),o=n("FFOo"),a=n("pugT"),s=function(){function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e}(),c=function(e){function t(t,n){var r=e.call(this)||this;return r.subject=t,r.subscriber=n,r.closed=!1,r}return i.c(t,e),t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}},t}(a.a),l=n("L/V9"),u=function(e){function t(t){var n=e.call(this,t)||this;return n.destination=t,n}return i.c(t,e),t}(o.a),d=function(e){function t(){var t=e.call(this)||this;return t.observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return i.c(t,e),t.prototype[l.a]=function(){return new u(this)},t.prototype.lift=function(e){var t=new h(this,this);return t.operator=e,t},t.prototype.next=function(e){if(this.closed)throw new s;if(!this.isStopped)for(var t=this.observers,n=t.length,r=t.slice(),i=0;i<n;i++)r[i].next(e)},t.prototype.error=function(e){if(this.closed)throw new s;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,n=t.length,r=t.slice(),i=0;i<n;i++)r[i].error(e);this.observers.length=0},t.prototype.complete=function(){if(this.closed)throw new s;this.isStopped=!0;for(var e=this.observers,t=e.length,n=e.slice(),r=0;r<t;r++)n[r].complete();this.observers.length=0},t.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},t.prototype._trySubscribe=function(t){if(this.closed)throw new s;return e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){if(this.closed)throw new s;return this.hasError?(e.error(this.thrownError),a.a.EMPTY):this.isStopped?(e.complete(),a.a.EMPTY):(this.observers.push(e),new c(this,e))},t.prototype.asObservable=function(){var e=new r.a;return e.source=this,e},t.create=function(e,t){return new h(e,t)},t}(r.a),h=function(e){function t(t,n){var r=e.call(this)||this;return r.destination=t,r.source=n,r}return i.c(t,e),t.prototype.next=function(e){var t=this.destination;t&&t.next&&t.next(e)},t.prototype.error=function(e){var t=this.destination;t&&t.error&&this.destination.error(e)},t.prototype.complete=function(){var e=this.destination;e&&e.complete&&this.destination.complete()},t.prototype._subscribe=function(e){return this.source?this.source.subscribe(e):a.a.EMPTY},t}(d);var p=function(){function e(e){this.connectable=e}return e.prototype.call=function(e,t){var n=this.connectable;n._refCount++;var r=new f(e,n),i=t.subscribe(r);return r.closed||(r.connection=n.connect()),i},e}(),f=function(e){function t(t,n){var r=e.call(this,t)||this;return r.connectable=n,r}return i.c(t,e),t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._refCount;if(t<=0)this.connection=null;else if(e._refCount=t-1,t>1)this.connection=null;else{var n=this.connection,r=e._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null},t}(o.a),m=function(e){function t(t,n){var r=e.call(this)||this;return r.source=t,r.subjectFactory=n,r._refCount=0,r._isComplete=!1,r}return i.c(t,e),t.prototype._subscribe=function(e){return this.getSubject().subscribe(e)},t.prototype.getSubject=function(){var e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject},t.prototype.connect=function(){var e=this._connection;return e||(this._isComplete=!1,(e=this._connection=new a.a).add(this.source.subscribe(new g(this.getSubject(),this))),e.closed&&(this._connection=null,e=a.a.EMPTY)),e},t.prototype.refCount=function(){return(e=this).lift(new p(e));var e},t}(r.a),g=function(e){function t(t,n){var r=e.call(this,t)||this;return r.connectable=n,r}return i.c(t,e),t.prototype._error=function(t){this._unsubscribe(),e.prototype._error.call(this,t)},t.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}},t}(u);o.a;o.a;var v=function(e){function t(t,n,r){var i=e.call(this,n)||this;return i.key=t,i.group=n,i.parent=r,i}return i.c(t,e),t.prototype._next=function(e){this.complete()},t.prototype._unsubscribe=function(){var e=this.parent,t=this.key;this.key=this.parent=null,e&&e.removeGroup(t)},t}(o.a),y=function(e){function t(t,n,r){var i=e.call(this)||this;return i.key=t,i.groupSubject=n,i.refCountSubscription=r,i}return i.c(t,e),t.prototype._subscribe=function(e){var t=new a.a,n=this.refCountSubscription,r=this.groupSubject;return n&&!n.closed&&t.add(new b(n)),t.add(r.subscribe(e)),t},t}(r.a),b=function(e){function t(t){var n=e.call(this)||this;return n.parent=t,t.count++,n}return i.c(t,e),t.prototype.unsubscribe=function(){var t=this.parent;t.closed||this.closed||(e.prototype.unsubscribe.call(this),t.count-=1,0===t.count&&t.attemptedToUnsubscribe&&t.unsubscribe())},t}(a.a),C=n("xTla"),w=function(e){function t(t){var n=e.call(this)||this;return n._value=t,n}return i.c(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),t.prototype._subscribe=function(t){var n=e.prototype._subscribe.call(this,t);return n&&!n.closed&&t.next(this._value),n},t.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new s;return this._value},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(d),S=n("h9Dq"),k=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r}return i.c(t,e),t.prototype.schedule=function(t,n){return void 0===n&&(n=0),n>0?e.prototype.schedule.call(this,t,n):(this.delay=n,this.state=t,this.scheduler.flush(this),this)},t.prototype.execute=function(t,n){return n>0||this.closed?e.prototype.execute.call(this,t,n):this._execute(t,n)},t.prototype.requestAsyncId=function(t,n,r){return void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0?e.prototype.requestAsyncId.call(this,t,n,r):t.flush(this)},t}(S.a),x=n("CS9Q"),E=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.c(t,e),t}(x.a))(k),T=new r.a((function(e){return e.complete()}));function _(e){return e?function(e){return new r.a((function(t){return e.schedule((function(){return t.complete()}))}))}(e):T}function O(e){return e&&"function"===typeof e.schedule}var L,M=n("+tJ4"),F=n("JF+6");function R(e,t){return t?Object(F.a)(e,t):new r.a(Object(M.a)(e))}function j(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[e.length-1];return O(n)?(e.pop(),Object(F.a)(e,n)):R(e)}function A(e,t){return t?new r.a((function(n){return t.schedule(P,0,{error:e,subscriber:n})})):new r.a((function(t){return t.error(e)}))}function P(e){var t=e.error;e.subscriber.error(t)}L||(L={});var I=function(){function e(e,t,n){this.kind=e,this.value=t,this.error=n,this.hasValue="N"===e}return e.prototype.observe=function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}},e.prototype.do=function(e,t,n){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}},e.prototype.accept=function(e,t,n){return e&&"function"===typeof e.next?this.observe(e):this.do(e,t,n)},e.prototype.toObservable=function(){switch(this.kind){case"N":return j(this.value);case"E":return A(this.error);case"C":return _()}throw new Error("unexpected notification kind value")},e.createNext=function(t){return"undefined"!==typeof t?new e("N",t):e.undefinedValueNotification},e.createError=function(t){return new e("E",void 0,t)},e.createComplete=function(){return e.completeNotification},e.completeNotification=new e("C"),e.undefinedValueNotification=new e("N",void 0),e}();var D=function(e){function t(t,n,r){void 0===r&&(r=0);var i=e.call(this,t)||this;return i.scheduler=n,i.delay=r,i}return i.c(t,e),t.dispatch=function(e){var t=e.notification,n=e.destination;t.observe(n),this.unsubscribe()},t.prototype.scheduleMessage=function(e){this.destination.add(this.scheduler.schedule(t.dispatch,this.delay,new N(e,this.destination)))},t.prototype._next=function(e){this.scheduleMessage(I.createNext(e))},t.prototype._error=function(e){this.scheduleMessage(I.createError(e)),this.unsubscribe()},t.prototype._complete=function(){this.scheduleMessage(I.createComplete()),this.unsubscribe()},t}(o.a),N=function(){return function(e,t){this.notification=e,this.destination=t}}(),U=function(e){function t(t,n,r){void 0===t&&(t=Number.POSITIVE_INFINITY),void 0===n&&(n=Number.POSITIVE_INFINITY);var i=e.call(this)||this;return i.scheduler=r,i._events=[],i._infiniteTimeWindow=!1,i._bufferSize=t<1?1:t,i._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(i._infiniteTimeWindow=!0,i.next=i.nextInfiniteTimeWindow):i.next=i.nextTimeWindow,i}return i.c(t,e),t.prototype.nextInfiniteTimeWindow=function(t){var n=this._events;n.push(t),n.length>this._bufferSize&&n.shift(),e.prototype.next.call(this,t)},t.prototype.nextTimeWindow=function(t){this._events.push(new B(this._getNow(),t)),this._trimBufferThenGetEvents(),e.prototype.next.call(this,t)},t.prototype._subscribe=function(e){var t,n=this._infiniteTimeWindow,r=n?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,o=r.length;if(this.closed)throw new s;if(this.isStopped||this.hasError?t=a.a.EMPTY:(this.observers.push(e),t=new c(this,e)),i&&e.add(e=new D(e,i)),n)for(var l=0;l<o&&!e.closed;l++)e.next(r[l]);else for(l=0;l<o&&!e.closed;l++)e.next(r[l].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),t},t.prototype._getNow=function(){return(this.scheduler||E).now()},t.prototype._trimBufferThenGetEvents=function(){for(var e=this._getNow(),t=this._bufferSize,n=this._windowTime,r=this._events,i=r.length,o=0;o<i&&!(e-r[o].time<n);)o++;return i>t&&(o=Math.max(o,i-t)),o>0&&r.splice(0,o),r},t}(d),B=function(){return function(e,t){this.time=e,this.value=t}}(),K=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.value=null,t.hasNext=!1,t.hasCompleted=!1,t}return i.c(t,e),t.prototype._subscribe=function(t){return this.hasError?(t.error(this.thrownError),a.a.EMPTY):this.hasCompleted&&this.hasNext?(t.next(this.value),t.complete(),a.a.EMPTY):e.prototype._subscribe.call(this,t)},t.prototype.next=function(e){this.hasCompleted||(this.value=e,this.hasNext=!0)},t.prototype.error=function(t){this.hasCompleted||e.prototype.error.call(this,t)},t.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&e.prototype.next.call(this,this.value),e.prototype.complete.call(this)},t}(d),H=1,V=function(){return Promise.resolve()}(),z={};function q(e){return e in z&&(delete z[e],!0)}var G=function(e){var t=H++;return z[t]=!0,V.then((function(){return q(t)&&e()})),t},J=function(e){q(e)},W=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r}return i.c(t,e),t.prototype.requestAsyncId=function(t,n,r){return void 0===r&&(r=0),null!==r&&r>0?e.prototype.requestAsyncId.call(this,t,n,r):(t.actions.push(this),t.scheduled||(t.scheduled=G(t.flush.bind(t,null))))},t.prototype.recycleAsyncId=function(t,n,r){if(void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0)return e.prototype.recycleAsyncId.call(this,t,n,r);0===t.actions.length&&(J(n),t.scheduled=void 0)},t}(S.a),Y=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.c(t,e),t.prototype.flush=function(e){this.active=!0,this.scheduled=void 0;var t,n=this.actions,r=-1,i=n.length;e=e||n.shift();do{if(t=e.execute(e.state,e.delay))break}while(++r<i&&(e=n.shift()));if(this.active=!1,t){for(;++r<i&&(e=n.shift());)e.unsubscribe();throw t}},t}(x.a))(W),$=n("T1DM"),X=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r}return i.c(t,e),t.prototype.requestAsyncId=function(t,n,r){return void 0===r&&(r=0),null!==r&&r>0?e.prototype.requestAsyncId.call(this,t,n,r):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame((function(){return t.flush(null)}))))},t.prototype.recycleAsyncId=function(t,n,r){if(void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0)return e.prototype.recycleAsyncId.call(this,t,n,r);0===t.actions.length&&(cancelAnimationFrame(n),t.scheduled=void 0)},t}(S.a),Q=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.c(t,e),t.prototype.flush=function(e){this.active=!0,this.scheduled=void 0;var t,n=this.actions,r=-1,i=n.length;e=e||n.shift();do{if(t=e.execute(e.state,e.delay))break}while(++r<i&&(e=n.shift()));if(this.active=!1,t){for(;++r<i&&(e=n.shift());)e.unsubscribe();throw t}},t}(x.a))(X),Z=function(e){function t(t,n){void 0===t&&(t=ee),void 0===n&&(n=Number.POSITIVE_INFINITY);var r=e.call(this,t,(function(){return r.frame}))||this;return r.maxFrames=n,r.frame=0,r.index=-1,r}return i.c(t,e),t.prototype.flush=function(){for(var e,t,n=this.actions,r=this.maxFrames;(t=n[0])&&t.delay<=r&&(n.shift(),this.frame=t.delay,!(e=t.execute(t.state,t.delay))););if(e){for(;t=n.shift();)t.unsubscribe();throw e}},t.frameTimeFactor=10,t}(x.a),ee=function(e){function t(t,n,r){void 0===r&&(r=t.index+=1);var i=e.call(this,t,n)||this;return i.scheduler=t,i.work=n,i.index=r,i.active=!0,i.index=t.index=r,i}return i.c(t,e),t.prototype.schedule=function(n,r){if(void 0===r&&(r=0),!this.id)return e.prototype.schedule.call(this,n,r);this.active=!1;var i=new t(this.scheduler,this.work);return this.add(i),i.schedule(n,r)},t.prototype.requestAsyncId=function(e,n,r){void 0===r&&(r=0),this.delay=e.frame+r;var i=e.actions;return i.push(this),i.sort(t.sortActions),!0},t.prototype.recycleAsyncId=function(e,t,n){void 0===n&&(n=0)},t.prototype._execute=function(t,n){if(!0===this.active)return e.prototype._execute.call(this,t,n)},t.sortActions=function(e,t){return e.delay===t.delay?e.index===t.index?0:e.index>t.index?1:-1:e.delay>t.delay?1:-1},t}(S.a),te=n("siIJ"),ne=n("y3By");function re(){}var ie=n("mChF");function oe(e){return!!e&&(e instanceof r.a||"function"===typeof e.lift&&"function"===typeof e.subscribe)}var ae=function(){function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return e.prototype=Object.create(Error.prototype),e}(),se=function(){function e(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return e.prototype=Object.create(Error.prototype),e}(),ce=n("awvh"),le=function(){function e(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return e.prototype=Object.create(Error.prototype),e}(),ue=n("67Y/"),de=n("1fDf"),he=n("isby");function pe(e,t,n){if(t){if(!O(t))return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return pe(e,n).apply(void 0,r).pipe(Object(ue.a)((function(e){return Object(he.a)(e)?t.apply(void 0,e):t(e)})))};n=t}return function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];var o,a=this,s={context:a,subject:o,callbackFunc:e,scheduler:n};return new r.a((function(r){if(n){var i={args:t,subscriber:r,params:s};return n.schedule(fe,0,i)}if(!o){o=new K;try{e.apply(a,t.concat([function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];o.next(e.length<=1?e[0]:e),o.complete()}]))}catch(c){Object(de.a)(o)?o.error(c):console.warn(c)}}return o.subscribe(r)}))}}function fe(e){var t=this,n=e.args,r=e.subscriber,i=e.params,o=i.callbackFunc,a=i.context,s=i.scheduler,c=i.subject;if(!c){c=i.subject=new K;try{o.apply(a,n.concat([function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e.length<=1?e[0]:e;t.add(s.schedule(me,0,{value:r,subject:c}))}]))}catch(l){c.error(l)}}this.add(c.subscribe(r))}function me(e){var t=e.value,n=e.subject;n.next(t),n.complete()}function ge(e,t,n){if(t){if(!O(t))return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return ge(e,n).apply(void 0,r).pipe(Object(ue.a)((function(e){return Object(he.a)(e)?t.apply(void 0,e):t(e)})))};n=t}return function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];var o={subject:void 0,args:t,callbackFunc:e,scheduler:n,context:this};return new r.a((function(r){var i=o.context,a=o.subject;if(n)return n.schedule(ve,0,{params:o,subscriber:r,context:i});if(!a){a=o.subject=new K;try{e.apply(i,t.concat([function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e.shift();n?a.error(n):(a.next(e.length<=1?e[0]:e),a.complete())}]))}catch(s){Object(de.a)(a)?a.error(s):console.warn(s)}}return a.subscribe(r)}))}}function ve(e){var t=this,n=e.params,r=e.subscriber,i=e.context,o=n.callbackFunc,a=n.args,s=n.scheduler,c=n.subject;if(!c){c=n.subject=new K;try{o.apply(i,a.concat([function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e.shift();if(r)t.add(s.schedule(be,0,{err:r,subject:c}));else{var i=e.length<=1?e[0]:e;t.add(s.schedule(ye,0,{value:i,subject:c}))}}]))}catch(l){this.add(s.schedule(be,0,{err:l,subject:c}))}}this.add(c.subscribe(r))}function ye(e){var t=e.value,n=e.subject;n.next(t),n.complete()}function be(e){var t=e.err;e.subject.error(t)}var Ce=n("MGBS"),we=n("zotm"),Se={};function ke(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=null,r=null;return O(e[e.length-1])&&(r=e.pop()),"function"===typeof e[e.length-1]&&(n=e.pop()),1===e.length&&Object(he.a)(e[0])&&(e=e[0]),R(e,r).lift(new xe(n))}var xe=function(){function e(e){this.resultSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new Ee(e,this.resultSelector))},e}(),Ee=function(e){function t(t,n){var r=e.call(this,t)||this;return r.resultSelector=n,r.active=0,r.values=[],r.observables=[],r}return i.c(t,e),t.prototype._next=function(e){this.values.push(Se),this.observables.push(e)},t.prototype._complete=function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(var n=0;n<t;n++){var r=e[n];this.add(Object(we.a)(this,r,r,n))}}},t.prototype.notifyComplete=function(e){0===(this.active-=1)&&this.destination.complete()},t.prototype.notifyNext=function(e,t,n,r,i){var o=this.values,a=o[n],s=this.toRespond?a===Se?--this.toRespond:this.toRespond:0;o[n]=t,0===s&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))},t.prototype._tryResultSelector=function(e){var t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)},t}(Ce.a),Te=n("psW0");function _e(e){return void 0===e&&(e=Number.POSITIVE_INFINITY),Object(Te.a)(ie.a,e)}function Oe(){return _e(1)}function Le(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Oe()(j.apply(void 0,e))}var Me=n("0/uQ");function Fe(e){return new r.a((function(t){var n;try{n=e()}catch(r){return void t.error(r)}return(n?Object(Me.a)(n):_()).subscribe(t)}))}var Re=n("McSo");function je(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(1===e.length){var n=e[0];if(Object(he.a)(n))return Ae(n,null);if(Object(Re.a)(n)&&Object.getPrototypeOf(n)===Object.prototype){var r=Object.keys(n);return Ae(r.map((function(e){return n[e]})),r)}}if("function"===typeof e[e.length-1]){var i=e.pop();return Ae(e=1===e.length&&Object(he.a)(e[0])?e[0]:e,null).pipe(Object(ue.a)((function(e){return i.apply(void 0,e)})))}return Ae(e,null)}function Ae(e,t){return new r.a((function(n){var r=e.length;if(0!==r)for(var i=new Array(r),o=0,a=0,s=function(s){var c=Object(Me.a)(e[s]),l=!1;n.add(c.subscribe({next:function(e){l||(l=!0,a++),i[s]=e},error:function(e){return n.error(e)},complete:function(){++o!==r&&l||(a===r&&n.next(t?t.reduce((function(e,t,n){return e[t]=i[n],e}),{}):i),n.complete())}}))},c=0;c<r;c++)s(c);else n.complete()}))}var Pe=n("2Bdj");function Ie(e,t,n,i){return Object(Pe.a)(n)&&(i=n,n=void 0),i?Ie(e,t,n).pipe(Object(ue.a)((function(e){return Object(he.a)(e)?i.apply(void 0,e):i(e)}))):new r.a((function(r){!function e(t,n,r,i,o){var a;if(function(e){return e&&"function"===typeof e.addEventListener&&"function"===typeof e.removeEventListener}(t)){var s=t;t.addEventListener(n,r,o),a=function(){return s.removeEventListener(n,r,o)}}else if(function(e){return e&&"function"===typeof e.on&&"function"===typeof e.off}(t)){var c=t;t.on(n,r),a=function(){return c.off(n,r)}}else if(function(e){return e&&"function"===typeof e.addListener&&"function"===typeof e.removeListener}(t)){var l=t;t.addListener(n,r),a=function(){return l.removeListener(n,r)}}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(var u=0,d=t.length;u<d;u++)e(t[u],n,r,i,o)}i.add(a)}(e,t,(function(e){arguments.length>1?r.next(Array.prototype.slice.call(arguments)):r.next(e)}),r,n)}))}function De(e,t,n){return n?De(e,t).pipe(Object(ue.a)((function(e){return Object(he.a)(e)?n.apply(void 0,e):n(e)}))):new r.a((function(n){var r,i=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n.next(1===e.length?e[0]:e)};try{r=e(i)}catch(o){return void n.error(o)}if(Object(Pe.a)(t))return function(){return t(i,r)}}))}function Ne(e,t,n,i,o){var a,s;if(1==arguments.length){var c=e;s=c.initialState,t=c.condition,n=c.iterate,a=c.resultSelector||ie.a,o=c.scheduler}else void 0===i||O(i)?(s=e,a=ie.a,o=i):(s=e,a=i);return new r.a((function(e){var r=s;if(o)return o.schedule(Ue,0,{subscriber:e,iterate:n,condition:t,resultSelector:a,state:r});for(;;){if(t){var i=void 0;try{i=t(r)}catch(l){return void e.error(l)}if(!i){e.complete();break}}var c=void 0;try{c=a(r)}catch(l){return void e.error(l)}if(e.next(c),e.closed)break;try{r=n(r)}catch(l){return void e.error(l)}}}))}function Ue(e){var t=e.subscriber,n=e.condition;if(!t.closed){if(e.needIterate)try{e.state=e.iterate(e.state)}catch(o){return void t.error(o)}else e.needIterate=!0;if(n){var r=void 0;try{r=n(e.state)}catch(o){return void t.error(o)}if(!r)return void t.complete();if(t.closed)return}var i;try{i=e.resultSelector(e.state)}catch(o){return void t.error(o)}if(!t.closed&&(t.next(i),!t.closed))return this.schedule(e)}}function Be(e,t,n){return void 0===t&&(t=T),void 0===n&&(n=T),Fe((function(){return e()?t:n}))}function Ke(e){return!Object(he.a)(e)&&e-parseFloat(e)+1>=0}function He(e,t){return void 0===e&&(e=0),void 0===t&&(t=$.a),(!Ke(e)||e<0)&&(e=0),t&&"function"===typeof t.schedule||(t=$.a),new r.a((function(n){return n.add(t.schedule(Ve,e,{subscriber:n,counter:0,period:e})),n}))}function Ve(e){var t=e.subscriber,n=e.counter,r=e.period;t.next(n),this.schedule({subscriber:t,counter:n+1,period:r},r)}function ze(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Number.POSITIVE_INFINITY,i=null,o=e[e.length-1];return O(o)?(i=e.pop(),e.length>1&&"number"===typeof e[e.length-1]&&(n=e.pop())):"number"===typeof o&&(n=e.pop()),null===i&&1===e.length&&e[0]instanceof r.a?e[0]:_e(n)(R(e,i))}var qe=new r.a(re);function Ge(){return qe}function Je(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(0===e.length)return T;var n=e[0],i=e.slice(1);return 1===e.length&&Object(he.a)(n)?Je.apply(void 0,n):new r.a((function(e){var t=function(){return e.add(Je.apply(void 0,i).subscribe(e))};return Object(Me.a)(n).subscribe({next:function(t){e.next(t)},error:t,complete:t})}))}function We(e,t){return t?new r.a((function(n){var r=Object.keys(e),i=new a.a;return i.add(t.schedule(Ye,0,{keys:r,index:0,subscriber:n,subscription:i,obj:e})),i})):new r.a((function(t){for(var n=Object.keys(e),r=0;r<n.length&&!t.closed;r++){var i=n[r];e.hasOwnProperty(i)&&t.next([i,e[i]])}t.complete()}))}function Ye(e){var t=e.keys,n=e.index,r=e.subscriber,i=e.subscription,o=e.obj;if(!r.closed)if(n<t.length){var a=t[n];r.next([a,o[a]]),i.add(this.schedule({keys:t,index:n+1,subscriber:r,subscription:i,obj:o}))}else r.complete()}function $e(e,t){function n(){return!n.pred.apply(n.thisArg,arguments)}return n.pred=e,n.thisArg=t,n}var Xe=n("Fxb1");function Qe(e,t){return function(n){return n.lift(new Ze(e,t))}}var Ze=function(){function e(e,t){this.predicate=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new et(e,this.predicate,this.thisArg))},e}(),et=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.predicate=n,i.thisArg=r,i.count=0,i}return i.c(t,e),t.prototype._next=function(e){var t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}t&&this.destination.next(e)},t}(o.a);function tt(e,t,n){return[Qe(t,n)(new r.a(Object(Xe.a)(e))),Qe($e(t,n))(new r.a(Object(Xe.a)(e)))]}function nt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(1===e.length){if(!Object(he.a)(e[0]))return e[0];e=e[0]}return R(e,void 0).lift(new rt)}var rt=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new it(e))},e}(),it=function(e){function t(t){var n=e.call(this,t)||this;return n.hasFirst=!1,n.observables=[],n.subscriptions=[],n}return i.c(t,e),t.prototype._next=function(e){this.observables.push(e)},t.prototype._complete=function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{for(var n=0;n<t&&!this.hasFirst;n++){var r=e[n],i=Object(we.a)(this,r,r,n);this.subscriptions&&this.subscriptions.push(i),this.add(i)}this.observables=null}},t.prototype.notifyNext=function(e,t,n,r,i){if(!this.hasFirst){this.hasFirst=!0;for(var o=0;o<this.subscriptions.length;o++)if(o!==n){var a=this.subscriptions[o];a.unsubscribe(),this.remove(a)}this.subscriptions=null}this.destination.next(t)},t}(Ce.a);function ot(e,t,n){return void 0===e&&(e=0),new r.a((function(r){void 0===t&&(t=e,e=0);var i=0,o=e;if(n)return n.schedule(at,0,{index:i,count:t,start:e,subscriber:r});for(;;){if(i++>=t){r.complete();break}if(r.next(o++),r.closed)break}}))}function at(e){var t=e.start,n=e.index,r=e.count,i=e.subscriber;n>=r?i.complete():(i.next(t),i.closed||(e.index=n+1,e.start=t+1,this.schedule(e)))}function st(e,t,n){void 0===e&&(e=0);var i=-1;return Ke(t)?i=Number(t)<1?1:Number(t):O(t)&&(n=t),O(n)||(n=$.a),new r.a((function(t){var r=Ke(e)?e:+e-n.now();return n.schedule(ct,r,{index:0,period:i,subscriber:t})}))}function ct(e){var t=e.index,n=e.period,r=e.subscriber;if(r.next(t),!r.closed){if(-1===n)return r.complete();e.index=t+1,this.schedule(e,n)}}function lt(e,t){return new r.a((function(n){var r,i;try{r=e()}catch(a){return void n.error(a)}try{i=t(r)}catch(a){return void n.error(a)}var o=(i?Object(Me.a)(i):T).subscribe(n);return function(){o.unsubscribe(),r&&r.unsubscribe()}}))}var ut=n("En8+");function dt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[e.length-1];return"function"===typeof n&&e.pop(),R(e,void 0).lift(new ht(n))}var ht=function(){function e(e){this.resultSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new pt(e,this.resultSelector))},e}(),pt=function(e){function t(t,n,r){void 0===r&&(r=Object.create(null));var i=e.call(this,t)||this;return i.iterators=[],i.active=0,i.resultSelector="function"===typeof n?n:null,i.values=r,i}return i.c(t,e),t.prototype._next=function(e){var t=this.iterators;Object(he.a)(e)?t.push(new mt(e)):"function"===typeof e[ut.a]?t.push(new ft(e[ut.a]())):t.push(new gt(this.destination,this,e))},t.prototype._complete=function(){var e=this.iterators,t=e.length;if(this.unsubscribe(),0!==t){this.active=t;for(var n=0;n<t;n++){var r=e[n];if(r.stillUnsubscribed)this.destination.add(r.subscribe(r,n));else this.active--}}else this.destination.complete()},t.prototype.notifyInactive=function(){this.active--,0===this.active&&this.destination.complete()},t.prototype.checkIterators=function(){for(var e=this.iterators,t=e.length,n=this.destination,r=0;r<t;r++){if("function"===typeof(a=e[r]).hasValue&&!a.hasValue())return}var i=!1,o=[];for(r=0;r<t;r++){var a,s=(a=e[r]).next();if(a.hasCompleted()&&(i=!0),s.done)return void n.complete();o.push(s.value)}this.resultSelector?this._tryresultSelector(o):n.next(o),i&&n.complete()},t.prototype._tryresultSelector=function(e){var t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)},t}(o.a),ft=function(){function e(e){this.iterator=e,this.nextResult=e.next()}return e.prototype.hasValue=function(){return!0},e.prototype.next=function(){var e=this.nextResult;return this.nextResult=this.iterator.next(),e},e.prototype.hasCompleted=function(){var e=this.nextResult;return e&&e.done},e}(),mt=function(){function e(e){this.array=e,this.index=0,this.length=0,this.length=e.length}return e.prototype[ut.a]=function(){return this},e.prototype.next=function(e){var t=this.index++,n=this.array;return t<this.length?{value:n[t],done:!1}:{value:null,done:!0}},e.prototype.hasValue=function(){return this.array.length>this.index},e.prototype.hasCompleted=function(){return this.array.length===this.index},e}(),gt=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.parent=n,i.observable=r,i.stillUnsubscribed=!0,i.buffer=[],i.isComplete=!1,i}return i.c(t,e),t.prototype[ut.a]=function(){return this},t.prototype.next=function(){var e=this.buffer;return 0===e.length&&this.isComplete?{value:null,done:!0}:{value:e.shift(),done:!1}},t.prototype.hasValue=function(){return this.buffer.length>0},t.prototype.hasCompleted=function(){return 0===this.buffer.length&&this.isComplete},t.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},t.prototype.notifyNext=function(e,t,n,r,i){this.buffer.push(t),this.parent.checkIterators()},t.prototype.subscribe=function(e,t){return Object(we.a)(this,this.observable,this,t)},t}(Ce.a),vt=n("i4X3"),yt=n("iLxQ")},E5sL:function(e,t,n){"use strict";n.r(t);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CodeshareSidebar_me",selections:[{args:null,kind:"FragmentSpread",name:"CodeshareSettingsForm_me"}],type:"Me",hash:"85e07130f6e32f30773c31e7e2635ffe"};t.default=r},Ebbz:function(e,t,n){"use strict";n.r(t);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"NagModal_codeshare",selections:[{args:null,kind:"FragmentSpread",name:"LoginRegisterModal_codeshare"}],type:"Codeshare",hash:"c1c3ee2c45ad7a62e2145a7a371c968d"};t.default=r},"En8+":function(e,t,n){"use strict";function r(){return"function"===typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(t,"a",(function(){return i}));var i=r()},F7dn:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));n("DQNa"),n("07d7"),n("JfAA");var r=n("ns91"),i=n("ygsk");function o(e){var t;return e.req?(r.a.assert(e.req.url,"url is missing",{req:e.req}),i.a.debug("NEXTPAGEURL server",e.req.url.pathname),"string"===typeof e.req.url?e.req.url.toString():e.req.url.pathname):(i.a.debug("NEXTPAGEURL client",{pathname:window.location.pathname,state:null===(t=window.history)||void 0===t?void 0:t.state}),window.location.pathname)}},FFOo:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("mrSG"),i=n("2Bdj"),o=n("6ahw"),a=n("pugT"),s=n("L/V9"),c=n("iLxQ"),l=n("DKTb"),u=function(e){function t(n,r,i){var a=e.call(this)||this;switch(a.syncErrorValue=null,a.syncErrorThrown=!1,a.syncErrorThrowable=!1,a.isStopped=!1,arguments.length){case 0:a.destination=o.a;break;case 1:if(!n){a.destination=o.a;break}if("object"===typeof n){n instanceof t?(a.syncErrorThrowable=n.syncErrorThrowable,a.destination=n,n.add(a)):(a.syncErrorThrowable=!0,a.destination=new d(a,n));break}default:a.syncErrorThrowable=!0,a.destination=new d(a,n,r,i)}return a}return r.c(t,e),t.prototype[s.a]=function(){return this},t.create=function(e,n,r){var i=new t(e,n,r);return i.syncErrorThrowable=!1,i},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype._unsubscribeAndRecycle=function(){var e=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this},t}(a.a),d=function(e){function t(t,n,r,a){var s,c=e.call(this)||this;c._parentSubscriber=t;var l=c;return Object(i.a)(n)?s=n:n&&(s=n.next,r=n.error,a=n.complete,n!==o.a&&(l=Object.create(n),Object(i.a)(l.unsubscribe)&&c.add(l.unsubscribe.bind(l)),l.unsubscribe=c.unsubscribe.bind(c))),c._context=l,c._next=s,c._error=r,c._complete=a,c}return r.c(t,e),t.prototype.next=function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;c.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}},t.prototype.error=function(e){if(!this.isStopped){var t=this._parentSubscriber,n=c.a.useDeprecatedSynchronousErrorHandling;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):Object(l.a)(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;Object(l.a)(e)}}},t.prototype.complete=function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var n=function(){return e._complete.call(e._context)};c.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},t.prototype.__tryOrUnsub=function(e,t){try{e.call(this._context,t)}catch(n){if(this.unsubscribe(),c.a.useDeprecatedSynchronousErrorHandling)throw n;Object(l.a)(n)}},t.prototype.__tryOrSetError=function(e,t,n){if(!c.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(r){return c.a.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=r,e.syncErrorThrown=!0,!0):(Object(l.a)(r),!0)}return!1},t.prototype._unsubscribe=function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()},t}(u)},Fxb1:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("+tJ4"),i=n("DKTb"),o=n("En8+"),a=n("xTla"),s=n("2ePl"),c=n("/WYv"),l=n("McSo"),u=function(e){if(e&&"function"===typeof e[a.a])return u=e,function(e){var t=u[a.a]();if("function"!==typeof t.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)};if(Object(s.a)(e))return Object(r.a)(e);if(Object(c.a)(e))return n=e,function(e){return n.then((function(t){e.closed||(e.next(t),e.complete())}),(function(t){return e.error(t)})).then(null,i.a),e};if(e&&"function"===typeof e[o.a])return t=e,function(e){for(var n=t[o.a]();;){var r=n.next();if(r.done){e.complete();break}if(e.next(r.value),e.closed)break}return"function"===typeof n.return&&e.add((function(){n.return&&n.return()})),e};var t,n,u,d=Object(l.a)(e)?"an invalid object":"'"+e+"'";throw new TypeError("You provided "+d+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")}},GG1g:function(e,t,n){var r=n("1C/a");t.toSessionSDP=function(e,n){n.role,n.direction;var r=["v=0","o=- "+(n.sid||e.sid||Date.now())+" "+(n.time||Date.now())+" IN IP4 0.0.0.0","s=-","t=0 0"],i=e.contents||[],o=!1;return i.forEach((function(e){e.application.sources&&e.application.sources.length&&(o=!0)})),o&&r.push("a=msid-semantic: WMS *"),(e.groups||[]).forEach((function(e){r.push("a=group:"+e.semantics+" "+e.contents.join(" "))})),i.forEach((function(e){r.push(t.toMediaSDP(e,n))})),r.join("\r\n")+"\r\n"},t.toMediaSDP=function(e,n){var i=[],o=n.role||"initiator",a=n.direction||"outgoing",s=e.application,c=e.transport,l=s.payloads||[],u=c&&c.fingerprints||[],d=[];if("datachannel"==s.applicationType?(d.push("application"),d.push("1"),d.push("DTLS/SCTP"),c.sctp&&c.sctp.forEach((function(e){d.push(e.number)}))):(d.push(s.media),d.push("1"),u.length>0?d.push("UDP/TLS/RTP/SAVPF"):s.encryption&&s.encryption.length>0?d.push("RTP/SAVPF"):d.push("RTP/AVPF"),l.forEach((function(e){d.push(e.id)}))),i.push("m="+d.join(" ")),i.push("c=IN IP4 0.0.0.0"),s.bandwidth&&s.bandwidth.type&&s.bandwidth.bandwidth&&i.push("b="+s.bandwidth.type+":"+s.bandwidth.bandwidth),"rtp"==s.applicationType&&i.push("a=rtcp:1 IN IP4 0.0.0.0"),c){c.ufrag&&i.push("a=ice-ufrag:"+c.ufrag),c.pwd&&i.push("a=ice-pwd:"+c.pwd);u.forEach((function(e){i.push("a=fingerprint:"+e.hash+" "+e.value),e.setup&&i.push("a=setup:"+e.setup)})),c.sctp&&c.sctp.forEach((function(e){i.push("a=sctpmap:"+e.number+" "+e.protocol+" "+e.streams)}))}if("rtp"==s.applicationType&&i.push("a="+(r[o][a][e.senders]||"sendrecv")),i.push("a=mid:"+e.name),s.sources&&s.sources.length){var h={};s.sources.forEach((function(e){(e.parameters||[]).forEach((function(e){"msid"===e.key&&(h[e.value]=1)}))})),1===(h=Object.keys(h)).length&&i.push("a=msid:"+h[0])}return s.mux&&i.push("a=rtcp-mux"),s.rsize&&i.push("a=rtcp-rsize"),(s.encryption||[]).forEach((function(e){i.push("a=crypto:"+e.tag+" "+e.cipherSuite+" "+e.keyParams+(e.sessionParams?" "+e.sessionParams:""))})),s.googConferenceFlag&&i.push("a=x-google-flag:conference"),l.forEach((function(e){var t="a=rtpmap:"+e.id+" "+e.name+"/"+e.clockrate;if(e.channels&&"1"!=e.channels&&(t+="/"+e.channels),i.push(t),e.parameters&&e.parameters.length){var n=["a=fmtp:"+e.id],r=[];e.parameters.forEach((function(e){r.push((e.key?e.key+"=":"")+e.value)})),n.push(r.join(";")),i.push(n.join(" "))}e.feedback&&e.feedback.forEach((function(t){"trr-int"===t.type?i.push("a=rtcp-fb:"+e.id+" trr-int "+(t.value?t.value:"0")):i.push("a=rtcp-fb:"+e.id+" "+t.type+(t.subtype?" "+t.subtype:""))}))})),s.feedback&&s.feedback.forEach((function(e){"trr-int"===e.type?i.push("a=rtcp-fb:* trr-int "+(e.value?e.value:"0")):i.push("a=rtcp-fb:* "+e.type+(e.subtype?" "+e.subtype:""))})),(s.headerExtensions||[]).forEach((function(e){i.push("a=extmap:"+e.id+(e.senders?"/"+r[o][a][e.senders]:"")+" "+e.uri)})),(s.sourceGroups||[]).forEach((function(e){i.push("a=ssrc-group:"+e.semantics+" "+e.sources.join(" "))})),(s.sources||[]).forEach((function(e){for(var t=0;t<e.parameters.length;t++){var n=e.parameters[t];i.push("a=ssrc:"+(e.ssrc||s.ssrc)+" "+n.key+(n.value?":"+n.value:""))}})),(c.candidates||[]).forEach((function(e){i.push(t.toCandidateSDP(e))})),i.join("\r\n")},t.toCandidateSDP=function(e){var t=[];t.push(e.foundation),t.push(e.component),t.push(e.protocol.toUpperCase()),t.push(e.priority),t.push(e.ip),t.push(e.port);var n=e.type;return t.push("typ"),t.push(n),"srflx"!==n&&"prflx"!==n&&"relay"!==n||e.relAddr&&e.relPort&&(t.push("raddr"),t.push(e.relAddr),t.push("rport"),t.push(e.relPort)),e.tcpType&&"TCP"==e.protocol.toUpperCase()&&(t.push("tcptype"),t.push(e.tcpType)),t.push("generation"),t.push(e.generation||"0"),"a=candidate:"+t.join(" ")}},Gbct:function(e,t,n){var r=n("Wm4p"),i=n("1Mk5");function o(e){this.path=e.path,this.hostname=e.hostname,this.port=e.port,this.secure=e.secure,this.query=e.query,this.timestampParam=e.timestampParam,this.timestampRequests=e.timestampRequests,this.readyState="",this.agent=e.agent||!1,this.socket=e.socket,this.enablesXDR=e.enablesXDR,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.forceNode=e.forceNode,this.extraHeaders=e.extraHeaders,this.localAddress=e.localAddress}e.exports=o,i(o.prototype),o.prototype.onError=function(e,t){var n=new Error(e);return n.type="TransportError",n.description=t,this.emit("error",n),this},o.prototype.open=function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this},o.prototype.close=function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this},o.prototype.send=function(e){if("open"!==this.readyState)throw new Error("Transport not open");this.write(e)},o.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},o.prototype.onData=function(e){var t=r.decodePacket(e,this.socket.binaryType);this.onPacket(t)},o.prototype.onPacket=function(e){this.emit("packet",e)},o.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},"H+u8":function(e,t,n){"use strict";n.r(t);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CodeshareDownloadButton_codeshare",selections:[{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"createdAt",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"modeName",storageKey:null}],type:"Codeshare",hash:"6b1de6405f39d8251581f39820b0da40"};t.default=r},H1Ls:function(e,t,n){(function(e,r){var i;(function(){var o=n("PDX0"),a={function:!0,object:!0},s=a[typeof t]&&t&&!t.nodeType&&t,c=a[typeof window]&&window||this,l=s&&a[typeof e]&&e&&!e.nodeType&&"object"==typeof r&&r;function u(e,t){e||(e=c.Object()),t||(t=c.Object());var n=e.Number||c.Number,r=e.String||c.String,i=e.Object||c.Object,o=e.Date||c.Date,s=e.SyntaxError||c.SyntaxError,l=e.TypeError||c.TypeError,d=e.Math||c.Math,h=e.JSON||c.JSON;"object"==typeof h&&h&&(t.stringify=h.stringify,t.parse=h.parse);var p,f,m=i.prototype,g=m.toString,v=new o(-0xc782b5b800cec);try{v=-109252==v.getUTCFullYear()&&0===v.getUTCMonth()&&1===v.getUTCDate()&&10==v.getUTCHours()&&37==v.getUTCMinutes()&&6==v.getUTCSeconds()&&708==v.getUTCMilliseconds()}catch(I){}function y(e){if(undefined!==y[e])return y[e];var i;if("bug-string-char-index"==e)i="a"!="a"[0];else if("json"==e)i=y("json-stringify")&&y("json-parse");else{var a,s='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==e){var c=t.stringify,l="function"==typeof c&&v;if(l){(a=function(){return 1}).toJSON=a;try{l="0"===c(0)&&"0"===c(new n)&&'""'==c(new r)&&undefined===c(g)&&undefined===c(undefined)&&undefined===c()&&"1"===c(a)&&"[1]"==c([a])&&"[null]"==c([undefined])&&"null"==c(null)&&"[null,null,null]"==c([undefined,g,null])&&c({a:[a,!0,!1,null,"\0\b\n\f\r\t"]})==s&&"1"===c(null,a)&&"[\n 1,\n 2\n]"==c([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==c(new o(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==c(new o(864e13))&&'"-000001-01-01T00:00:00.000Z"'==c(new o(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==c(new o(-1))}catch(I){l=!1}}i=l}if("json-parse"==e){var u=t.parse;if("function"==typeof u)try{if(0===u("0")&&!u(!1)){var d=5==(a=u(s)).a.length&&1===a.a[0];if(d){try{d=!u('"\t"')}catch(I){}if(d)try{d=1!==u("01")}catch(I){}if(d)try{d=1!==u("1.")}catch(I){}}}}catch(I){d=!1}i=d}}return y[e]=!!i}if(!y("json")){var b=y("bug-string-char-index");if(!v)var C=d.floor,w=[0,31,59,90,120,151,181,212,243,273,304,334],S=function(e,t){return w[t]+365*(e-1970)+C((e-1969+(t=+(t>1)))/4)-C((e-1901+t)/100)+C((e-1601+t)/400)};if((p=m.hasOwnProperty)||(p=function(e){var t,n={};return(n.__proto__=null,n.__proto__={toString:1},n).toString!=g?p=function(e){var t=this.__proto__,n=e in(this.__proto__=null,this);return this.__proto__=t,n}:(t=n.constructor,p=function(e){var n=(this.constructor||t).prototype;return e in this&&!(e in n&&this[e]===n[e])}),n=null,p.call(this,e)}),f=function(e,t){var n,r,i,o=0;for(i in(n=function(){this.valueOf=0}).prototype.valueOf=0,r=new n)p.call(r,i)&&o++;return n=r=null,o?f=2==o?function(e,t){var n,r={},i="[object Function]"==g.call(e);for(n in e)i&&"prototype"==n||p.call(r,n)||!(r[n]=1)||!p.call(e,n)||t(n)}:function(e,t){var n,r,i="[object Function]"==g.call(e);for(n in e)i&&"prototype"==n||!p.call(e,n)||(r="constructor"===n)||t(n);(r||p.call(e,n="constructor"))&&t(n)}:(r=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],f=function(e,t){var n,i,o="[object Function]"==g.call(e),s=!o&&"function"!=typeof e.constructor&&a[typeof e.hasOwnProperty]&&e.hasOwnProperty||p;for(n in e)o&&"prototype"==n||!s.call(e,n)||t(n);for(i=r.length;n=r[--i];s.call(e,n)&&t(n));}),f(e,t)},!y("json-stringify")){var k={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},x=function(e,t){return("000000"+(t||0)).slice(-e)},E=function(e){for(var t='"',n=0,r=e.length,i=!b||r>10,o=i&&(b?e.split(""):e);n<r;n++){var a=e.charCodeAt(n);switch(a){case 8:case 9:case 10:case 12:case 13:case 34:case 92:t+=k[a];break;default:if(a<32){t+="\\u00"+x(2,a.toString(16));break}t+=i?o[n]:e.charAt(n)}}return t+'"'},T=function(e,t,n,r,i,o,a){var s,c,u,d,h,m,v,y,b,w,k,_,O,L,M,F;try{s=t[e]}catch(I){}if("object"==typeof s&&s)if("[object Date]"!=(c=g.call(s))||p.call(s,"toJSON"))"function"==typeof s.toJSON&&("[object Number]"!=c&&"[object String]"!=c&&"[object Array]"!=c||p.call(s,"toJSON"))&&(s=s.toJSON(e));else if(s>-1/0&&s<1/0){if(S){for(h=C(s/864e5),u=C(h/365.2425)+1970-1;S(u+1,0)<=h;u++);for(d=C((h-S(u,0))/30.42);S(u,d+1)<=h;d++);h=1+h-S(u,d),v=C((m=(s%864e5+864e5)%864e5)/36e5)%24,y=C(m/6e4)%60,b=C(m/1e3)%60,w=m%1e3}else u=s.getUTCFullYear(),d=s.getUTCMonth(),h=s.getUTCDate(),v=s.getUTCHours(),y=s.getUTCMinutes(),b=s.getUTCSeconds(),w=s.getUTCMilliseconds();s=(u<=0||u>=1e4?(u<0?"-":"+")+x(6,u<0?-u:u):x(4,u))+"-"+x(2,d+1)+"-"+x(2,h)+"T"+x(2,v)+":"+x(2,y)+":"+x(2,b)+"."+x(3,w)+"Z"}else s=null;if(n&&(s=n.call(t,e,s)),null===s)return"null";if("[object Boolean]"==(c=g.call(s)))return""+s;if("[object Number]"==c)return s>-1/0&&s<1/0?""+s:"null";if("[object String]"==c)return E(""+s);if("object"==typeof s){for(L=a.length;L--;)if(a[L]===s)throw l();if(a.push(s),k=[],M=o,o+=i,"[object Array]"==c){for(O=0,L=s.length;O<L;O++)_=T(O,s,n,r,i,o,a),k.push(undefined===_?"null":_);F=k.length?i?"[\n"+o+k.join(",\n"+o)+"\n"+M+"]":"["+k.join(",")+"]":"[]"}else f(r||s,(function(e){var t=T(e,s,n,r,i,o,a);undefined!==t&&k.push(E(e)+":"+(i?" ":"")+t)})),F=k.length?i?"{\n"+o+k.join(",\n"+o)+"\n"+M+"}":"{"+k.join(",")+"}":"{}";return a.pop(),F}};t.stringify=function(e,t,n){var r,i,o,s;if(a[typeof t]&&t)if("[object Function]"==(s=g.call(t)))i=t;else if("[object Array]"==s){o={};for(var c,l=0,u=t.length;l<u;c=t[l++],("[object String]"==(s=g.call(c))||"[object Number]"==s)&&(o[c]=1));}if(n)if("[object Number]"==(s=g.call(n))){if((n-=n%1)>0)for(r="",n>10&&(n=10);r.length<n;r+=" ");}else"[object String]"==s&&(r=n.length<=10?n:n.slice(0,10));return T("",((c={})[""]=e,c),i,o,r,"",[])}}if(!y("json-parse")){var _,O,L=r.fromCharCode,M={92:"\\",34:'"',47:"/",98:"\b",116:"\t",110:"\n",102:"\f",114:"\r"},F=function(){throw _=O=null,s()},R=function(){for(var e,t,n,r,i,o=O,a=o.length;_<a;)switch(i=o.charCodeAt(_)){case 9:case 10:case 13:case 32:_++;break;case 123:case 125:case 91:case 93:case 58:case 44:return e=b?o.charAt(_):o[_],_++,e;case 34:for(e="@",_++;_<a;)if((i=o.charCodeAt(_))<32)F();else if(92==i)switch(i=o.charCodeAt(++_)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:e+=M[i],_++;break;case 117:for(t=++_,n=_+4;_<n;_++)(i=o.charCodeAt(_))>=48&&i<=57||i>=97&&i<=102||i>=65&&i<=70||F();e+=L("0x"+o.slice(t,_));break;default:F()}else{if(34==i)break;for(i=o.charCodeAt(_),t=_;i>=32&&92!=i&&34!=i;)i=o.charCodeAt(++_);e+=o.slice(t,_)}if(34==o.charCodeAt(_))return _++,e;F();default:if(t=_,45==i&&(r=!0,i=o.charCodeAt(++_)),i>=48&&i<=57){for(48==i&&((i=o.charCodeAt(_+1))>=48&&i<=57)&&F(),r=!1;_<a&&((i=o.charCodeAt(_))>=48&&i<=57);_++);if(46==o.charCodeAt(_)){for(n=++_;n<a&&((i=o.charCodeAt(n))>=48&&i<=57);n++);n==_&&F(),_=n}if(101==(i=o.charCodeAt(_))||69==i){for(43!=(i=o.charCodeAt(++_))&&45!=i||_++,n=_;n<a&&((i=o.charCodeAt(n))>=48&&i<=57);n++);n==_&&F(),_=n}return+o.slice(t,_)}if(r&&F(),"true"==o.slice(_,_+4))return _+=4,!0;if("false"==o.slice(_,_+5))return _+=5,!1;if("null"==o.slice(_,_+4))return _+=4,null;F()}return"$"},j=function(e){var t,n;if("$"==e&&F(),"string"==typeof e){if("@"==(b?e.charAt(0):e[0]))return e.slice(1);if("["==e){for(t=[];"]"!=(e=R());n||(n=!0))n&&(","==e?"]"==(e=R())&&F():F()),","==e&&F(),t.push(j(e));return t}if("{"==e){for(t={};"}"!=(e=R());n||(n=!0))n&&(","==e?"}"==(e=R())&&F():F()),","!=e&&"string"==typeof e&&"@"==(b?e.charAt(0):e[0])&&":"==R()||F(),t[e.slice(1)]=j(R());return t}F()}return e},A=function(e,t,n){var r=P(e,t,n);undefined===r?delete e[t]:e[t]=r},P=function(e,t,n){var r,i=e[t];if("object"==typeof i&&i)if("[object Array]"==g.call(i))for(r=i.length;r--;)A(i,r,n);else f(i,(function(e){A(i,e,n)}));return n.call(e,t,i)};t.parse=function(e,t){var n,r;return _=0,O=""+e,n=j(R()),"$"!=R()&&F(),_=O=null,t&&"[object Function]"==g.call(t)?P(((r={})[""]=n,r),"",t):n}}}return t.runInContext=u,t}if(!l||l.global!==l&&l.window!==l&&l.self!==l||(c=l),s&&!o)u(c,s);else{var d=c.JSON,h=c.JSON3,p=!1,f=u(c,c.JSON3={noConflict:function(){return p||(p=!0,c.JSON=d,c.JSON3=h,d=h=null),f}});c.JSON={parse:f.parse,stringify:f.stringify}}o&&(void 0===(i=function(){return f}.call(t,n,t,e))||(e.exports=i))}).call(this)}).call(this,n("YuTi")(e),n("yLpj"))},HLhL:function(e,t,n){"use strict";n.r(t);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CodeshareKeymapFormField_me",selections:[{args:null,kind:"FragmentSpread",name:"useKeymap_me"}],type:"Me",hash:"0d0d273861ff0227c0e1a36283793e4a"};t.default=r},HxeQ:function(e,t,n){"use strict";var r=n("zFjM").log,i=n("zFjM").browserDetails;e.exports=function(){var e=function(e){return{name:{SecurityError:"NotAllowedError",PermissionDeniedError:"NotAllowedError"}[e.name]||e.name,message:{"The operation is insecure.":"The request is not allowed by the user agent or the platform in the current context."}[e.message]||e.message,constraint:e.constraint,toString:function(){return this.name+(this.message&&": ")+this.message}}},t=function(t,n,o){var a=function(e){if("object"!==typeof e||e.require)return e;var t=[];return Object.keys(e).forEach((function(n){if("require"!==n&&"advanced"!==n&&"mediaSource"!==n){var r=e[n]="object"===typeof e[n]?e[n]:{ideal:e[n]};if(void 0===r.min&&void 0===r.max&&void 0===r.exact||t.push(n),void 0!==r.exact&&("number"===typeof r.exact?r.min=r.max=r.exact:e[n]=r.exact,delete r.exact),void 0!==r.ideal){e.advanced=e.advanced||[];var i={};"number"===typeof r.ideal?i[n]={min:r.ideal,max:r.ideal}:i[n]=r.ideal,e.advanced.push(i),delete r.ideal,Object.keys(r).length||delete e[n]}}})),t.length&&(e.require=t),e};return t=JSON.parse(JSON.stringify(t)),i.version<38&&(r("spec: "+JSON.stringify(t)),t.audio&&(t.audio=a(t.audio)),t.video&&(t.video=a(t.video)),r("ff37: "+JSON.stringify(t))),navigator.mozGetUserMedia(t,n,(function(t){o(e(t))}))};if(navigator.mediaDevices||(navigator.mediaDevices={getUserMedia:function(e){return new Promise((function(n,r){t(e,n,r)}))},addEventListener:function(){},removeEventListener:function(){}}),navigator.mediaDevices.enumerateDevices=navigator.mediaDevices.enumerateDevices||function(){return new Promise((function(e){e([{kind:"audioinput",deviceId:"default",label:"",groupId:""},{kind:"videoinput",deviceId:"default",label:"",groupId:""}])}))},i.version<41){var n=navigator.mediaDevices.enumerateDevices.bind(navigator.mediaDevices);navigator.mediaDevices.enumerateDevices=function(){return n().then(void 0,(function(e){if("NotFoundError"===e.name)return[];throw e}))}}if(i.version<49){var o=navigator.mediaDevices.getUserMedia.bind(navigator.mediaDevices);navigator.mediaDevices.getUserMedia=function(t){return o(t).catch((function(t){return Promise.reject(e(t))}))}}navigator.getUserMedia=function(e,n,r){if(i.version<44)return t(e,n,r);console.warn("navigator.getUserMedia has been replaced by navigator.mediaDevices.getUserMedia"),navigator.mediaDevices.getUserMedia(e).then(n,r)}}},I5KL:function(e,t){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},IrEX:function(e,t,n){"use strict";e.exports=function(){var e=navigator.mediaDevices.getUserMedia.bind(navigator.mediaDevices);navigator.mediaDevices.getUserMedia=function(t){return e(t).catch((function(e){return Promise.reject(function(e){return{name:{PermissionDeniedError:"NotAllowedError"}[e.name]||e.name,message:e.message,constraint:e.constraint,toString:function(){return this.name}}}(e))}))}}},JE4x:function(e,t,n){"use strict";n.r(t);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CodeshareShareButton_codeshare",selections:[{alias:null,args:null,concreteType:"CanEdit",kind:"LinkedField",name:"canEdit",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"me",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"userIds",storageKey:null}],storageKey:null}],type:"Codeshare",hash:"cdf89f43964cf890ba394db4a41cf7e3"};t.default=r},"JF+6":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("6blF"),i=n("pugT");function o(e,t){return new r.a((function(n){var r=new i.a,o=0;return r.add(t.schedule((function(){o!==e.length?(n.next(e[o++]),n.closed||r.add(this.schedule())):n.complete()}))),r}))}},JIt6:function(e,t,n){"use strict";var r=n("Ypoe").log,i=n("Ypoe").browserDetails,o={shimMediaStream:function(){window.MediaStream=window.MediaStream||window.webkitMediaStream},shimOnTrack:function(){"object"===typeof window&&window.RTCPeerConnection&&!("ontrack"in window.RTCPeerConnection.prototype)&&Object.defineProperty(window.RTCPeerConnection.prototype,"ontrack",{get:function(){return this._ontrack},set:function(e){var t=this;this._ontrack&&(this.removeEventListener("track",this._ontrack),this.removeEventListener("addstream",this._ontrackpoly)),this.addEventListener("track",this._ontrack=e),this.addEventListener("addstream",this._ontrackpoly=function(e){e.stream.addEventListener("addtrack",(function(n){var r=new Event("track");r.track=n.track,r.receiver={track:n.track},r.streams=[e.stream],t.dispatchEvent(r)})),e.stream.getTracks().forEach(function(t){var n=new Event("track");n.track=t,n.receiver={track:t},n.streams=[e.stream],this.dispatchEvent(n)}.bind(this))}.bind(this))}})},shimSourceObject:function(){"object"===typeof window&&window.HTMLMediaElement&&!("srcObject"in window.HTMLMediaElement.prototype)&&Object.defineProperty(window.HTMLMediaElement.prototype,"srcObject",{get:function(){return this._srcObject},set:function(e){var t=this;this._srcObject=e,this.src&&URL.revokeObjectURL(this.src),e?(this.src=URL.createObjectURL(e),e.addEventListener("addtrack",(function(){t.src&&URL.revokeObjectURL(t.src),t.src=URL.createObjectURL(e)})),e.addEventListener("removetrack",(function(){t.src&&URL.revokeObjectURL(t.src),t.src=URL.createObjectURL(e)}))):this.src=""}})},shimPeerConnection:function(){window.RTCPeerConnection=function(e,t){r("PeerConnection"),e&&e.iceTransportPolicy&&(e.iceTransports=e.iceTransportPolicy);var n=new webkitRTCPeerConnection(e,t),i=n.getStats.bind(n);return n.getStats=function(e,t,n){var r=this,o=arguments;if(arguments.length>0&&"function"===typeof e)return i(e,t);var a=function(e){var t={};return e.result().forEach((function(e){var n={id:e.id,timestamp:e.timestamp,type:e.type};e.names().forEach((function(t){n[t]=e.stat(t)})),t[n.id]=n})),t},s=function(e,t){var n=new Map(Object.keys(e).map((function(t){return[t,e[t]]})));return t=t||e,Object.keys(t).forEach((function(e){n[e]=t[e]})),n};if(arguments.length>=2){var c=function(e){o[1](s(a(e)))};return i.apply(this,[c,arguments[0]])}return new Promise((function(t,n){1===o.length&&"object"===typeof e?i.apply(r,[function(e){t(s(a(e)))},n]):i.apply(r,[function(e){t(s(a(e),e.result()))},n])})).then(t,n)},n},window.RTCPeerConnection.prototype=webkitRTCPeerConnection.prototype,webkitRTCPeerConnection.generateCertificate&&Object.defineProperty(window.RTCPeerConnection,"generateCertificate",{get:function(){return webkitRTCPeerConnection.generateCertificate}}),["createOffer","createAnswer"].forEach((function(e){var t=webkitRTCPeerConnection.prototype[e];webkitRTCPeerConnection.prototype[e]=function(){var e=this;if(arguments.length<1||1===arguments.length&&"object"===typeof arguments[0]){var n=1===arguments.length?arguments[0]:void 0;return new Promise((function(r,i){t.apply(e,[r,i,n])}))}return t.apply(this,arguments)}})),i.version<51&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach((function(e){var t=webkitRTCPeerConnection.prototype[e];webkitRTCPeerConnection.prototype[e]=function(){var e=arguments,n=this,r=new Promise((function(r,i){t.apply(n,[e[0],r,i])}));return e.length<2?r:r.then((function(){e[1].apply(null,[])}),(function(t){e.length>=3&&e[2].apply(null,[t])}))}}));var e=RTCPeerConnection.prototype.addIceCandidate;RTCPeerConnection.prototype.addIceCandidate=function(){return null===arguments[0]?Promise.resolve():e.apply(this,arguments)},["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach((function(e){var t=webkitRTCPeerConnection.prototype[e];webkitRTCPeerConnection.prototype[e]=function(){return arguments[0]=new("addIceCandidate"===e?RTCIceCandidate:RTCSessionDescription)(arguments[0]),t.apply(this,arguments)}}))},attachMediaStream:function(e,t){r("DEPRECATED, attachMediaStream will soon be removed."),i.version>=43?e.srcObject=t:"undefined"!==typeof e.src?e.src=URL.createObjectURL(t):r("Error attaching stream to element.")},reattachMediaStream:function(e,t){r("DEPRECATED, reattachMediaStream will soon be removed."),i.version>=43?e.srcObject=t.srcObject:e.src=t.src}};e.exports={shimMediaStream:o.shimMediaStream,shimOnTrack:o.shimOnTrack,shimSourceObject:o.shimSourceObject,shimPeerConnection:o.shimPeerConnection,shimGetUserMedia:n("VJco"),attachMediaStream:o.attachMediaStream,reattachMediaStream:o.reattachMediaStream}},JsDy:function(e,t,n){(function(t){var n=/^[\],:{}\s]*$/,r=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,i=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,o=/(?:^|:|,)(?:\s*\[)+/g,a=/^\s+/,s=/\s+$/;e.exports=function(e){return"string"==typeof e&&e?(e=e.replace(a,"").replace(s,""),t.JSON&&JSON.parse?JSON.parse(e):n.test(e.replace(r,"@").replace(i,"]").replace(o,""))?new Function("return "+e)():void 0):null}}).call(this,n("yLpj"))},KCt4:function(e,t,n){"use strict";var r={generateIdentifier:function(){return Math.random().toString(36).substr(2,10)}};r.localCName=r.generateIdentifier(),r.splitLines=function(e){return e.trim().split("\n").map((function(e){return e.trim()}))},r.splitSections=function(e){return e.split("\nm=").map((function(e,t){return(t>0?"m="+e:e).trim()+"\r\n"}))},r.matchPrefix=function(e,t){return r.splitLines(e).filter((function(e){return 0===e.indexOf(t)}))},r.parseCandidate=function(e){for(var t,n={foundation:(t=0===e.indexOf("a=candidate:")?e.substring(12).split(" "):e.substring(10).split(" "))[0],component:t[1],protocol:t[2].toLowerCase(),priority:parseInt(t[3],10),ip:t[4],port:parseInt(t[5],10),type:t[7]},r=8;r<t.length;r+=2)switch(t[r]){case"raddr":n.relatedAddress=t[r+1];break;case"rport":n.relatedPort=parseInt(t[r+1],10);break;case"tcptype":n.tcpType=t[r+1];break;default:n[t[r]]=t[r+1]}return n},r.writeCandidate=function(e){var t=[];t.push(e.foundation),t.push(e.component),t.push(e.protocol.toUpperCase()),t.push(e.priority),t.push(e.ip),t.push(e.port);var n=e.type;return t.push("typ"),t.push(n),"host"!==n&&e.relatedAddress&&e.relatedPort&&(t.push("raddr"),t.push(e.relatedAddress),t.push("rport"),t.push(e.relatedPort)),e.tcpType&&"tcp"===e.protocol.toLowerCase()&&(t.push("tcptype"),t.push(e.tcpType)),"candidate:"+t.join(" ")},r.parseIceOptions=function(e){return e.substr(14).split(" ")},r.parseRtpMap=function(e){var t=e.substr(9).split(" "),n={payloadType:parseInt(t.shift(),10)};return t=t[0].split("/"),n.name=t[0],n.clockRate=parseInt(t[1],10),n.numChannels=3===t.length?parseInt(t[2],10):1,n},r.writeRtpMap=function(e){var t=e.payloadType;return void 0!==e.preferredPayloadType&&(t=e.preferredPayloadType),"a=rtpmap:"+t+" "+e.name+"/"+e.clockRate+(1!==e.numChannels?"/"+e.numChannels:"")+"\r\n"},r.parseExtmap=function(e){var t=e.substr(9).split(" ");return{id:parseInt(t[0],10),direction:t[0].indexOf("/")>0?t[0].split("/")[1]:"sendrecv",uri:t[1]}},r.writeExtmap=function(e){return"a=extmap:"+(e.id||e.preferredId)+(e.direction&&"sendrecv"!==e.direction?"/"+e.direction:"")+" "+e.uri+"\r\n"},r.parseFmtp=function(e){for(var t,n={},r=e.substr(e.indexOf(" ")+1).split(";"),i=0;i<r.length;i++)n[(t=r[i].trim().split("="))[0].trim()]=t[1];return n},r.writeFmtp=function(e){var t="",n=e.payloadType;if(void 0!==e.preferredPayloadType&&(n=e.preferredPayloadType),e.parameters&&Object.keys(e.parameters).length){var r=[];Object.keys(e.parameters).forEach((function(t){r.push(t+"="+e.parameters[t])})),t+="a=fmtp:"+n+" "+r.join(";")+"\r\n"}return t},r.parseRtcpFb=function(e){var t=e.substr(e.indexOf(" ")+1).split(" ");return{type:t.shift(),parameter:t.join(" ")}},r.writeRtcpFb=function(e){var t="",n=e.payloadType;return void 0!==e.preferredPayloadType&&(n=e.preferredPayloadType),e.rtcpFeedback&&e.rtcpFeedback.length&&e.rtcpFeedback.forEach((function(e){t+="a=rtcp-fb:"+n+" "+e.type+(e.parameter&&e.parameter.length?" "+e.parameter:"")+"\r\n"})),t},r.parseSsrcMedia=function(e){var t=e.indexOf(" "),n={ssrc:parseInt(e.substr(7,t-7),10)},r=e.indexOf(":",t);return r>-1?(n.attribute=e.substr(t+1,r-t-1),n.value=e.substr(r+1)):n.attribute=e.substr(t+1),n},r.getMid=function(e){var t=r.matchPrefix(e,"a=mid:")[0];if(t)return t.substr(6)},r.parseFingerprint=function(e){var t=e.substr(14).split(" ");return{algorithm:t[0].toLowerCase(),value:t[1]}},r.getDtlsParameters=function(e,t){return{role:"auto",fingerprints:r.matchPrefix(e+t,"a=fingerprint:").map(r.parseFingerprint)}},r.writeDtlsParameters=function(e,t){var n="a=setup:"+t+"\r\n";return e.fingerprints.forEach((function(e){n+="a=fingerprint:"+e.algorithm+" "+e.value+"\r\n"})),n},r.getIceParameters=function(e,t){var n=r.splitLines(e);return{usernameFragment:(n=n.concat(r.splitLines(t))).filter((function(e){return 0===e.indexOf("a=ice-ufrag:")}))[0].substr(12),password:n.filter((function(e){return 0===e.indexOf("a=ice-pwd:")}))[0].substr(10)}},r.writeIceParameters=function(e){return"a=ice-ufrag:"+e.usernameFragment+"\r\na=ice-pwd:"+e.password+"\r\n"},r.parseRtpParameters=function(e){for(var t={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},n=r.splitLines(e)[0].split(" "),i=3;i<n.length;i++){var o=n[i],a=r.matchPrefix(e,"a=rtpmap:"+o+" ")[0];if(a){var s=r.parseRtpMap(a),c=r.matchPrefix(e,"a=fmtp:"+o+" ");switch(s.parameters=c.length?r.parseFmtp(c[0]):{},s.rtcpFeedback=r.matchPrefix(e,"a=rtcp-fb:"+o+" ").map(r.parseRtcpFb),t.codecs.push(s),s.name.toUpperCase()){case"RED":case"ULPFEC":t.fecMechanisms.push(s.name.toUpperCase())}}}return r.matchPrefix(e,"a=extmap:").forEach((function(e){t.headerExtensions.push(r.parseExtmap(e))})),t},r.writeRtpDescription=function(e,t){var n="";n+="m="+e+" ",n+=t.codecs.length>0?"9":"0",n+=" UDP/TLS/RTP/SAVPF ",n+=t.codecs.map((function(e){return void 0!==e.preferredPayloadType?e.preferredPayloadType:e.payloadType})).join(" ")+"\r\n",n+="c=IN IP4 0.0.0.0\r\n",n+="a=rtcp:9 IN IP4 0.0.0.0\r\n",t.codecs.forEach((function(e){n+=r.writeRtpMap(e),n+=r.writeFmtp(e),n+=r.writeRtcpFb(e)}));var i=0;return t.codecs.forEach((function(e){e.maxptime>i&&(i=e.maxptime)})),i>0&&(n+="a=maxptime:"+i+"\r\n"),n+="a=rtcp-mux\r\n",t.headerExtensions.forEach((function(e){n+=r.writeExtmap(e)})),n},r.parseRtpEncodingParameters=function(e){var t,n=[],i=r.parseRtpParameters(e),o=-1!==i.fecMechanisms.indexOf("RED"),a=-1!==i.fecMechanisms.indexOf("ULPFEC"),s=r.matchPrefix(e,"a=ssrc:").map((function(e){return r.parseSsrcMedia(e)})).filter((function(e){return"cname"===e.attribute})),c=s.length>0&&s[0].ssrc,l=r.matchPrefix(e,"a=ssrc-group:FID").map((function(e){var t=e.split(" ");return t.shift(),t.map((function(e){return parseInt(e,10)}))}));l.length>0&&l[0].length>1&&l[0][0]===c&&(t=l[0][1]),i.codecs.forEach((function(e){if("RTX"===e.name.toUpperCase()&&e.parameters.apt){var r={ssrc:c,codecPayloadType:parseInt(e.parameters.apt,10),rtx:{ssrc:t}};n.push(r),o&&((r=JSON.parse(JSON.stringify(r))).fec={ssrc:t,mechanism:a?"red+ulpfec":"red"},n.push(r))}})),0===n.length&&c&&n.push({ssrc:c});var u=r.matchPrefix(e,"b=");return u.length&&(0===u[0].indexOf("b=TIAS:")?u=parseInt(u[0].substr(7),10):0===u[0].indexOf("b=AS:")&&(u=parseInt(u[0].substr(5),10)),n.forEach((function(e){e.maxBitrate=u}))),n},r.parseRtcpParameters=function(e){var t={},n=r.matchPrefix(e,"a=ssrc:").map((function(e){return r.parseSsrcMedia(e)})).filter((function(e){return"cname"===e.attribute}))[0];n&&(t.cname=n.value,t.ssrc=n.ssrc);var i=r.matchPrefix(e,"a=rtcp-rsize");t.reducedSize=i.length>0,t.compound=0===i.length;var o=r.matchPrefix(e,"a=rtcp-mux");return t.mux=o.length>0,t},r.parseMsid=function(e){var t,n=r.matchPrefix(e,"a=msid:");if(1===n.length)return{stream:(t=n[0].substr(7).split(" "))[0],track:t[1]};var i=r.matchPrefix(e,"a=ssrc:").map((function(e){return r.parseSsrcMedia(e)})).filter((function(e){return"msid"===e.attribute}));return i.length>0?{stream:(t=i[0].value.split(" "))[0],track:t[1]}:void 0},r.writeSessionBoilerplate=function(){return"v=0\r\no=thisisadapterortc 8169639915646943137 2 IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"},r.writeMediaSection=function(e,t,n,i){var o=r.writeRtpDescription(e.kind,t);if(o+=r.writeIceParameters(e.iceGatherer.getLocalParameters()),o+=r.writeDtlsParameters(e.dtlsTransport.getLocalParameters(),"offer"===n?"actpass":"active"),o+="a=mid:"+e.mid+"\r\n",e.direction?o+="a="+e.direction+"\r\n":e.rtpSender&&e.rtpReceiver?o+="a=sendrecv\r\n":e.rtpSender?o+="a=sendonly\r\n":e.rtpReceiver?o+="a=recvonly\r\n":o+="a=inactive\r\n",e.rtpSender){var a="msid:"+i.id+" "+e.rtpSender.track.id+"\r\n";o+="a="+a,o+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" "+a,e.sendEncodingParameters[0].rtx&&(o+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" "+a,o+="a=ssrc-group:FID "+e.sendEncodingParameters[0].ssrc+" "+e.sendEncodingParameters[0].rtx.ssrc+"\r\n")}return o+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" cname:"+r.localCName+"\r\n",e.rtpSender&&e.sendEncodingParameters[0].rtx&&(o+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" cname:"+r.localCName+"\r\n"),o},r.getDirection=function(e,t){for(var n=r.splitLines(e),i=0;i<n.length;i++)switch(n[i]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return n[i].substr(2)}return t?r.getDirection(t):"sendrecv"},r.getKind=function(e){return r.splitLines(e)[0].split(" ")[0].substr(2)},r.isRejected=function(e){return"0"===e.split(" ",2)[1]},e.exports=r},KFGy:function(e,t,n){var r=n("Vo14"),i=n("2xqC"),o=n("kSER"),a=n("2Dig"),s=n("QN7Q"),c=n("SfcZ")("socket.io-client:socket"),l=n("+pgx");e.exports=h;var u={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},d=i.prototype.emit;function h(e,t,n){this.io=e,this.nsp=t,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,n&&n.query&&(this.query=n.query),this.io.autoConnect&&this.open()}i(h.prototype),h.prototype.subEvents=function(){if(!this.subs){var e=this.io;this.subs=[a(e,"open",s(this,"onopen")),a(e,"packet",s(this,"onpacket")),a(e,"close",s(this,"onclose"))]}},h.prototype.open=h.prototype.connect=function(){return this.connected||(this.subEvents(),this.io.open(),"open"===this.io.readyState&&this.onopen(),this.emit("connecting")),this},h.prototype.send=function(){var e=o(arguments);return e.unshift("message"),this.emit.apply(this,e),this},h.prototype.emit=function(e){if(u.hasOwnProperty(e))return d.apply(this,arguments),this;var t=o(arguments),n=r.EVENT;l(t)&&(n=r.BINARY_EVENT);var i={type:n,data:t,options:{}};return i.options.compress=!this.flags||!1!==this.flags.compress,"function"===typeof t[t.length-1]&&(c("emitting packet with ack id %d",this.ids),this.acks[this.ids]=t.pop(),i.id=this.ids++),this.connected?this.packet(i):this.sendBuffer.push(i),delete this.flags,this},h.prototype.packet=function(e){e.nsp=this.nsp,this.io.packet(e)},h.prototype.onopen=function(){c("transport is open - connecting"),"/"!==this.nsp&&(this.query?this.packet({type:r.CONNECT,query:this.query}):this.packet({type:r.CONNECT}))},h.prototype.onclose=function(e){c("close (%s)",e),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",e)},h.prototype.onpacket=function(e){if(e.nsp===this.nsp)switch(e.type){case r.CONNECT:this.onconnect();break;case r.EVENT:case r.BINARY_EVENT:this.onevent(e);break;case r.ACK:case r.BINARY_ACK:this.onack(e);break;case r.DISCONNECT:this.ondisconnect();break;case r.ERROR:this.emit("error",e.data)}},h.prototype.onevent=function(e){var t=e.data||[];c("emitting event %j",t),null!=e.id&&(c("attaching ack callback to event"),t.push(this.ack(e.id))),this.connected?d.apply(this,t):this.receiveBuffer.push(t)},h.prototype.ack=function(e){var t=this,n=!1;return function(){if(!n){n=!0;var i=o(arguments);c("sending ack %j",i);var a=l(i)?r.BINARY_ACK:r.ACK;t.packet({type:a,id:e,data:i})}}},h.prototype.onack=function(e){var t=this.acks[e.id];"function"===typeof t?(c("calling ack %s with %j",e.id,e.data),t.apply(this,e.data),delete this.acks[e.id]):c("bad ack %s",e.id)},h.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},h.prototype.emitBuffered=function(){var e;for(e=0;e<this.receiveBuffer.length;e++)d.apply(this,this.receiveBuffer[e]);for(this.receiveBuffer=[],e=0;e<this.sendBuffer.length;e++)this.packet(this.sendBuffer[e]);this.sendBuffer=[]},h.prototype.ondisconnect=function(){c("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},h.prototype.destroy=function(){if(this.subs){for(var e=0;e<this.subs.length;e++)this.subs[e].destroy();this.subs=null}this.io.destroy(this)},h.prototype.close=h.prototype.disconnect=function(){return this.connected&&(c("performing disconnect (%s)",this.nsp),this.packet({type:r.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},h.prototype.compress=function(e){return this.flags=this.flags||{},this.flags.compress=e,this}},Ku0u:function(e,t,n){!function(e){function t(t,n,r){var i,o=t.getWrapperElement();return(i=o.appendChild(document.createElement("div"))).className=r?"CodeMirror-dialog CodeMirror-dialog-bottom":"CodeMirror-dialog CodeMirror-dialog-top","string"==typeof n?i.innerHTML=n:i.appendChild(n),e.addClass(o,"dialog-opened"),i}function n(e,t){e.state.currentNotificationClose&&e.state.currentNotificationClose(),e.state.currentNotificationClose=t}e.defineExtension("openDialog",(function(r,i,o){o||(o={}),n(this,null);var a=t(this,r,o.bottom),s=!1,c=this;function l(t){if("string"==typeof t)d.value=t;else{if(s)return;s=!0,e.rmClass(a.parentNode,"dialog-opened"),a.parentNode.removeChild(a),c.focus(),o.onClose&&o.onClose(a)}}var u,d=a.getElementsByTagName("input")[0];return d?(d.focus(),o.value&&(d.value=o.value,!1!==o.selectValueOnOpen&&d.select()),o.onInput&&e.on(d,"input",(function(e){o.onInput(e,d.value,l)})),o.onKeyUp&&e.on(d,"keyup",(function(e){o.onKeyUp(e,d.value,l)})),e.on(d,"keydown",(function(t){o&&o.onKeyDown&&o.onKeyDown(t,d.value,l)||((27==t.keyCode||!1!==o.closeOnEnter&&13==t.keyCode)&&(d.blur(),e.e_stop(t),l()),13==t.keyCode&&i(d.value,t))})),!1!==o.closeOnBlur&&e.on(a,"focusout",(function(e){null!==e.relatedTarget&&l()}))):(u=a.getElementsByTagName("button")[0])&&(e.on(u,"click",(function(){l(),c.focus()})),!1!==o.closeOnBlur&&e.on(u,"blur",l),u.focus()),l})),e.defineExtension("openConfirm",(function(r,i,o){n(this,null);var a=t(this,r,o&&o.bottom),s=a.getElementsByTagName("button"),c=!1,l=this,u=1;function d(){c||(c=!0,e.rmClass(a.parentNode,"dialog-opened"),a.parentNode.removeChild(a),l.focus())}s[0].focus();for(var h=0;h<s.length;++h){var p=s[h];!function(t){e.on(p,"click",(function(n){e.e_preventDefault(n),d(),t&&t(l)}))}(i[h]),e.on(p,"blur",(function(){--u,setTimeout((function(){u<=0&&d()}),200)})),e.on(p,"focus",(function(){++u}))}})),e.defineExtension("openNotification",(function(r,i){n(this,l);var o,a=t(this,r,i&&i.bottom),s=!1,c=i&&"undefined"!==typeof i.duration?i.duration:5e3;function l(){s||(s=!0,clearTimeout(o),e.rmClass(a.parentNode,"dialog-opened"),a.parentNode.removeChild(a))}return e.on(a,"click",(function(t){e.e_preventDefault(t),l()})),c&&(o=setTimeout(l,c)),l}))}(n("VrN/"))},Kz25:function(e,t,n){"use strict";n("PKPk");var r,i=n("I+eb"),o=n("g6v/"),a=n("DTth"),s=n("2oRo"),c=n("N+g0"),l=n("busE"),u=n("GarU"),d=n("UTVS"),h=n("YNrV"),p=n("TfTi"),f=n("ZUd8").codeAt,m=n("X7LM"),g=n("1E5z"),v=n("mGGf"),y=n("afO8"),b=s.URL,C=v.URLSearchParams,w=v.getState,S=y.set,k=y.getterFor("URL"),x=Math.floor,E=Math.pow,T=/[A-Za-z]/,_=/[\d+-.A-Za-z]/,O=/\d/,L=/^(0x|0X)/,M=/^[0-7]+$/,F=/^\d+$/,R=/^[\dA-Fa-f]+$/,j=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,A=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,P=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,I=/[\u0009\u000A\u000D]/g,D=function(e,t){var n,r,i;if("["==t.charAt(0)){if("]"!=t.charAt(t.length-1))return"Invalid host";if(!(n=U(t.slice(1,-1))))return"Invalid host";e.host=n}else if(J(e)){if(t=m(t),j.test(t))return"Invalid host";if(null===(n=N(t)))return"Invalid host";e.host=n}else{if(A.test(t))return"Invalid host";for(n="",r=p(t),i=0;i<r.length;i++)n+=q(r[i],K);e.host=n}},N=function(e){var t,n,r,i,o,a,s,c=e.split(".");if(c.length&&""==c[c.length-1]&&c.pop(),(t=c.length)>4)return e;for(n=[],r=0;r<t;r++){if(""==(i=c[r]))return e;if(o=10,i.length>1&&"0"==i.charAt(0)&&(o=L.test(i)?16:8,i=i.slice(8==o?1:2)),""===i)a=0;else{if(!(10==o?F:8==o?M:R).test(i))return e;a=parseInt(i,o)}n.push(a)}for(r=0;r<t;r++)if(a=n[r],r==t-1){if(a>=E(256,5-t))return null}else if(a>255)return null;for(s=n.pop(),r=0;r<n.length;r++)s+=n[r]*E(256,3-r);return s},U=function(e){var t,n,r,i,o,a,s,c=[0,0,0,0,0,0,0,0],l=0,u=null,d=0,h=function(){return e.charAt(d)};if(":"==h()){if(":"!=e.charAt(1))return;d+=2,u=++l}for(;h();){if(8==l)return;if(":"!=h()){for(t=n=0;n<4&&R.test(h());)t=16*t+parseInt(h(),16),d++,n++;if("."==h()){if(0==n)return;if(d-=n,l>6)return;for(r=0;h();){if(i=null,r>0){if(!("."==h()&&r<4))return;d++}if(!O.test(h()))return;for(;O.test(h());){if(o=parseInt(h(),10),null===i)i=o;else{if(0==i)return;i=10*i+o}if(i>255)return;d++}c[l]=256*c[l]+i,2!=++r&&4!=r||l++}if(4!=r)return;break}if(":"==h()){if(d++,!h())return}else if(h())return;c[l++]=t}else{if(null!==u)return;d++,u=++l}}if(null!==u)for(a=l-u,l=7;0!=l&&a>0;)s=c[l],c[l--]=c[u+a-1],c[u+--a]=s;else if(8!=l)return;return c},B=function(e){var t,n,r,i;if("number"==typeof e){for(t=[],n=0;n<4;n++)t.unshift(e%256),e=x(e/256);return t.join(".")}if("object"==typeof e){for(t="",r=function(e){for(var t=null,n=1,r=null,i=0,o=0;o<8;o++)0!==e[o]?(i>n&&(t=r,n=i),r=null,i=0):(null===r&&(r=o),++i);return i>n&&(t=r,n=i),t}(e),n=0;n<8;n++)i&&0===e[n]||(i&&(i=!1),r===n?(t+=n?":":"::",i=!0):(t+=e[n].toString(16),n<7&&(t+=":")));return"["+t+"]"}return e},K={},H=h({},K,{" ":1,'"':1,"<":1,">":1,"`":1}),V=h({},H,{"#":1,"?":1,"{":1,"}":1}),z=h({},V,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),q=function(e,t){var n=f(e,0);return n>32&&n<127&&!d(t,e)?e:encodeURIComponent(e)},G={ftp:21,file:null,http:80,https:443,ws:80,wss:443},J=function(e){return d(G,e.scheme)},W=function(e){return""!=e.username||""!=e.password},Y=function(e){return!e.host||e.cannotBeABaseURL||"file"==e.scheme},$=function(e,t){var n;return 2==e.length&&T.test(e.charAt(0))&&(":"==(n=e.charAt(1))||!t&&"|"==n)},X=function(e){var t;return e.length>1&&$(e.slice(0,2))&&(2==e.length||"/"===(t=e.charAt(2))||"\\"===t||"?"===t||"#"===t)},Q=function(e){var t=e.path,n=t.length;!n||"file"==e.scheme&&1==n&&$(t[0],!0)||t.pop()},Z=function(e){return"."===e||"%2e"===e.toLowerCase()},ee={},te={},ne={},re={},ie={},oe={},ae={},se={},ce={},le={},ue={},de={},he={},pe={},fe={},me={},ge={},ve={},ye={},be={},Ce={},we=function(e,t,n,i){var o,a,s,c,l,u=n||ee,h=0,f="",m=!1,g=!1,v=!1;for(n||(e.scheme="",e.username="",e.password="",e.host=null,e.port=null,e.path=[],e.query=null,e.fragment=null,e.cannotBeABaseURL=!1,t=t.replace(P,"")),t=t.replace(I,""),o=p(t);h<=o.length;){switch(a=o[h],u){case ee:if(!a||!T.test(a)){if(n)return"Invalid scheme";u=ne;continue}f+=a.toLowerCase(),u=te;break;case te:if(a&&(_.test(a)||"+"==a||"-"==a||"."==a))f+=a.toLowerCase();else{if(":"!=a){if(n)return"Invalid scheme";f="",u=ne,h=0;continue}if(n&&(J(e)!=d(G,f)||"file"==f&&(W(e)||null!==e.port)||"file"==e.scheme&&!e.host))return;if(e.scheme=f,n)return void(J(e)&&G[e.scheme]==e.port&&(e.port=null));f="","file"==e.scheme?u=pe:J(e)&&i&&i.scheme==e.scheme?u=re:J(e)?u=se:"/"==o[h+1]?(u=ie,h++):(e.cannotBeABaseURL=!0,e.path.push(""),u=ye)}break;case ne:if(!i||i.cannotBeABaseURL&&"#"!=a)return"Invalid scheme";if(i.cannotBeABaseURL&&"#"==a){e.scheme=i.scheme,e.path=i.path.slice(),e.query=i.query,e.fragment="",e.cannotBeABaseURL=!0,u=Ce;break}u="file"==i.scheme?pe:oe;continue;case re:if("/"!=a||"/"!=o[h+1]){u=oe;continue}u=ce,h++;break;case ie:if("/"==a){u=le;break}u=ve;continue;case oe:if(e.scheme=i.scheme,a==r)e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,e.path=i.path.slice(),e.query=i.query;else if("/"==a||"\\"==a&&J(e))u=ae;else if("?"==a)e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,e.path=i.path.slice(),e.query="",u=be;else{if("#"!=a){e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,e.path=i.path.slice(),e.path.pop(),u=ve;continue}e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,e.path=i.path.slice(),e.query=i.query,e.fragment="",u=Ce}break;case ae:if(!J(e)||"/"!=a&&"\\"!=a){if("/"!=a){e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,u=ve;continue}u=le}else u=ce;break;case se:if(u=ce,"/"!=a||"/"!=f.charAt(h+1))continue;h++;break;case ce:if("/"!=a&&"\\"!=a){u=le;continue}break;case le:if("@"==a){m&&(f="%40"+f),m=!0,s=p(f);for(var y=0;y<s.length;y++){var b=s[y];if(":"!=b||v){var C=q(b,z);v?e.password+=C:e.username+=C}else v=!0}f=""}else if(a==r||"/"==a||"?"==a||"#"==a||"\\"==a&&J(e)){if(m&&""==f)return"Invalid authority";h-=p(f).length+1,f="",u=ue}else f+=a;break;case ue:case de:if(n&&"file"==e.scheme){u=me;continue}if(":"!=a||g){if(a==r||"/"==a||"?"==a||"#"==a||"\\"==a&&J(e)){if(J(e)&&""==f)return"Invalid host";if(n&&""==f&&(W(e)||null!==e.port))return;if(c=D(e,f))return c;if(f="",u=ge,n)return;continue}"["==a?g=!0:"]"==a&&(g=!1),f+=a}else{if(""==f)return"Invalid host";if(c=D(e,f))return c;if(f="",u=he,n==de)return}break;case he:if(!O.test(a)){if(a==r||"/"==a||"?"==a||"#"==a||"\\"==a&&J(e)||n){if(""!=f){var w=parseInt(f,10);if(w>65535)return"Invalid port";e.port=J(e)&&w===G[e.scheme]?null:w,f=""}if(n)return;u=ge;continue}return"Invalid port"}f+=a;break;case pe:if(e.scheme="file","/"==a||"\\"==a)u=fe;else{if(!i||"file"!=i.scheme){u=ve;continue}if(a==r)e.host=i.host,e.path=i.path.slice(),e.query=i.query;else if("?"==a)e.host=i.host,e.path=i.path.slice(),e.query="",u=be;else{if("#"!=a){X(o.slice(h).join(""))||(e.host=i.host,e.path=i.path.slice(),Q(e)),u=ve;continue}e.host=i.host,e.path=i.path.slice(),e.query=i.query,e.fragment="",u=Ce}}break;case fe:if("/"==a||"\\"==a){u=me;break}i&&"file"==i.scheme&&!X(o.slice(h).join(""))&&($(i.path[0],!0)?e.path.push(i.path[0]):e.host=i.host),u=ve;continue;case me:if(a==r||"/"==a||"\\"==a||"?"==a||"#"==a){if(!n&&$(f))u=ve;else if(""==f){if(e.host="",n)return;u=ge}else{if(c=D(e,f))return c;if("localhost"==e.host&&(e.host=""),n)return;f="",u=ge}continue}f+=a;break;case ge:if(J(e)){if(u=ve,"/"!=a&&"\\"!=a)continue}else if(n||"?"!=a)if(n||"#"!=a){if(a!=r&&(u=ve,"/"!=a))continue}else e.fragment="",u=Ce;else e.query="",u=be;break;case ve:if(a==r||"/"==a||"\\"==a&&J(e)||!n&&("?"==a||"#"==a)){if(".."===(l=(l=f).toLowerCase())||"%2e."===l||".%2e"===l||"%2e%2e"===l?(Q(e),"/"==a||"\\"==a&&J(e)||e.path.push("")):Z(f)?"/"==a||"\\"==a&&J(e)||e.path.push(""):("file"==e.scheme&&!e.path.length&&$(f)&&(e.host&&(e.host=""),f=f.charAt(0)+":"),e.path.push(f)),f="","file"==e.scheme&&(a==r||"?"==a||"#"==a))for(;e.path.length>1&&""===e.path[0];)e.path.shift();"?"==a?(e.query="",u=be):"#"==a&&(e.fragment="",u=Ce)}else f+=q(a,V);break;case ye:"?"==a?(e.query="",u=be):"#"==a?(e.fragment="",u=Ce):a!=r&&(e.path[0]+=q(a,K));break;case be:n||"#"!=a?a!=r&&("'"==a&&J(e)?e.query+="%27":e.query+="#"==a?"%23":q(a,K)):(e.fragment="",u=Ce);break;case Ce:a!=r&&(e.fragment+=q(a,H))}h++}},Se=function(e){var t,n,r=u(this,Se,"URL"),i=arguments.length>1?arguments[1]:void 0,a=String(e),s=S(r,{type:"URL"});if(void 0!==i)if(i instanceof Se)t=k(i);else if(n=we(t={},String(i)))throw TypeError(n);if(n=we(s,a,null,t))throw TypeError(n);var c=s.searchParams=new C,l=w(c);l.updateSearchParams(s.query),l.updateURL=function(){s.query=String(c)||null},o||(r.href=xe.call(r),r.origin=Ee.call(r),r.protocol=Te.call(r),r.username=_e.call(r),r.password=Oe.call(r),r.host=Le.call(r),r.hostname=Me.call(r),r.port=Fe.call(r),r.pathname=Re.call(r),r.search=je.call(r),r.searchParams=Ae.call(r),r.hash=Pe.call(r))},ke=Se.prototype,xe=function(){var e=k(this),t=e.scheme,n=e.username,r=e.password,i=e.host,o=e.port,a=e.path,s=e.query,c=e.fragment,l=t+":";return null!==i?(l+="//",W(e)&&(l+=n+(r?":"+r:"")+"@"),l+=B(i),null!==o&&(l+=":"+o)):"file"==t&&(l+="//"),l+=e.cannotBeABaseURL?a[0]:a.length?"/"+a.join("/"):"",null!==s&&(l+="?"+s),null!==c&&(l+="#"+c),l},Ee=function(){var e=k(this),t=e.scheme,n=e.port;if("blob"==t)try{return new URL(t.path[0]).origin}catch(r){return"null"}return"file"!=t&&J(e)?t+"://"+B(e.host)+(null!==n?":"+n:""):"null"},Te=function(){return k(this).scheme+":"},_e=function(){return k(this).username},Oe=function(){return k(this).password},Le=function(){var e=k(this),t=e.host,n=e.port;return null===t?"":null===n?B(t):B(t)+":"+n},Me=function(){var e=k(this).host;return null===e?"":B(e)},Fe=function(){var e=k(this).port;return null===e?"":String(e)},Re=function(){var e=k(this),t=e.path;return e.cannotBeABaseURL?t[0]:t.length?"/"+t.join("/"):""},je=function(){var e=k(this).query;return e?"?"+e:""},Ae=function(){return k(this).searchParams},Pe=function(){var e=k(this).fragment;return e?"#"+e:""},Ie=function(e,t){return{get:e,set:t,configurable:!0,enumerable:!0}};if(o&&c(ke,{href:Ie(xe,(function(e){var t=k(this),n=String(e),r=we(t,n);if(r)throw TypeError(r);w(t.searchParams).updateSearchParams(t.query)})),origin:Ie(Ee),protocol:Ie(Te,(function(e){var t=k(this);we(t,String(e)+":",ee)})),username:Ie(_e,(function(e){var t=k(this),n=p(String(e));if(!Y(t)){t.username="";for(var r=0;r<n.length;r++)t.username+=q(n[r],z)}})),password:Ie(Oe,(function(e){var t=k(this),n=p(String(e));if(!Y(t)){t.password="";for(var r=0;r<n.length;r++)t.password+=q(n[r],z)}})),host:Ie(Le,(function(e){var t=k(this);t.cannotBeABaseURL||we(t,String(e),ue)})),hostname:Ie(Me,(function(e){var t=k(this);t.cannotBeABaseURL||we(t,String(e),de)})),port:Ie(Fe,(function(e){var t=k(this);Y(t)||(""==(e=String(e))?t.port=null:we(t,e,he))})),pathname:Ie(Re,(function(e){var t=k(this);t.cannotBeABaseURL||(t.path=[],we(t,e+"",ge))})),search:Ie(je,(function(e){var t=k(this);""==(e=String(e))?t.query=null:("?"==e.charAt(0)&&(e=e.slice(1)),t.query="",we(t,e,be)),w(t.searchParams).updateSearchParams(t.query)})),searchParams:Ie(Ae),hash:Ie(Pe,(function(e){var t=k(this);""!=(e=String(e))?("#"==e.charAt(0)&&(e=e.slice(1)),t.fragment="",we(t,e,Ce)):t.fragment=null}))}),l(ke,"toJSON",(function(){return xe.call(this)}),{enumerable:!0}),l(ke,"toString",(function(){return xe.call(this)}),{enumerable:!0}),b){var De=b.createObjectURL,Ne=b.revokeObjectURL;De&&l(Se,"createObjectURL",(function(e){return De.apply(b,arguments)})),Ne&&l(Se,"revokeObjectURL",(function(e){return Ne.apply(b,arguments)}))}g(Se,"URL"),i({global:!0,forced:!a,sham:!o},{URL:Se})},"L/V9":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){return"function"===typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}()},LF16:function(e,t,n){"use strict";n.r(t);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useCodeshareModeName_codeshare",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"modeName",storageKey:null}],type:"Codeshare",hash:"7de49cd8ff8d33d694727fab6ca32186"};t.default=r},Lm6R:function(e,t,n){!function(e){"use strict";var t=e.Pos;function n(e,t){return e.line==t.line&&e.ch==t.ch}var r=[];function i(e){r.push(e),r.length>50&&r.shift()}function o(e){if(!r.length)return i(e);r[r.length-1]+=e}function a(e){return r[r.length-(e?Math.min(e,1):1)]||""}function s(){return r.length>1&&r.pop(),a()}var c=null;function l(e,t,r,a,s){null==s&&(s=e.getRange(t,r)),"grow"==a&&c&&c.cm==e&&n(t,c.pos)&&e.isClean(c.gen)?o(s):!1!==a&&i(s),e.replaceRange("",t,r,"+delete"),c="grow"==a?{cm:e,pos:t,gen:e.changeGeneration()}:null}function u(e,t,n){return e.findPosH(t,n,"char",!0)}function d(e,t,n){return e.findPosH(t,n,"word",!0)}function h(e,t,n){return e.findPosV(t,n,"line",e.doc.sel.goalColumn)}function p(e,t,n){return e.findPosV(t,n,"page",e.doc.sel.goalColumn)}function f(e,n,r){for(var i=n.line,o=e.getLine(i),a=/\S/.test(r<0?o.slice(0,n.ch):o.slice(n.ch)),s=e.firstLine(),c=e.lastLine();;){if((i+=r)<s||i>c)return e.clipPos(t(i-r,r<0?0:null));if(o=e.getLine(i),/\S/.test(o))a=!0;else if(a)return t(i,0)}}function m(e,n,r){for(var i=n.line,o=n.ch,a=e.getLine(n.line),s=!1;;){var c=a.charAt(o+(r<0?-1:0));if(c){if(s&&/[!?.]/.test(c))return t(i,o+(r>0?1:0));s||(s=/\w/.test(c)),o+=r}else{if(i==(r<0?e.firstLine():e.lastLine()))return t(i,o);if(a=e.getLine(i+r),!/\S/.test(a))return t(i,o);i+=r,o=r<0?a.length:0}}}function g(e,r,i){var o;if(e.findMatchingBracket&&(o=e.findMatchingBracket(r,{strict:!0}))&&o.match&&(o.forward?1:-1)==i)return i>0?t(o.to.line,o.to.ch+1):o.to;for(var a=!0;;a=!1){var s=e.getTokenAt(r),c=t(r.line,i<0?s.start:s.end);if(!(a&&i>0&&s.end==r.ch)&&/\w/.test(s.string))return c;var l=e.findPosH(c,i,"char");if(n(c,l))return r;r=l}}function v(e,t){var n=e.state.emacsPrefix;return n?(T(e),"-"==n?-1:Number(n)):t?null:1}function y(e){var t="string"==typeof e?function(t){t.execCommand(e)}:e;return function(e){var n=v(e);t(e);for(var r=1;r<n;++r)t(e)}}function b(e,t,r,i){var o=v(e);o<0&&(i=-i,o=-o);for(var a=0;a<o;++a){var s=r(e,t,i);if(n(s,t))break;t=s}return t}function C(e,t){var n=function(n){n.extendSelection(b(n,n.getCursor(),e,t))};return n.motion=!0,n}function w(e,t,n,r){for(var i,o=e.listSelections(),a=o.length;a--;)l(e,i=o[a].head,b(e,i,t,n),r)}function S(e,t){if(e.somethingSelected()){for(var n,r=e.listSelections(),i=r.length;i--;)l(e,(n=r[i]).anchor,n.head,t);return!0}}function k(e,t){e.state.emacsPrefix?"-"!=t&&(e.state.emacsPrefix+=t):(e.state.emacsPrefix=t,e.on("keyHandled",E),e.on("inputRead",_))}var x={"Alt-G":!0,"Ctrl-X":!0,"Ctrl-Q":!0,"Ctrl-U":!0};function E(e,t){e.state.emacsPrefixMap||x.hasOwnProperty(t)||T(e)}function T(e){e.state.emacsPrefix=null,e.off("keyHandled",E),e.off("inputRead",_)}function _(e,t){var n=v(e);if(n>1&&"+input"==t.origin){for(var r=t.text.join("\n"),i="",o=1;o<n;++o)i+=r;e.replaceSelection(i)}}function O(e){e.state.emacsPrefixMap=!0,e.addKeyMap(D),e.on("keyHandled",L),e.on("inputRead",L)}function L(e,t){("string"!=typeof t||!/^\d$/.test(t)&&"Ctrl-U"!=t)&&(e.removeKeyMap(D),e.state.emacsPrefixMap=!1,e.off("keyHandled",L),e.off("inputRead",L))}function M(e){e.setCursor(e.getCursor()),e.setExtending(!e.getExtending()),e.on("change",(function(){e.setExtending(!1)}))}function F(e){e.setExtending(!1),e.setCursor(e.getCursor())}function R(e,t,n){e.openDialog?e.openDialog(t+': <input type="text" style="width: 10em"/>',n,{bottom:!0}):n(prompt(t,""))}function j(e,t){var n=e.getCursor(),r=e.findPosH(n,1,"word");e.replaceRange(t(e.getRange(n,r)),n,r),e.setCursor(r)}function A(e){for(var n=e.getCursor(),r=n.line,i=n.ch,o=[];r>=e.firstLine();){for(var a=e.getLine(r),s=null==i?a.length:i;s>0;)if(")"==(i=a.charAt(--s)))o.push("(");else if("]"==i)o.push("[");else if("}"==i)o.push("{");else if(/[\(\{\[]/.test(i)&&(!o.length||o.pop()!=i))return e.extendSelection(t(r,s));--r,i=null}}function P(e){e.execCommand("clearSearch"),F(e)}e.emacs={kill:l,killRegion:S,repeated:y};var I=e.keyMap.emacs=e.normalizeKeyMap({"Ctrl-W":function(e){l(e,e.getCursor("start"),e.getCursor("end"),!0)},"Ctrl-K":y((function(e){var n=e.getCursor(),r=e.clipPos(t(n.line)),i=e.getRange(n,r);/\S/.test(i)||(i+="\n",r=t(n.line+1,0)),l(e,n,r,"grow",i)})),"Alt-W":function(e){i(e.getSelection()),F(e)},"Ctrl-Y":function(e){var t=e.getCursor();e.replaceRange(a(v(e)),t,t,"paste"),e.setSelection(t,e.getCursor())},"Alt-Y":function(e){e.replaceSelection(s(),"around","paste")},"Ctrl-Space":M,"Ctrl-Shift-2":M,"Ctrl-F":C(u,1),"Ctrl-B":C(u,-1),Right:C(u,1),Left:C(u,-1),"Ctrl-D":function(e){w(e,u,1,!1)},Delete:function(e){S(e,!1)||w(e,u,1,!1)},"Ctrl-H":function(e){w(e,u,-1,!1)},Backspace:function(e){S(e,!1)||w(e,u,-1,!1)},"Alt-F":C(d,1),"Alt-B":C(d,-1),"Alt-Right":C(d,1),"Alt-Left":C(d,-1),"Alt-D":function(e){w(e,d,1,"grow")},"Alt-Backspace":function(e){w(e,d,-1,"grow")},"Ctrl-N":C(h,1),"Ctrl-P":C(h,-1),Down:C(h,1),Up:C(h,-1),"Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd",End:"goLineEnd",Home:"goLineStart","Alt-V":C(p,-1),"Ctrl-V":C(p,1),PageUp:C(p,-1),PageDown:C(p,1),"Ctrl-Up":C(f,-1),"Ctrl-Down":C(f,1),"Alt-A":C(m,-1),"Alt-E":C(m,1),"Alt-K":function(e){w(e,m,1,"grow")},"Ctrl-Alt-K":function(e){w(e,g,1,"grow")},"Ctrl-Alt-Backspace":function(e){w(e,g,-1,"grow")},"Ctrl-Alt-F":C(g,1),"Ctrl-Alt-B":C(g,-1,"grow"),"Shift-Ctrl-Alt-2":function(e){var t=e.getCursor();e.setSelection(b(e,t,g,1),t)},"Ctrl-Alt-T":function(e){var t=g(e,e.getCursor(),-1),n=g(e,t,1),r=g(e,n,1),i=g(e,r,-1);e.replaceRange(e.getRange(i,r)+e.getRange(n,i)+e.getRange(t,n),t,r)},"Ctrl-Alt-U":y(A),"Alt-Space":function(e){for(var n=e.getCursor(),r=n.ch,i=n.ch,o=e.getLine(n.line);r&&/\s/.test(o.charAt(r-1));)--r;for(;i<o.length&&/\s/.test(o.charAt(i));)++i;e.replaceRange(" ",t(n.line,r),t(n.line,i))},"Ctrl-O":y((function(e){e.replaceSelection("\n","start")})),"Ctrl-T":y((function(e){e.execCommand("transposeChars")})),"Alt-C":y((function(e){j(e,(function(e){var t=e.search(/\w/);return-1==t?e:e.slice(0,t)+e.charAt(t).toUpperCase()+e.slice(t+1).toLowerCase()}))})),"Alt-U":y((function(e){j(e,(function(e){return e.toUpperCase()}))})),"Alt-L":y((function(e){j(e,(function(e){return e.toLowerCase()}))})),"Alt-;":"toggleComment","Ctrl-/":y("undo"),"Shift-Ctrl--":y("undo"),"Ctrl-Z":y("undo"),"Cmd-Z":y("undo"),"Shift-Ctrl-Z":"redo","Shift-Alt-,":"goDocStart","Shift-Alt-.":"goDocEnd","Ctrl-S":"findPersistentNext","Ctrl-R":"findPersistentPrev","Ctrl-G":P,"Shift-Alt-5":"replace","Alt-/":"autocomplete",Enter:"newlineAndIndent","Ctrl-J":y((function(e){e.replaceSelection("\n","end")})),Tab:"indentAuto","Alt-G G":function(e){var t=v(e,!0);if(null!=t&&t>0)return e.setCursor(t-1);R(e,"Goto line",(function(t){var n;t&&!isNaN(n=Number(t))&&n==(0|n)&&n>0&&e.setCursor(n-1)}))},"Ctrl-X Tab":function(e){e.indentSelection(v(e,!0)||e.getOption("indentUnit"))},"Ctrl-X Ctrl-X":function(e){e.setSelection(e.getCursor("head"),e.getCursor("anchor"))},"Ctrl-X Ctrl-S":"save","Ctrl-X Ctrl-W":"save","Ctrl-X S":"saveAll","Ctrl-X F":"open","Ctrl-X U":y("undo"),"Ctrl-X K":"close","Ctrl-X Delete":function(e){l(e,e.getCursor(),m(e,e.getCursor(),1),"grow")},"Ctrl-X H":"selectAll","Ctrl-Q Tab":y("insertTab"),"Ctrl-U":O,fallthrough:"default"}),D={"Ctrl-G":T};function N(e){D[e]=function(t){k(t,e)},I["Ctrl-"+e]=function(t){k(t,e)},x["Ctrl-"+e]=!0}for(var U=0;U<10;++U)N(String(U));N("-")}(n("VrN/"))},LtjF:function(e,t,n){"use strict";n.r(t);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CodeshareCodeMirror_codeshare",selections:[{alias:null,args:null,concreteType:"CanEdit",kind:"LinkedField",name:"canEdit",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"me",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"userIds",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"useCodeshareModeName_codeshare"},{args:null,kind:"FragmentSpread",name:"useCodeshareTabSize_codeshare"},{args:null,kind:"FragmentSpread",name:"CodeMirrorCursor_codeshare"}],type:"Codeshare",hash:"1ec06678de7a49a8b4c3b3ee76357e32"};t.default=r},MGBS:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("mrSG"),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.c(t,e),t.prototype.notifyNext=function(e,t,n,r,i){this.destination.next(t)},t.prototype.notifyError=function(e,t){this.destination.error(e)},t.prototype.notifyComplete=function(e){this.destination.complete()},t}(n("FFOo").a)},MQjZ:function(e,t,n){"use strict";n.r(t);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CodeshareSettingsForm_codeshare",selections:[{args:null,kind:"FragmentSpread",name:"CodeshareTitleFormField_codeshare"},{args:null,kind:"FragmentSpread",name:"CodeshareModeNameFormField_codeshare"},{args:null,kind:"FragmentSpread",name:"CodeshareTabSizeFormField_codeshare"}],type:"Codeshare",hash:"dae2b1cf9e698af33ed4d7e8097fd905"};t.default=r},MVrB:function(e,t,n){"use strict";n.r(t);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CodeshareShareUrl_codeshare",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],type:"Codeshare",hash:"c3b8e0b16081b3b312e85a5c13aae9f0"};t.default=r},McSo:function(e,t,n){"use strict";function r(e){return null!==e&&"object"===typeof e}n.d(t,"a",(function(){return r}))},Mupt:function(e,t,n){"use strict";var r=n("lVut").browserDetails,i={shimOnTrack:function(){"object"===typeof window&&window.RTCPeerConnection&&!("ontrack"in window.RTCPeerConnection.prototype)&&Object.defineProperty(window.RTCPeerConnection.prototype,"ontrack",{get:function(){return this._ontrack},set:function(e){this._ontrack&&(this.removeEventListener("track",this._ontrack),this.removeEventListener("addstream",this._ontrackpoly)),this.addEventListener("track",this._ontrack=e),this.addEventListener("addstream",this._ontrackpoly=function(e){e.stream.getTracks().forEach(function(t){var n=new Event("track");n.track=t,n.receiver={track:t},n.streams=[e.stream],this.dispatchEvent(n)}.bind(this))}.bind(this))}})},shimSourceObject:function(){"object"===typeof window&&window.HTMLMediaElement&&!("srcObject"in window.HTMLMediaElement.prototype)&&Object.defineProperty(window.HTMLMediaElement.prototype,"srcObject",{get:function(){return this.mozSrcObject},set:function(e){this.mozSrcObject=e}})},shimPeerConnection:function(){if("object"===typeof window&&(window.RTCPeerConnection||window.mozRTCPeerConnection)){window.RTCPeerConnection||(window.RTCPeerConnection=function(e,t){if(r.version<38&&e&&e.iceServers){for(var n=[],i=0;i<e.iceServers.length;i++){var o=e.iceServers[i];if(o.hasOwnProperty("urls"))for(var a=0;a<o.urls.length;a++){var s={url:o.urls[a]};0===o.urls[a].indexOf("turn")&&(s.username=o.username,s.credential=o.credential),n.push(s)}else n.push(e.iceServers[i])}e.iceServers=n}return new mozRTCPeerConnection(e,t)},window.RTCPeerConnection.prototype=mozRTCPeerConnection.prototype,mozRTCPeerConnection.generateCertificate&&Object.defineProperty(window.RTCPeerConnection,"generateCertificate",{get:function(){return mozRTCPeerConnection.generateCertificate}}),window.RTCSessionDescription=mozRTCSessionDescription,window.RTCIceCandidate=mozRTCIceCandidate),["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach((function(e){var t=RTCPeerConnection.prototype[e];RTCPeerConnection.prototype[e]=function(){return arguments[0]=new("addIceCandidate"===e?RTCIceCandidate:RTCSessionDescription)(arguments[0]),t.apply(this,arguments)}}));var e=RTCPeerConnection.prototype.addIceCandidate;if(RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?e.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())},r.version<48){var t=RTCPeerConnection.prototype.getStats;RTCPeerConnection.prototype.getStats=function(e,n,r){return t.apply(this,[e||null]).then((function(e){return function(e){var t=new Map;return Object.keys(e).forEach((function(n){t.set(n,e[n]),t[n]=e[n]})),t}(e)})).then(n,r)}}}}};e.exports={shimOnTrack:i.shimOnTrack,shimSourceObject:i.shimSourceObject,shimPeerConnection:i.shimPeerConnection,shimGetUserMedia:n("pXin")}},N3RF:function(e,t,n){"use strict";n.r(t);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CodeshareShareModal_me",selections:[{args:null,kind:"FragmentSpread",name:"CodeshareViewOnlyCheckbox_me"}],type:"Me",hash:"022238053b34a9330071a2c49f03ea7f"};t.default=r},N8QH:function(e,t){var n,r;window.mozRTCPeerConnection||navigator.mozGetUserMedia?(n="moz",r=parseInt(navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1],10)):(window.webkitRTCPeerConnection||navigator.webkitGetUserMedia)&&(n="webkit",r=navigator.userAgent.match(/Chrom(e|ium)/)&&parseInt(navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./)[2],10));var i=window.mozRTCPeerConnection||window.webkitRTCPeerConnection,o=window.mozRTCIceCandidate||window.RTCIceCandidate,a=window.mozRTCSessionDescription||window.RTCSessionDescription,s=window.webkitMediaStream||window.MediaStream,c="https:"===window.location.protocol&&("webkit"===n&&r>=26||"moz"===n&&r>=33),l=window.AudioContext||window.webkitAudioContext,u=document.createElement("video"),d=u&&u.canPlayType&&"probably"===u.canPlayType('video/webm; codecs="vp8", vorbis'),h=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.msGetUserMedia||navigator.mozGetUserMedia;e.exports={prefix:n,browserVersion:r,support:!!i&&d&&!!h,supportRTCPeerConnection:!!i,supportVp8:d,supportGetUserMedia:!!h,supportDataChannel:!!(i&&i.prototype&&i.prototype.createDataChannel),supportWebAudio:!(!l||!l.prototype.createMediaStreamSource),supportMediaStream:!(!s||!s.prototype.removeTrack),supportScreenSharing:!!c,dataChannel:!!(i&&i.prototype&&i.prototype.createDataChannel),webAudio:!(!l||!l.prototype.createMediaStreamSource),mediaStream:!(!s||!s.prototype.removeTrack),screenSharing:!!c,AudioContext:l,PeerConnection:i,SessionDescription:a,IceCandidate:o,MediaStream:s,getUserMedia:h}},NMIR:function(e,t,n){"use strict";n.r(t);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CodeshareFirepad_codeshare",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,concreteType:"CanEdit",kind:"LinkedField",name:"canEdit",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"me",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"userIds",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"CodeshareCodeMirror_codeshare"},{args:null,kind:"FragmentSpread",name:"useCodeshareCodeHistories_codeshare"},{args:null,kind:"FragmentSpread",name:"useCodeshareUsers_codeshare"}],type:"Codeshare",hash:"3efd42af1b92b5a5c4d38d39d31a0c6f"};t.default=r},NMZ9:function(e,t,n){"use strict";n.r(t);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useCodeshareTitle_codeshare",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"createdAt",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],type:"Codeshare",hash:"d48bdb65f2475bc1e065c140000d9372"};t.default=r},NTzu:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n("f1Ac"))},OEux:function(e,t,n){"use strict";e.exports=function(){var e=navigator.mediaDevices.getUserMedia.bind(navigator.mediaDevices);navigator.mediaDevices.getUserMedia=function(t){return e(t).catch((function(e){return Promise.reject(function(e){return{name:{PermissionDeniedError:"NotAllowedError"}[e.name]||e.name,message:e.message,constraint:e.constraint,toString:function(){return this.name}}}(e))}))}}},OMzZ:function(e,t,n){"use strict";n.r(t);var r=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"codeshareId",type:"String!"},{defaultValue:null,kind:"LocalArgument",name:"codeHistoryAfter",type:"String"},{defaultValue:null,kind:"LocalArgument",name:"codeHistoryFirst",type:"Int!"},{defaultValue:null,kind:"LocalArgument",name:"codeshareUsersFirst",type:"Int!"},{defaultValue:null,kind:"LocalArgument",name:"codeshareUsersAfter",type:"String"}],t={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"anonymous",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"email",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},o=[{kind:"Variable",name:"id",variableName:"codeshareId"}],a={alias:null,args:[{kind:"Literal",name:"first",value:100}],concreteType:"SubscriptionPlanConnection",kind:"LinkedField",name:"subscriptionPlans",plural:!1,selections:[{alias:null,args:null,concreteType:"SubscriptionPlanConnectionEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"SubscriptionPlan",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"isActive",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"planId",storageKey:null},t],storageKey:null}],storageKey:null}],storageKey:"subscriptionPlans(first:100)"},s={alias:null,args:null,kind:"ScalarField",name:"createdAt",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"me",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"userId",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"historyId",storageKey:null},h={alias:null,args:null,concreteType:"CreatedBy",kind:"LinkedField",name:"createdBy",plural:!1,selections:[c,l,{alias:null,args:null,kind:"ScalarField",name:"clientId",storageKey:null}],storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null},f=[{kind:"Variable",name:"after",variableName:"codeHistoryAfter"},{kind:"Variable",name:"first",variableName:"codeHistoryFirst"}],m={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},g={alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null},v=[{kind:"Variable",name:"after",variableName:"codeshareUsersAfter"},{kind:"Variable",name:"first",variableName:"codeshareUsersFirst"}],y=[l,c];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"CodeshareIdQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"Me",kind:"LinkedField",name:"me",plural:!1,selections:[t,n,r,i],storageKey:null},{args:null,kind:"FragmentSpread",name:"CodesharePage_viewer"}],storageKey:null},{alias:null,args:o,concreteType:"Codeshare",kind:"LinkedField",name:"codeshare",plural:!1,selections:[t,{args:null,kind:"FragmentSpread",name:"CodesharePage_codeshare"}],storageKey:null}],type:"Query"},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"CodeshareIdQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"Me",kind:"LinkedField",name:"me",plural:!1,selections:[t,n,r,i,{alias:null,args:null,concreteType:"UserSettings",kind:"LinkedField",name:"settings",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"theme",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"keymap",storageKey:null}],storageKey:null},a],storageKey:null}],storageKey:null},{alias:null,args:o,concreteType:"Codeshare",kind:"LinkedField",name:"codeshare",plural:!1,selections:[t,s,{alias:null,args:null,concreteType:"CreatedBy",kind:"LinkedField",name:"createdBy",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[a,t,i,n],storageKey:null},c,l],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,concreteType:"CanEdit",kind:"LinkedField",name:"canEdit",plural:!1,selections:[c,{alias:null,args:null,kind:"ScalarField",name:"userIds",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"modeName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"tabSize",storageKey:null},{alias:null,args:null,concreteType:"CodeCheckpoint",kind:"LinkedField",name:"codeCheckpoint",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"codeHistoryId",storageKey:null},u,{alias:null,args:null,concreteType:"CodeHistoryEdge",kind:"LinkedField",name:"codeHistoryEdge",plural:!1,selections:[{alias:null,args:null,concreteType:"CodeHistory",kind:"LinkedField",name:"node",plural:!1,selections:[t,d,u,s,h],storageKey:null},p],storageKey:null}],storageKey:null},{alias:null,args:f,concreteType:"CodeHistoryConnection",kind:"LinkedField",name:"codeHistory",plural:!1,selections:[{alias:null,args:null,concreteType:"CodeHistoryConnectionEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"CodeHistory",kind:"LinkedField",name:"node",plural:!1,selections:[t,d,u,s,h,m],storageKey:null},p],storageKey:null},g],storageKey:null},{alias:null,args:f,filters:null,handle:"connection",key:"Codeshare_codeHistory",kind:"LinkedHandle",name:"codeHistory"},{alias:null,args:v,concreteType:"CodeshareUsersConnection",kind:"LinkedField",name:"users",plural:!1,selections:[{alias:null,args:null,concreteType:"CodeshareUserConnectionEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"CodeshareUser",kind:"LinkedField",name:"node",plural:!1,selections:[t,s,{alias:null,args:null,kind:"ScalarField",name:"modifiedAt",storageKey:null},{alias:null,args:null,concreteType:"CreatedBy",kind:"LinkedField",name:"createdBy",plural:!1,selections:y,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},{alias:null,args:null,concreteType:"CursorType",kind:"LinkedField",name:"cursor",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"position",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"selectionEnd",storageKey:null}],storageKey:null},m],storageKey:null},p],storageKey:null},g],storageKey:null},{alias:null,args:v,filters:[],handle:"connection",key:"Codeshare_users",kind:"LinkedHandle",name:"users"},{alias:null,args:null,concreteType:"ModifiedBy",kind:"LinkedField",name:"modifiedBy",plural:!1,selections:y,storageKey:null}],storageKey:null}]},params:{id:null,metadata:{},name:"CodeshareIdQuery",operationKind:"query",text:"query CodeshareIdQuery(\n  $codeshareId: String!\n  $codeHistoryAfter: String\n  $codeHistoryFirst: Int!\n  $codeshareUsersFirst: Int!\n  $codeshareUsersAfter: String\n) {\n  viewer {\n    me {\n      id\n      anonymous\n      email\n      name\n    }\n    ...CodesharePage_viewer\n  }\n  codeshare(id: $codeshareId) {\n    id\n    ...CodesharePage_codeshare\n  }\n}\n\nfragment AuthUserNavbar_me on Me {\n  anonymous\n  name\n  email\n  ...Gravatar_me\n}\n\nfragment CodeMirrorCursor_codeshare on Codeshare {\n  canEdit {\n    me\n    userIds\n  }\n}\n\nfragment CodeshareCodeMirror_codeshare on Codeshare {\n  ...useCodeshareModeName_codeshare\n  ...useCodeshareTabSize_codeshare\n  ...CodeMirrorCursor_codeshare\n  canEdit {\n    me\n    userIds\n  }\n}\n\nfragment CodeshareCodeMirror_me on Me {\n  id\n  ...useTheme_me\n  ...useKeymap_me\n}\n\nfragment CodeshareDownloadButton_codeshare on Codeshare {\n  title\n  createdAt\n  modeName\n}\n\nfragment CodeshareEditor_codeshare on Codeshare {\n  ...CodeshareFirepad_codeshare\n}\n\nfragment CodeshareEditor_me on Me {\n  ...CodeshareFirepad_me\n}\n\nfragment CodeshareFirepad_codeshare on Codeshare {\n  id\n  ...CodeshareCodeMirror_codeshare\n  ...useCodeshareCodeHistories_codeshare\n  ...useCodeshareUsers_codeshare\n  canEdit {\n    me\n    userIds\n  }\n}\n\nfragment CodeshareFirepad_me on Me {\n  id\n  ...CodeshareCodeMirror_me\n}\n\nfragment CodeshareHead_codeshare on Codeshare {\n  ...CodeshareLazyHead_codeshare\n}\n\nfragment CodeshareHead_me on Me {\n  ...CodeshareLazyHead_me\n  ...useKeymap_me\n}\n\nfragment CodeshareKeymapFormField_me on Me {\n  ...useKeymap_me\n}\n\nfragment CodeshareLazyHead_codeshare on Codeshare {\n  createdAt\n  title\n}\n\nfragment CodeshareLazyHead_me on Me {\n  ...useTheme_me\n}\n\nfragment CodeshareModeNameFormField_codeshare on Codeshare {\n  ...useCodeshareModeName_codeshare\n  canEdit {\n    me\n    userIds\n  }\n}\n\nfragment CodeshareNavbar_codeshare on Codeshare {\n  id\n  createdBy {\n    me\n  }\n  title\n  createdAt\n  ...CodeshareShareButton_codeshare\n  ...CodeshareShareModal_codeshare\n}\n\nfragment CodeshareNavbar_me on Me {\n  anonymous\n  ...UserNavbar_me\n  ...CodeshareShareModal_me\n  ...PlansButton_me\n  ...isCodeshareProSubscriber_me\n}\n\nfragment CodesharePage_codeshare on Codeshare {\n  createdAt\n  createdBy {\n    user {\n      ...isCodeshareProSubscriber_user\n      id\n    }\n  }\n  title\n  ...CodeshareHead_codeshare\n  ...CodeshareNavbar_codeshare\n  ...CodeshareEditor_codeshare\n  ...CodeshareSidebar_codeshare\n  ...NagModal_codeshare\n}\n\nfragment CodesharePage_viewer on Viewer {\n  me {\n    ...CodeshareHead_me\n    ...CodeshareNavbar_me\n    ...CodeshareEditor_me\n    ...CodeshareSidebar_me\n    ...NagModal_me\n    ...isCodeshareProSubscriber_me\n    id\n  }\n}\n\nfragment CodesharePlans_me on Me {\n  anonymous\n  ...CodeshareProCheckoutModal_me\n  ...isCodeshareProSubscriber_me\n  ...LoginRegisterModal_me\n}\n\nfragment CodeshareProCheckoutModal_me on Me {\n  ...CodeshareProForm_me\n}\n\nfragment CodeshareProForm_me on Me {\n  id\n  email\n}\n\nfragment CodeshareProModal_me on Me {\n  ...CodesharePlans_me\n}\n\nfragment CodeshareSettingsForm_codeshare on Codeshare {\n  ...CodeshareTitleFormField_codeshare\n  ...CodeshareModeNameFormField_codeshare\n  ...CodeshareTabSizeFormField_codeshare\n}\n\nfragment CodeshareSettingsForm_me on Me {\n  anonymous\n  ...CodeshareThemeFormField_me\n  ...CodeshareKeymapFormField_me\n}\n\nfragment CodeshareShareButton_codeshare on Codeshare {\n  canEdit {\n    me\n    userIds\n  }\n}\n\nfragment CodeshareShareModal_codeshare on Codeshare {\n  ...CodeshareShareUrl_codeshare\n  ...CodeshareViewOnlyCheckbox_codeshare\n}\n\nfragment CodeshareShareModal_me on Me {\n  ...CodeshareViewOnlyCheckbox_me\n}\n\nfragment CodeshareShareUrl_codeshare on Codeshare {\n  id\n}\n\nfragment CodeshareSidebar_codeshare on Codeshare {\n  ...CodeshareSettingsForm_codeshare\n  ...CodeshareDownloadButton_codeshare\n  ...CodeshareVideoChatButton_codeshare\n}\n\nfragment CodeshareSidebar_me on Me {\n  ...CodeshareSettingsForm_me\n}\n\nfragment CodeshareTabSizeFormField_codeshare on Codeshare {\n  ...useCodeshareTabSize_codeshare\n  canEdit {\n    me\n    userIds\n  }\n}\n\nfragment CodeshareThemeFormField_me on Me {\n  ...useTheme_me\n}\n\nfragment CodeshareTitleFormField_codeshare on Codeshare {\n  ...useCodeshareTitle_codeshare\n  canEdit {\n    me\n    userIds\n  }\n}\n\nfragment CodeshareVideoChatButton_codeshare on Codeshare {\n  id\n}\n\nfragment CodeshareViewOnlyCheckbox_codeshare on Codeshare {\n  id\n  createdBy {\n    me\n    userId\n    user {\n      id\n      name\n    }\n  }\n  ...isCodeshareViewOnly_codeshare\n}\n\nfragment CodeshareViewOnlyCheckbox_me on Me {\n  anonymous\n  ...isCodeshareProSubscriber_me\n  ...CodeshareProModal_me\n}\n\nfragment Gravatar_me on Me {\n  name\n  email\n}\n\nfragment LoginForm_codeshare on Codeshare {\n  id\n  createdBy {\n    userId\n    me\n  }\n  modifiedBy {\n    userId\n    me\n  }\n  canEdit {\n    userIds\n    me\n  }\n}\n\nfragment LoginForm_me on Me {\n  id\n}\n\nfragment LoginRegisterModal_codeshare on Codeshare {\n  id\n  createdBy {\n    me\n    user {\n      anonymous\n      id\n    }\n  }\n  ...LoginForm_codeshare\n  ...RegisterForm_codeshare\n}\n\nfragment LoginRegisterModal_me on Me {\n  ...LoginForm_me\n  ...RegisterForm_me\n}\n\nfragment NagModal_codeshare on Codeshare {\n  ...LoginRegisterModal_codeshare\n}\n\nfragment NagModal_me on Me {\n  anonymous\n  ...LoginRegisterModal_me\n}\n\nfragment PlansButton_me on Me {\n  ...CodeshareProModal_me\n}\n\nfragment RegisterForm_codeshare on Codeshare {\n  id\n  createdBy {\n    userId\n    me\n  }\n  modifiedBy {\n    userId\n    me\n  }\n  canEdit {\n    userIds\n    me\n  }\n}\n\nfragment RegisterForm_me on Me {\n  id\n}\n\nfragment UserNavbar_me on Me {\n  anonymous\n  ...AuthUserNavbar_me\n}\n\nfragment isCodeshareProSubscriber_me on Me {\n  subscriptionPlans(first: 100) {\n    edges {\n      node {\n        isActive\n        planId\n        id\n      }\n    }\n  }\n}\n\nfragment isCodeshareProSubscriber_user on User {\n  subscriptionPlans(first: 100) {\n    edges {\n      node {\n        isActive\n        planId\n        id\n      }\n    }\n  }\n}\n\nfragment isCodeshareViewOnly_codeshare on Codeshare {\n  canEdit {\n    userIds\n  }\n}\n\nfragment refetchableCodeHistoryEdges_codeshare on Codeshare {\n  id\n  createdBy {\n    userId\n    me\n  }\n  codeCheckpoint {\n    codeHistoryId\n    value\n    codeHistoryEdge {\n      node {\n        id\n        historyId\n        value\n        createdAt\n        createdBy {\n          me\n          userId\n          clientId\n        }\n      }\n      cursor\n    }\n  }\n  codeHistory(after: $codeHistoryAfter, first: $codeHistoryFirst) {\n    edges {\n      node {\n        id\n        historyId\n        value\n        createdAt\n        createdBy {\n          me\n          userId\n          clientId\n        }\n        __typename\n      }\n      cursor\n    }\n    pageInfo {\n      endCursor\n      hasNextPage\n    }\n  }\n}\n\nfragment refetchableCodeshareUserEdges_codeshare on Codeshare {\n  id\n  createdBy {\n    userId\n    me\n  }\n  users(first: $codeshareUsersFirst, after: $codeshareUsersAfter) {\n    edges {\n      node {\n        id\n        createdAt\n        modifiedAt\n        createdBy {\n          userId\n          me\n        }\n        color\n        cursor {\n          position\n          selectionEnd\n        }\n        __typename\n      }\n      cursor\n    }\n    pageInfo {\n      endCursor\n      hasNextPage\n    }\n  }\n}\n\nfragment useCodeshareCodeHistories_codeshare on Codeshare {\n  id\n  ...refetchableCodeHistoryEdges_codeshare\n}\n\nfragment useCodeshareModeName_codeshare on Codeshare {\n  id\n  modeName\n}\n\nfragment useCodeshareTabSize_codeshare on Codeshare {\n  id\n  tabSize\n}\n\nfragment useCodeshareTitle_codeshare on Codeshare {\n  id\n  createdAt\n  title\n}\n\nfragment useCodeshareUsers_codeshare on Codeshare {\n  id\n  ...refetchableCodeshareUserEdges_codeshare\n}\n\nfragment useKeymap_me on Me {\n  id\n  settings {\n    keymap\n  }\n}\n\nfragment useTheme_me on Me {\n  id\n  settings {\n    theme\n  }\n}\n"}}}();r.hash="b85d4a61f19a6dd2e6fc7ad737533ac9",t.default=r},PAlc:function(e,t,n){(t=e.exports=a.debug=a).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){t.save(e);for(var n=(e||"").split(/[\s,]+/),r=n.length,i=0;i<r;i++)n[i]&&("-"===(e=n[i].replace(/[\\^$+?.()|[\]{}]/g,"\\$&").replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n("WiHW"),t.names=[],t.skips=[],t.formatters={};var r,i=0;function o(){return t.colors[i++%t.colors.length]}function a(e){function n(){}function i(){var e=i,n=+new Date,a=n-(r||n);e.diff=a,e.prev=r,e.curr=n,r=n,null==e.useColors&&(e.useColors=t.useColors()),null==e.color&&e.useColors&&(e.color=o());for(var s=new Array(arguments.length),c=0;c<s.length;c++)s[c]=arguments[c];s[0]=t.coerce(s[0]),"string"!==typeof s[0]&&(s=["%o"].concat(s));var l=0;s[0]=s[0].replace(/%([a-z%])/g,(function(n,r){if("%%"===n)return n;l++;var i=t.formatters[r];if("function"===typeof i){var o=s[l];n=i.call(e,o),s.splice(l,1),l--}return n})),s=t.formatArgs.apply(e,s);var u=i.log||t.log||console.log.bind(console);u.apply(e,s)}n.enabled=!1,i.enabled=!0;var a=t.enabled(e)?i:n;return a.namespace=e,a}},Qi7B:function(e,t,n){"use strict";n.r(t);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CodeshareFirepad_me",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{args:null,kind:"FragmentSpread",name:"CodeshareCodeMirror_me"}],type:"Me",hash:"d3bfab328f52730239c44e56861deb9f"};t.default=r},RMvX:function(e,t,n){"use strict";n.r(t);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useCodeshareCodeHistories_codeshare",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{args:null,kind:"FragmentSpread",name:"refetchableCodeHistoryEdges_codeshare"}],type:"Codeshare",hash:"559878d3383800802d431e54ba6535bb"};t.default=r},RkQG:function(e,t,n){"use strict";var r={shimGetUserMedia:function(){navigator.getUserMedia=navigator.webkitGetUserMedia}};e.exports={shimGetUserMedia:r.shimGetUserMedia}},"Rlw/":function(e,t,n){"use strict";n.r(t);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CodeshareNavbar_codeshare",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,concreteType:"CreatedBy",kind:"LinkedField",name:"createdBy",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"me",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"createdAt",storageKey:null},{args:null,kind:"FragmentSpread",name:"CodeshareShareButton_codeshare"},{args:null,kind:"FragmentSpread",name:"CodeshareShareModal_codeshare"}],type:"Codeshare",hash:"c88b477d709c6b443e85360c98ae2632"};t.default=r},Rm1S:function(e,t,n){"use strict";var r=n("14Sl"),i=n("glrk"),o=n("UMSQ"),a=n("HYAF"),s=n("iqWW"),c=n("FMNM");r("match",1,(function(e,t,n){return[function(t){var n=a(this),r=void 0==t?void 0:t[e];return void 0!==r?r.call(t,n):new RegExp(t)[e](String(n))},function(e){var r=n(t,e,this);if(r.done)return r.value;var a=i(e),l=String(this);if(!a.global)return c(a,l);var u=a.unicode;a.lastIndex=0;for(var d,h=[],p=0;null!==(d=c(a,l));){var f=String(d[0]);h[p]=f,""===f&&(a.lastIndex=s(l,o(a.lastIndex),u)),p++}return 0===p?null:h}]}))},SQWV:function(e,t,n){"use strict";n.r(t);var r=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"codeHistoryAfter",type:"String"},{defaultValue:null,kind:"LocalArgument",name:"codeHistoryFirst",type:"Int!"},{defaultValue:null,kind:"LocalArgument",name:"id",type:"ID!"}],t=[{kind:"Variable",name:"id",variableName:"id"}],n={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"userId",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"me",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"historyId",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"createdAt",storageKey:null},l={alias:null,args:null,concreteType:"CreatedBy",kind:"LinkedField",name:"createdBy",plural:!1,selections:[o,i,{alias:null,args:null,kind:"ScalarField",name:"clientId",storageKey:null}],storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null},d=[{kind:"Variable",name:"after",variableName:"codeHistoryAfter"},{kind:"Variable",name:"first",variableName:"codeHistoryFirst"}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"refetchableCodeHistoryEdgesRefetchQuery",selections:[{alias:null,args:t,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"refetchableCodeHistoryEdges_codeshare"}],storageKey:null}],type:"Query"},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"refetchableCodeHistoryEdgesRefetchQuery",selections:[{alias:null,args:t,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[n,r,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"CreatedBy",kind:"LinkedField",name:"createdBy",plural:!1,selections:[i,o],storageKey:null},{alias:null,args:null,concreteType:"CodeCheckpoint",kind:"LinkedField",name:"codeCheckpoint",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"codeHistoryId",storageKey:null},a,{alias:null,args:null,concreteType:"CodeHistoryEdge",kind:"LinkedField",name:"codeHistoryEdge",plural:!1,selections:[{alias:null,args:null,concreteType:"CodeHistory",kind:"LinkedField",name:"node",plural:!1,selections:[r,s,a,c,l],storageKey:null},u],storageKey:null}],storageKey:null},{alias:null,args:d,concreteType:"CodeHistoryConnection",kind:"LinkedField",name:"codeHistory",plural:!1,selections:[{alias:null,args:null,concreteType:"CodeHistoryConnectionEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"CodeHistory",kind:"LinkedField",name:"node",plural:!1,selections:[r,s,a,c,l,n],storageKey:null},u],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:d,filters:null,handle:"connection",key:"Codeshare_codeHistory",kind:"LinkedHandle",name:"codeHistory"}],type:"Codeshare"}],storageKey:null}]},params:{id:null,metadata:{derivedFrom:"refetchableCodeHistoryEdges_codeshare",isRefetchableQuery:!0},name:"refetchableCodeHistoryEdgesRefetchQuery",operationKind:"query",text:"query refetchableCodeHistoryEdgesRefetchQuery(\n  $codeHistoryAfter: String\n  $codeHistoryFirst: Int!\n  $id: ID!\n) {\n  node(id: $id) {\n    __typename\n    ...refetchableCodeHistoryEdges_codeshare\n    id\n  }\n}\n\nfragment refetchableCodeHistoryEdges_codeshare on Codeshare {\n  id\n  createdBy {\n    userId\n    me\n  }\n  codeCheckpoint {\n    codeHistoryId\n    value\n    codeHistoryEdge {\n      node {\n        id\n        historyId\n        value\n        createdAt\n        createdBy {\n          me\n          userId\n          clientId\n        }\n      }\n      cursor\n    }\n  }\n  codeHistory(after: $codeHistoryAfter, first: $codeHistoryFirst) {\n    edges {\n      node {\n        id\n        historyId\n        value\n        createdAt\n        createdBy {\n          me\n          userId\n          clientId\n        }\n        __typename\n      }\n      cursor\n    }\n    pageInfo {\n      endCursor\n      hasNextPage\n    }\n  }\n}\n"}}}();r.hash="5480aec223e32374eed87a6905412379",t.default=r},SfcZ:function(e,t,n){(function(r){function i(){try{return t.storage.debug}catch(e){}if("undefined"!==typeof r&&"env"in r)return r.env.DEBUG}(t=e.exports=n("9VKX")).log=function(){return"object"===typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(){var e=arguments,n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),!n)return e;var r="color: "+this.color;e=[e[0],r,"color: inherit"].concat(Array.prototype.slice.call(e,1));var i=0,o=0;return e[0].replace(/%[a-z%]/g,(function(e){"%%"!==e&&(i++,"%c"===e&&(o=i))})),e.splice(o,0,r),e},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(n){}},t.load=i,t.useColors=function(){return"undefined"!==typeof document&&"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31},t.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},t.enable(i())}).call(this,n("8oxB"))},T1DM:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("h9Dq"),i=new(n("CS9Q").a)(r.a)},TypT:function(e,t){t.encode=function(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t},t.decode=function(e){for(var t={},n=e.split("&"),r=0,i=n.length;r<i;r++){var o=n[r].split("=");t[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return t}},USsD:function(e,t,n){"use strict";n.r(t);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CodeshareHead_me",selections:[{args:null,kind:"FragmentSpread",name:"CodeshareLazyHead_me"},{args:null,kind:"FragmentSpread",name:"useKeymap_me"}],type:"Me",hash:"e6091dc2407953e33f1d9110d24f56b2"};t.default=r},Ubt4:function(e,t,n){"use strict";n.r(t);var r=function(){var e=["users"],t={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},r={alias:null,args:null,concreteType:"CreatedBy",kind:"LinkedField",name:"createdBy",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"userId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"me",storageKey:null}],storageKey:null};return{argumentDefinitions:[{kind:"RootArgument",name:"codeshareUsersFirst",type:"Int!"},{kind:"RootArgument",name:"codeshareUsersAfter",type:"String"}],kind:"Fragment",metadata:{connection:[{count:"codeshareUsersFirst",cursor:"codeshareUsersAfter",direction:"forward",path:e}],refetch:{connection:{forward:{count:"codeshareUsersFirst",cursor:"codeshareUsersAfter"},backward:null,path:e},fragmentPathInResult:["node"],operation:n("zVkU"),identifierField:"id"}},name:"refetchableCodeshareUserEdges_codeshare",selections:[t,r,{alias:"users",args:null,concreteType:"CodeshareUsersConnection",kind:"LinkedField",name:"__Codeshare_users_connection",plural:!1,selections:[{alias:null,args:null,concreteType:"CodeshareUserConnectionEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"CodeshareUser",kind:"LinkedField",name:"node",plural:!1,selections:[t,{alias:null,args:null,kind:"ScalarField",name:"createdAt",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"modifiedAt",storageKey:null},r,{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},{alias:null,args:null,concreteType:"CursorType",kind:"LinkedField",name:"cursor",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"position",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"selectionEnd",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null}],storageKey:null}],type:"Codeshare"}}();r.hash="432679eebdeadeba528b71c43deeea74",t.default=r},Uxeu:function(e,t){var n=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,r=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];e.exports=function(e){var t=e,i=e.indexOf("["),o=e.indexOf("]");-1!=i&&-1!=o&&(e=e.substring(0,i)+e.substring(i,o).replace(/:/g,";")+e.substring(o,e.length));for(var a=n.exec(e||""),s={},c=14;c--;)s[r[c]]=a[c]||"";return-1!=i&&-1!=o&&(s.source=t,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s}},VEGY:function(e,t,n){"use strict";n.r(t);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useTheme_me",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,concreteType:"UserSettings",kind:"LinkedField",name:"settings",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"theme",storageKey:null}],storageKey:null}],type:"Me",hash:"aa6086b77fd7f7e8874d68019ce575b6"};t.default=r},VJco:function(e,t,n){"use strict";var r=n("Ypoe").log;e.exports=function(){var e=function(e){if("object"!==typeof e||e.mandatory||e.optional)return e;var t={};return Object.keys(e).forEach((function(n){if("require"!==n&&"advanced"!==n&&"mediaSource"!==n){var r="object"===typeof e[n]?e[n]:{ideal:e[n]};void 0!==r.exact&&"number"===typeof r.exact&&(r.min=r.max=r.exact);var i=function(e,t){return e?e+t.charAt(0).toUpperCase()+t.slice(1):"deviceId"===t?"sourceId":t};if(void 0!==r.ideal){t.optional=t.optional||[];var o={};"number"===typeof r.ideal?(o[i("min",n)]=r.ideal,t.optional.push(o),(o={})[i("max",n)]=r.ideal,t.optional.push(o)):(o[i("",n)]=r.ideal,t.optional.push(o))}void 0!==r.exact&&"number"!==typeof r.exact?(t.mandatory=t.mandatory||{},t.mandatory[i("",n)]=r.exact):["min","max"].forEach((function(e){void 0!==r[e]&&(t.mandatory=t.mandatory||{},t.mandatory[i(e,n)]=r[e])}))}})),e.advanced&&(t.optional=(t.optional||[]).concat(e.advanced)),t},t=function(t,n){if((t=JSON.parse(JSON.stringify(t)))&&t.audio&&(t.audio=e(t.audio)),t&&"object"===typeof t.video){var i=t.video.facingMode;if((i=i&&("object"===typeof i?i:{ideal:i}))&&("user"===i.exact||"environment"===i.exact||"user"===i.ideal||"environment"===i.ideal)&&(!navigator.mediaDevices.getSupportedConstraints||!navigator.mediaDevices.getSupportedConstraints().facingMode)&&(delete t.video.facingMode,"environment"===i.exact||"environment"===i.ideal))return navigator.mediaDevices.enumerateDevices().then((function(o){var a=(o=o.filter((function(e){return"videoinput"===e.kind}))).find((function(e){return-1!==e.label.toLowerCase().indexOf("back")}))||o.length&&o[o.length-1];return a&&(t.video.deviceId=i.exact?{exact:a.deviceId}:{ideal:a.deviceId}),t.video=e(t.video),r("chrome: "+JSON.stringify(t)),n(t)}));t.video=e(t.video)}return r("chrome: "+JSON.stringify(t)),n(t)},n=function(e){return{name:{PermissionDeniedError:"NotAllowedError",ConstraintNotSatisfiedError:"OverconstrainedError"}[e.name]||e.name,message:e.message,constraint:e.constraintName,toString:function(){return this.name+(this.message&&": ")+this.message}}};navigator.getUserMedia=function(e,r,i){t(e,(function(e){navigator.webkitGetUserMedia(e,r,(function(e){i(n(e))}))}))};var i=function(e){return new Promise((function(t,n){navigator.getUserMedia(e,t,n)}))};if(navigator.mediaDevices||(navigator.mediaDevices={getUserMedia:i,enumerateDevices:function(){return new Promise((function(e){var t={audio:"audioinput",video:"videoinput"};return MediaStreamTrack.getSources((function(n){e(n.map((function(e){return{label:e.label,kind:t[e.kind],deviceId:e.id,groupId:""}})))}))}))}}),navigator.mediaDevices.getUserMedia){var o=navigator.mediaDevices.getUserMedia.bind(navigator.mediaDevices);navigator.mediaDevices.getUserMedia=function(e){return t(e,(function(e){return o(e).catch((function(e){return Promise.reject(n(e))}))}))}}else navigator.mediaDevices.getUserMedia=function(e){return i(e)};"undefined"===typeof navigator.mediaDevices.addEventListener&&(navigator.mediaDevices.addEventListener=function(){r("Dummy mediaDevices.addEventListener called.")}),"undefined"===typeof navigator.mediaDevices.removeEventListener&&(navigator.mediaDevices.removeEventListener=function(){r("Dummy mediaDevices.removeEventListener called.")})}},VYIP:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/[codeshareId]",function(){return n("bvCf")}])},Vliq:function(e,t,n){"use strict";n.r(t);var r=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input",type:"CodeshareUserUpsertionsInput!"}],t={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},n=[{alias:null,args:[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"UpsertionsPayload",kind:"LinkedField",name:"codeshareUserUpsertions",plural:!1,selections:[{alias:null,args:null,concreteType:"Codeshare",kind:"LinkedField",name:"codeshare",plural:!1,selections:[t],storageKey:null},{alias:null,args:null,concreteType:"CodeshareUserEdge",kind:"LinkedField",name:"upsertedCodeshareUserEdge",plural:!1,selections:[{alias:null,args:null,concreteType:"CodeshareUser",kind:"LinkedField",name:"node",plural:!1,selections:[t,{alias:null,args:null,kind:"ScalarField",name:"createdAt",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"modifiedAt",storageKey:null},{alias:null,args:null,concreteType:"CreatedBy",kind:"LinkedField",name:"createdBy",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"userId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"me",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},{alias:null,args:null,concreteType:"CursorType",kind:"LinkedField",name:"cursor",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"position",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"selectionEnd",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"onCodeshareUserUpsertionsSubscription",selections:n,type:"Subscription"},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"onCodeshareUserUpsertionsSubscription",selections:n},params:{id:null,metadata:{},name:"onCodeshareUserUpsertionsSubscription",operationKind:"subscription",text:"subscription onCodeshareUserUpsertionsSubscription(\n  $input: CodeshareUserUpsertionsInput!\n) {\n  codeshareUserUpsertions(input: $input) {\n    codeshare {\n      id\n    }\n    upsertedCodeshareUserEdge {\n      node {\n        id\n        createdAt\n        modifiedAt\n        createdBy {\n          userId\n          me\n        }\n        color\n        cursor {\n          position\n          selectionEnd\n        }\n      }\n      cursor\n    }\n  }\n}\n"}}}();r.hash="047a48aaa6f81d25ede85d775204545c",t.default=r},Vo14:function(e,t,n){var r=n("iMbZ")("socket.io-parser"),i=n("H1Ls"),o=n("aKum"),a=n("cD5x"),s=n("+SKG");function c(){}function l(e){var n="",o=!1;return n+=e.type,t.BINARY_EVENT!=e.type&&t.BINARY_ACK!=e.type||(n+=e.attachments,n+="-"),e.nsp&&"/"!=e.nsp&&(o=!0,n+=e.nsp),null!=e.id&&(o&&(n+=",",o=!1),n+=e.id),null!=e.data&&(o&&(n+=","),n+=i.stringify(e.data)),r("encoded %j as %s",e,n),n}function u(){this.reconstructor=null}function d(e){this.reconPack=e,this.buffers=[]}function h(e){return{type:t.ERROR,data:"parser error"}}t.protocol=4,t.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],t.CONNECT=0,t.DISCONNECT=1,t.EVENT=2,t.ACK=3,t.ERROR=4,t.BINARY_EVENT=5,t.BINARY_ACK=6,t.Encoder=c,t.Decoder=u,c.prototype.encode=function(e,n){(r("encoding packet %j",e),t.BINARY_EVENT==e.type||t.BINARY_ACK==e.type)?function(e,t){function n(e){var n=a.deconstructPacket(e),r=l(n.packet),i=n.buffers;i.unshift(r),t(i)}a.removeBlobs(e,n)}(e,n):n([l(e)])},o(u.prototype),u.prototype.add=function(e){var n;if("string"==typeof e)n=function(e){var n={},o=0;if(n.type=Number(e.charAt(0)),null==t.types[n.type])return h();if(t.BINARY_EVENT==n.type||t.BINARY_ACK==n.type){for(var a="";"-"!=e.charAt(++o)&&(a+=e.charAt(o),o!=e.length););if(a!=Number(a)||"-"!=e.charAt(o))throw new Error("Illegal attachments");n.attachments=Number(a)}if("/"==e.charAt(o+1))for(n.nsp="";++o;){if(","==(c=e.charAt(o)))break;if(n.nsp+=c,o==e.length)break}else n.nsp="/";var s=e.charAt(o+1);if(""!==s&&Number(s)==s){for(n.id="";++o;){var c;if(null==(c=e.charAt(o))||Number(c)!=c){--o;break}if(n.id+=e.charAt(o),o==e.length)break}n.id=Number(n.id)}e.charAt(++o)&&(n=function(e,t){try{e.data=i.parse(t)}catch(n){return h()}return e}(n,e.substr(o)));return r("decoded %s as %j",e,n),n}(e),t.BINARY_EVENT==n.type||t.BINARY_ACK==n.type?(this.reconstructor=new d(n),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",n)):this.emit("decoded",n);else{if(!s(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(n=this.reconstructor.takeBinaryData(e))&&(this.reconstructor=null,this.emit("decoded",n))}},u.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},d.prototype.takeBinaryData=function(e){if(this.buffers.push(e),this.buffers.length==this.reconPack.attachments){var t=a.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null},d.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},VwG6:function(e,t,n){var r=n("i+Xr"),i=n("p7Ng"),o=n("taVt"),a=n("VzOi"),s=n("k9ys"),c=n("WG5i");function l(e){var t,n,l=this,u=e||{},d=this.config={url:"https://sandbox.simplewebrtc.com:443/",socketio:{},connection:null,debug:!1,localVideoEl:"",remoteVideosEl:"",enableDataChannels:!0,autoRequestMedia:!1,autoRemoveVideos:!0,adjustPeerVolume:!1,peerVolumeWhenSpeaking:.25,media:{video:!0,audio:!0},receiveMedia:{offerToReceiveAudio:1,offerToReceiveVideo:1},localVideo:{autoplay:!0,mirror:!0,muted:!0}};for(t in this.logger=e.debug?e.logger||console:e.logger||s,u)u.hasOwnProperty(t)&&(this.config[t]=u[t]);this.capabilities=o,i.call(this),(n=null===this.config.connection?this.connection=new c(this.config):this.connection=this.config.connection).on("connect",(function(){l.emit("connectionReady",n.getSessionid()),l.sessionReady=!0,l.testReadiness()})),n.on("message",(function(e){var t,n=l.webrtc.getPeers(e.from,e.roomType);"offer"===e.type?(n.length&&n.forEach((function(n){n.sid==e.sid&&(t=n)})),t||(t=l.webrtc.createPeer({id:e.from,sid:e.sid,type:e.roomType,enableDataChannels:l.config.enableDataChannels&&"screen"!==e.roomType,sharemyscreen:"screen"===e.roomType&&!e.broadcaster,broadcaster:"screen"!==e.roomType||e.broadcaster?null:l.connection.getSessionid()}),l.emit("createdPeer",t)),t.handleMessage(e)):n.length&&n.forEach((function(t){e.sid?t.sid===e.sid&&t.handleMessage(e):t.handleMessage(e)}))})),n.on("remove",(function(e){e.id!==l.connection.getSessionid()&&l.webrtc.removePeers(e.id,e.type)})),e.logger=this.logger,e.debug=!1,this.webrtc=new r(e),["mute","unmute","pauseVideo","resumeVideo","pause","resume","sendToAll","sendDirectlyToAll","getPeers"].forEach((function(e){l[e]=l.webrtc[e].bind(l.webrtc)})),this.webrtc.on("*",(function(){l.emit.apply(l,arguments)})),d.debug&&this.on("*",this.logger.log.bind(this.logger,"SimpleWebRTC event:")),this.webrtc.on("localStream",(function(){l.testReadiness()})),this.webrtc.on("message",(function(e){l.connection.emit("message",e)})),this.webrtc.on("peerStreamAdded",this.handlePeerStreamAdded.bind(this)),this.webrtc.on("peerStreamRemoved",this.handlePeerStreamRemoved.bind(this)),this.config.adjustPeerVolume&&(this.webrtc.on("speaking",this.setVolumeForAll.bind(this,this.config.peerVolumeWhenSpeaking)),this.webrtc.on("stoppedSpeaking",this.setVolumeForAll.bind(this,1))),n.on("stunservers",(function(e){l.webrtc.config.peerConnectionConfig.iceServers=e,l.emit("stunservers",e)})),n.on("turnservers",(function(e){l.webrtc.config.peerConnectionConfig.iceServers=l.webrtc.config.peerConnectionConfig.iceServers.concat(e),l.emit("turnservers",e)})),this.webrtc.on("iceFailed",(function(e){})),this.webrtc.on("connectivityError",(function(e){})),this.webrtc.on("audioOn",(function(){l.webrtc.sendToAll("unmute",{name:"audio"})})),this.webrtc.on("audioOff",(function(){l.webrtc.sendToAll("mute",{name:"audio"})})),this.webrtc.on("videoOn",(function(){l.webrtc.sendToAll("unmute",{name:"video"})})),this.webrtc.on("videoOff",(function(){l.webrtc.sendToAll("mute",{name:"video"})})),this.webrtc.on("localScreen",(function(e){var t=document.createElement("video"),n=l.getRemoteVideoContainer();t.oncontextmenu=function(){return!1},t.id="localScreen",a(e,t),n&&n.appendChild(t),l.emit("localScreenAdded",t),l.connection.emit("shareScreen"),l.webrtc.peers.forEach((function(e){var t;"video"===e.type&&(t=l.webrtc.createPeer({id:e.id,type:"screen",sharemyscreen:!0,enableDataChannels:!1,receiveMedia:{offerToReceiveAudio:0,offerToReceiveVideo:0},broadcaster:l.connection.getSessionid()}),l.emit("createdPeer",t),t.start())}))})),this.webrtc.on("localScreenStopped",(function(e){l.stopScreenShare()})),this.webrtc.on("channelMessage",(function(e,t,n){"volume"==n.type&&l.emit("remoteVolumeChange",e,n.volume)})),this.config.autoRequestMedia&&this.startLocalVideo()}l.prototype=Object.create(i.prototype,{constructor:{value:l}}),l.prototype.leaveRoom=function(){if(this.roomName){for(this.connection.emit("leave");this.webrtc.peers.length;)this.webrtc.peers[0].end();this.getLocalScreen()&&this.stopScreenShare(),this.emit("leftRoom",this.roomName),this.roomName=void 0}},l.prototype.disconnect=function(){this.connection.disconnect(),delete this.connection},l.prototype.handlePeerStreamAdded=function(e){var t=this,n=this.getRemoteVideoContainer(),r=a(e.stream);e.videoEl=r,r.id=this.getDomId(e),n&&n.appendChild(r),this.emit("videoAdded",r,e),window.setTimeout((function(){t.webrtc.isAudioEnabled()||e.send("mute",{name:"audio"}),t.webrtc.isVideoEnabled()||e.send("mute",{name:"video"})}),250)},l.prototype.handlePeerStreamRemoved=function(e){var t=this.getRemoteVideoContainer(),n=e.videoEl;this.config.autoRemoveVideos&&t&&n&&t.removeChild(n),n&&this.emit("videoRemoved",n,e)},l.prototype.getDomId=function(e){return[e.id,e.type,e.broadcaster?"broadcasting":"incoming"].join("_")},l.prototype.setVolumeForAll=function(e){this.webrtc.peers.forEach((function(t){t.videoEl&&(t.videoEl.volume=e)}))},l.prototype.joinRoom=function(e,t){var n=this;this.roomName=e,this.connection.emit("join",e,(function(r,i){var o,a,s,c;if(console.log("join CB",r,i),r)n.emit("error",r);else for(o in i.clients)for(s in a=i.clients[o])a[s]&&(c=n.webrtc.createPeer({id:o,type:s,enableDataChannels:n.config.enableDataChannels&&"screen"!==s,receiveMedia:{offerToReceiveAudio:"screen"!==s&&n.config.receiveMedia.offerToReceiveAudio?1:0,offerToReceiveVideo:n.config.receiveMedia.offerToReceiveVideo}}),n.emit("createdPeer",c),c.start());t&&t(r,i),n.emit("joinedRoom",e)}))},l.prototype.getEl=function(e){return"string"===typeof e?document.getElementById(e):e},l.prototype.startLocalVideo=function(e){var t=this;e=e||function(){},this.webrtc.startLocalMedia(this.config.media,(function(n,r){n?(t.emit("localMediaError",n),e(n)):(a(r,t.getLocalVideoContainer(),t.config.localVideo),e())}))},l.prototype.stopLocalVideo=function(){this.webrtc.stopLocalMedia()},l.prototype.getLocalVideoContainer=function(){var e=this.getEl(this.config.localVideoEl);if(e&&"VIDEO"===e.tagName)return e.oncontextmenu=function(){return!1},e;if(e){var t=document.createElement("video");return t.oncontextmenu=function(){return!1},e.appendChild(t),t}},l.prototype.getRemoteVideoContainer=function(){return this.getEl(this.config.remoteVideosEl)},l.prototype.shareScreen=function(e){this.webrtc.startScreenShare(e)},l.prototype.getLocalScreen=function(){return this.webrtc.localScreen},l.prototype.stopScreenShare=function(){this.connection.emit("unshareScreen");var e=document.getElementById("localScreen"),t=this.getRemoteVideoContainer(),n=this.getLocalScreen();this.config.autoRemoveVideos&&t&&e&&t.removeChild(e),e&&this.emit("videoRemoved",e),n&&n.getTracks().forEach((function(e){e.stop()})),this.webrtc.peers.forEach((function(e){e.broadcaster&&e.end()}))},l.prototype.testReadiness=function(){this.sessionReady&&(this.config.media.video||this.config.media.audio?this.webrtc.localStreams.length>0&&this.emit("readyToCall",this.connection.getSessionid()):this.emit("readyToCall",this.connection.getSessionid()))},l.prototype.createRoom=function(e,t){this.roomName=e,2===arguments.length?this.connection.emit("create",e,t):this.connection.emit("create",e)},l.prototype.sendFile=function(){if(!o.dataChannel)return this.emit("error",new Error("DataChannelNotSupported"))},e.exports=l},VzOi:function(e,t,n){n("0JNz");e.exports=function(e,t,n){window.URL;var r,i=t,o={autoplay:!0,mirror:!1,muted:!1,audio:!1,disableContextMenu:!1};if(n)for(r in n)o[r]=n[r];return i?"audio"===i.tagName.toLowerCase()&&(o.audio=!0):i=document.createElement(o.audio?"audio":"video"),o.disableContextMenu&&(i.oncontextmenu=function(e){e.preventDefault()}),o.autoplay&&(i.autoplay="autoplay"),o.muted&&(i.muted=!0),!o.audio&&o.mirror&&["","moz","webkit","o","ms"].forEach((function(e){var t=e?e+"Transform":"transform";i.style[t]="scaleX(-1)"})),i.srcObject=e,i}},WG5i:function(e,t,n){var r=n("gFX4");function i(e){this.connection=r.connect(e.url,e.socketio)}i.prototype.on=function(e,t){this.connection.on(e,t)},i.prototype.emit=function(){this.connection.emit.apply(this.connection,arguments)},i.prototype.getSessionid=function(){return this.connection.id},i.prototype.disconnect=function(){return this.connection.disconnect()},e.exports=i},WWur:function(e,t,n){"use strict";const r=(e,{target:t=document.body}={})=>{const n=document.createElement("textarea"),r=document.activeElement;n.value=e,n.setAttribute("readonly",""),n.style.contain="strict",n.style.position="absolute",n.style.left="-9999px",n.style.fontSize="12pt";const i=document.getSelection();let o=!1;i.rangeCount>0&&(o=i.getRangeAt(0)),t.append(n),n.select(),n.selectionStart=0,n.selectionEnd=e.length;let a=!1;try{a=document.execCommand("copy")}catch(s){}return n.remove(),o&&(i.removeAllRanges(),i.addRange(o)),r&&r.focus(),a};e.exports=r,e.exports.default=r},WiHW:function(e,t){var n=1e3,r=6e4,i=60*r,o=24*i,a=365.25*o;function s(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}e.exports=function(e,t){t=t||{};var c,l=typeof e;if("string"===l&&e.length>0)return function(e){if((e=String(e)).length>1e4)return;var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(!t)return;var s=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return s*a;case"days":case"day":case"d":return s*o;case"hours":case"hour":case"hrs":case"hr":case"h":return s*i;case"minutes":case"minute":case"mins":case"min":case"m":return s*r;case"seconds":case"second":case"secs":case"sec":case"s":return s*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}(e);if("number"===l&&!1===isNaN(e))return t.long?s(c=e,o,"day")||s(c,i,"hour")||s(c,r,"minute")||s(c,n,"second")||c+" ms":function(e){if(e>=o)return Math.round(e/o)+"d";if(e>=i)return Math.round(e/i)+"h";if(e>=r)return Math.round(e/r)+"m";if(e>=n)return Math.round(e/n)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},Wige:function(e,t,n){"use strict";n.r(t);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CodeshareTabSizeFormField_codeshare",selections:[{alias:null,args:null,concreteType:"CanEdit",kind:"LinkedField",name:"canEdit",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"me",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"userIds",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"useCodeshareTabSize_codeshare"}],type:"Codeshare",hash:"91604d76920a6f52486445c0776bb8b1"};t.default=r},Wm4p:function(e,t,n){(function(e){var r,i=n("dkv/"),o=n("+pgx"),a=n("ypnn"),s=n("zMFY"),c=n("A9kb");e&&e.ArrayBuffer&&(r=n("g5Dd"));var l="undefined"!==typeof navigator&&/Android/i.test(navigator.userAgent),u="undefined"!==typeof navigator&&/PhantomJS/i.test(navigator.userAgent),d=l||u;t.protocol=3;var h=t.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},p=i(h),f={type:"error",data:"parser error"},m=n("14A5");function g(e,t,n){for(var r=new Array(e.length),i=s(e.length,n),o=function(e,n,i){t(n,(function(t,n){r[e]=n,i(t,r)}))},a=0;a<e.length;a++)o(a,e[a],i)}t.encodePacket=function(n,r,i,o){"function"==typeof r&&(o=r,r=!1),"function"==typeof i&&(o=i,i=null);var a=void 0===n.data?void 0:n.data.buffer||n.data;if(e.ArrayBuffer&&a instanceof ArrayBuffer)return function(e,n,r){if(!n)return t.encodeBase64Packet(e,r);var i=e.data,o=new Uint8Array(i),a=new Uint8Array(1+i.byteLength);a[0]=h[e.type];for(var s=0;s<o.length;s++)a[s+1]=o[s];return r(a.buffer)}(n,r,o);if(m&&a instanceof e.Blob)return function(e,n,r){if(!n)return t.encodeBase64Packet(e,r);if(d)return function(e,n,r){if(!n)return t.encodeBase64Packet(e,r);var i=new FileReader;return i.onload=function(){e.data=i.result,t.encodePacket(e,n,!0,r)},i.readAsArrayBuffer(e.data)}(e,n,r);var i=new Uint8Array(1);i[0]=h[e.type];var o=new m([i.buffer,e.data]);return r(o)}(n,r,o);if(a&&a.base64)return function(e,n){var r="b"+t.packets[e.type]+e.data.data;return n(r)}(n,o);var s=h[n.type];return void 0!==n.data&&(s+=i?c.encode(String(n.data)):String(n.data)),o(""+s)},t.encodeBase64Packet=function(n,r){var i,o="b"+t.packets[n.type];if(m&&n.data instanceof e.Blob){var a=new FileReader;return a.onload=function(){var e=a.result.split(",")[1];r(o+e)},a.readAsDataURL(n.data)}try{i=String.fromCharCode.apply(null,new Uint8Array(n.data))}catch(u){for(var s=new Uint8Array(n.data),c=new Array(s.length),l=0;l<s.length;l++)c[l]=s[l];i=String.fromCharCode.apply(null,c)}return o+=e.btoa(i),r(o)},t.decodePacket=function(e,n,r){if(void 0===e)return f;if("string"==typeof e){if("b"==e.charAt(0))return t.decodeBase64Packet(e.substr(1),n);if(r&&!1===(e=function(e){try{e=c.decode(e)}catch(t){return!1}return e}(e)))return f;var i=e.charAt(0);return Number(i)==i&&p[i]?e.length>1?{type:p[i],data:e.substring(1)}:{type:p[i]}:f}i=new Uint8Array(e)[0];var o=a(e,1);return m&&"blob"===n&&(o=new m([o])),{type:p[i],data:o}},t.decodeBase64Packet=function(e,t){var n=p[e.charAt(0)];if(!r)return{type:n,data:{base64:!0,data:e.substr(1)}};var i=r.decode(e.substr(1));return"blob"===t&&m&&(i=new m([i])),{type:n,data:i}},t.encodePayload=function(e,n,r){"function"==typeof n&&(r=n,n=null);var i=o(e);if(n&&i)return m&&!d?t.encodePayloadAsBlob(e,r):t.encodePayloadAsArrayBuffer(e,r);if(!e.length)return r("0:");g(e,(function(e,r){t.encodePacket(e,!!i&&n,!0,(function(e){r(null,function(e){return e.length+":"+e}(e))}))}),(function(e,t){return r(t.join(""))}))},t.decodePayload=function(e,n,r){if("string"!=typeof e)return t.decodePayloadAsBinary(e,n,r);var i;if("function"===typeof n&&(r=n,n=null),""==e)return r(f,0,1);for(var o,a,s="",c=0,l=e.length;c<l;c++){var u=e.charAt(c);if(":"!=u)s+=u;else{if(""==s||s!=(o=Number(s)))return r(f,0,1);if(s!=(a=e.substr(c+1,o)).length)return r(f,0,1);if(a.length){if(i=t.decodePacket(a,n,!0),f.type==i.type&&f.data==i.data)return r(f,0,1);if(!1===r(i,c+o,l))return}c+=o,s=""}}return""!=s?r(f,0,1):void 0},t.encodePayloadAsArrayBuffer=function(e,n){if(!e.length)return n(new ArrayBuffer(0));g(e,(function(e,n){t.encodePacket(e,!0,!0,(function(e){return n(null,e)}))}),(function(e,t){var r=t.reduce((function(e,t){var n;return e+(n="string"===typeof t?t.length:t.byteLength).toString().length+n+2}),0),i=new Uint8Array(r),o=0;return t.forEach((function(e){var t="string"===typeof e,n=e;if(t){for(var r=new Uint8Array(e.length),a=0;a<e.length;a++)r[a]=e.charCodeAt(a);n=r.buffer}i[o++]=t?0:1;var s=n.byteLength.toString();for(a=0;a<s.length;a++)i[o++]=parseInt(s[a]);i[o++]=255;for(r=new Uint8Array(n),a=0;a<r.length;a++)i[o++]=r[a]})),n(i.buffer)}))},t.encodePayloadAsBlob=function(e,n){g(e,(function(e,n){t.encodePacket(e,!0,!0,(function(e){var t=new Uint8Array(1);if(t[0]=1,"string"===typeof e){for(var r=new Uint8Array(e.length),i=0;i<e.length;i++)r[i]=e.charCodeAt(i);e=r.buffer,t[0]=0}var o=(e instanceof ArrayBuffer?e.byteLength:e.size).toString(),a=new Uint8Array(o.length+1);for(i=0;i<o.length;i++)a[i]=parseInt(o[i]);if(a[o.length]=255,m){var s=new m([t.buffer,a.buffer,e]);n(null,s)}}))}),(function(e,t){return n(new m(t))}))},t.decodePayloadAsBinary=function(e,n,r){"function"===typeof n&&(r=n,n=null);for(var i=e,o=[],s=!1;i.byteLength>0;){for(var c=new Uint8Array(i),l=0===c[0],u="",d=1;255!=c[d];d++){if(u.length>310){s=!0;break}u+=c[d]}if(s)return r(f,0,1);i=a(i,2+u.length),u=parseInt(u);var h=a(i,0,u);if(l)try{h=String.fromCharCode.apply(null,new Uint8Array(h))}catch(g){var p=new Uint8Array(h);h="";for(d=0;d<p.length;d++)h+=String.fromCharCode(p[d])}o.push(h),i=a(i,u)}var m=o.length;o.forEach((function(e,i){r(t.decodePacket(e,n,!0),i,m)}))}}).call(this,n("yLpj"))},Ws8G:function(e,t,n){"use strict";n.r(t);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"NagModal_me",selections:[{alias:null,args:null,kind:"ScalarField",name:"anonymous",storageKey:null},{args:null,kind:"FragmentSpread",name:"LoginRegisterModal_me"}],type:"Me",hash:"b448df1e4d5637e577ec84c2c9dc1e45"};t.default=r},X7LM:function(e,t,n){"use strict";var r=/[^\0-\u007E]/,i=/[.\u3002\uFF0E\uFF61]/g,o="Overflow: input needs wider integers to process",a=Math.floor,s=String.fromCharCode,c=function(e){return e+22+75*(e<26)},l=function(e,t,n){var r=0;for(e=n?a(e/700):e>>1,e+=a(e/t);e>455;r+=36)e=a(e/35);return a(r+36*e/(e+38))},u=function(e){var t,n,r=[],i=(e=function(e){for(var t=[],n=0,r=e.length;n<r;){var i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var o=e.charCodeAt(n++);56320==(64512&o)?t.push(((1023&i)<<10)+(1023&o)+65536):(t.push(i),n--)}else t.push(i)}return t}(e)).length,u=128,d=0,h=72;for(t=0;t<e.length;t++)(n=e[t])<128&&r.push(s(n));var p=r.length,f=p;for(p&&r.push("-");f<i;){var m=2147483647;for(t=0;t<e.length;t++)(n=e[t])>=u&&n<m&&(m=n);var g=f+1;if(m-u>a((2147483647-d)/g))throw RangeError(o);for(d+=(m-u)*g,u=m,t=0;t<e.length;t++){if((n=e[t])<u&&++d>2147483647)throw RangeError(o);if(n==u){for(var v=d,y=36;;y+=36){var b=y<=h?1:y>=h+26?26:y-h;if(v<b)break;var C=v-b,w=36-b;r.push(s(c(b+C%w))),v=a(C/w)}r.push(s(c(v))),h=l(d,g,f==p),d=0,++f}}++d,++u}return r.join("")};e.exports=function(e){var t,n,o=[],a=e.toLowerCase().replace(i,".").split(".");for(t=0;t<a.length;t++)n=a[t],o.push(r.test(n)?"xn--"+u(n):n);return o.join(".")}},XAFW:function(e,t,n){"use strict";n.r(t);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CodesharePage_viewer",selections:[{alias:null,args:null,concreteType:"Me",kind:"LinkedField",name:"me",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CodeshareHead_me"},{args:null,kind:"FragmentSpread",name:"CodeshareNavbar_me"},{args:null,kind:"FragmentSpread",name:"CodeshareEditor_me"},{args:null,kind:"FragmentSpread",name:"CodeshareSidebar_me"},{args:null,kind:"FragmentSpread",name:"NagModal_me"},{args:null,kind:"FragmentSpread",name:"isCodeshareProSubscriber_me"}],storageKey:null}],type:"Viewer",hash:"115715eee5bf38b8e33749b4b9797e2f"};t.default=r},XmTq:function(e,t,n){"use strict";e.exports=function(){var e=navigator.mediaDevices.getUserMedia.bind(navigator.mediaDevices);navigator.mediaDevices.getUserMedia=function(t){return e(t).catch((function(e){return Promise.reject(function(e){return{name:{PermissionDeniedError:"NotAllowedError"}[e.name]||e.name,message:e.message,constraint:e.constraint,toString:function(){return this.name}}}(e))}))}}},YGK4:function(e,t,n){"use strict";var r=n("bWFh"),i=n("ZWaQ");e.exports=r("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),i)},YNrV:function(e,t,n){"use strict";var r=n("g6v/"),i=n("0Dky"),o=n("33Wh"),a=n("dBg+"),s=n("0eef"),c=n("ewvW"),l=n("RK3t"),u=Object.assign,d=Object.defineProperty;e.exports=!u||i((function(){if(r&&1!==u({b:1},u(d({},"a",{enumerable:!0,get:function(){d(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol();return e[n]=7,"abcdefghijklmnopqrst".split("").forEach((function(e){t[e]=e})),7!=u({},e)[n]||"abcdefghijklmnopqrst"!=o(u({},t)).join("")}))?function(e,t){for(var n=c(e),i=arguments.length,u=1,d=a.f,h=s.f;i>u;)for(var p,f=l(arguments[u++]),m=d?o(f).concat(d(f)):o(f),g=m.length,v=0;g>v;)p=m[v++],r&&!h.call(f,p)||(n[p]=f[p]);return n}:u},Ypoe:function(e,t,n){"use strict";var r=!0,i={disableLog:function(e){return"boolean"!==typeof e?new Error("Argument type: "+typeof e+". Please use a boolean."):(r=e,e?"adapter.js logging disabled":"adapter.js logging enabled")},log:function(){if("object"===typeof window){if(r)return;"undefined"!==typeof console&&"function"===typeof console.log&&console.log.apply(console,arguments)}},extractVersion:function(e,t,n){var r=e.match(t);return r&&r.length>=n&&parseInt(r[n],10)},detectBrowser:function(){var e={browser:null,version:null,minVersion:null};if("undefined"===typeof window||!window.navigator)return e.browser="Not a browser.",e;if(navigator.mozGetUserMedia)e.browser="firefox",e.version=this.extractVersion(navigator.userAgent,/Firefox\/([0-9]+)\./,1),e.minVersion=31;else if(navigator.webkitGetUserMedia)if(window.webkitRTCPeerConnection)e.browser="chrome",e.version=this.extractVersion(navigator.userAgent,/Chrom(e|ium)\/([0-9]+)\./,2),e.minVersion=38;else{if(!navigator.userAgent.match(/Version\/(\d+).(\d+)/))return e.browser="Unsupported webkit-based browser with GUM support but no WebRTC support.",e;e.browser="safari",e.version=this.extractVersion(navigator.userAgent,/AppleWebKit\/([0-9]+)\./,1),e.minVersion=602}else{if(!navigator.mediaDevices||!navigator.userAgent.match(/Edge\/(\d+).(\d+)$/))return e.browser="Not a supported browser.",e;e.browser="edge",e.version=this.extractVersion(navigator.userAgent,/Edge\/(\d+).(\d+)$/,2),e.minVersion=10547}return e.version<e.minVersion&&i.log("Browser: "+e.browser+" Version: "+e.version+" < minimum supported version: "+e.minVersion+"\n some things might not work!"),e}};e.exports={log:i.log,disableLog:i.disableLog,browserDetails:i.detectBrowser(),extractVersion:i.extractVersion}},Yvos:function(e,t){e.exports=function(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},Z14f:function(e,t,n){(t=e.exports=function(e){function n(){}function i(){var e=i,n=+new Date,a=n-(r||n);e.diff=a,e.prev=r,e.curr=n,r=n,null==e.useColors&&(e.useColors=t.useColors()),null==e.color&&e.useColors&&(e.color=o());var s=Array.prototype.slice.call(arguments);s[0]=t.coerce(s[0]),"string"!==typeof s[0]&&(s=["%o"].concat(s));var c=0;s[0]=s[0].replace(/%([a-z%])/g,(function(n,r){if("%%"===n)return n;c++;var i=t.formatters[r];if("function"===typeof i){var o=s[c];n=i.call(e,o),s.splice(c,1),c--}return n})),"function"===typeof t.formatArgs&&(s=t.formatArgs.apply(e,s));var l=i.log||t.log||console.log.bind(console);l.apply(e,s)}n.enabled=!1,i.enabled=!0;var a=t.enabled(e)?i:n;return a.namespace=e,a}).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){t.save(e);for(var n=(e||"").split(/[\s,]+/),r=n.length,i=0;i<r;i++)n[i]&&("-"===(e=n[i].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n("uDUn"),t.names=[],t.skips=[],t.formatters={};var r,i=0;function o(){return t.colors[i++%t.colors.length]}},ZYAr:function(e,t,n){"use strict";n.r(t);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CodeshareShareModal_codeshare",selections:[{args:null,kind:"FragmentSpread",name:"CodeshareShareUrl_codeshare"},{args:null,kind:"FragmentSpread",name:"CodeshareViewOnlyCheckbox_codeshare"}],type:"Codeshare",hash:"c33dfb6632a168969705d250ba90dc00"};t.default=r},aKum:function(e,t){function n(e){if(e)return function(e){for(var t in n.prototype)e[t]=n.prototype[t];return e}(e)}e.exports=n,n.prototype.on=n.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks[e]=this._callbacks[e]||[]).push(t),this},n.prototype.once=function(e,t){var n=this;function r(){n.off(e,r),t.apply(this,arguments)}return this._callbacks=this._callbacks||{},r.fn=t,this.on(e,r),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=n.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks[e];if(!r)return this;if(1==arguments.length)return delete this._callbacks[e],this;for(var i=0;i<r.length;i++)if((n=r[i])===t||n.fn===t){r.splice(i,1);break}return this},n.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks[e];if(n)for(var r=0,i=(n=n.slice(0)).length;r<i;++r)n[r].apply(this,t);return this},n.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks[e]||[]},n.prototype.hasListeners=function(e){return!!this.listeners(e).length}},aMtt:function(e,t,n){var r,i=n("p7Ng");"undefined"!==typeof window&&(r=window.AudioContext||window.webkitAudioContext);var o=null;e.exports=function(e,t){var n=new i;if(!r)return n;var a,s,c,l=(t=t||{}).smoothing||.1,u=t.interval||50,d=t.threshold,h=t.play,p=t.history||10,f=!0;o=t.audioContext||o||new r,(c=o.createAnalyser()).fftSize=512,c.smoothingTimeConstant=l,s=new Float32Array(c.frequencyBinCount),e.jquery&&(e=e[0]),e instanceof HTMLAudioElement||e instanceof HTMLVideoElement?(a=o.createMediaElementSource(e),"undefined"===typeof h&&(h=!0),d=d||-50):(a=o.createMediaStreamSource(e),d=d||-50),a.connect(c),h&&c.connect(o.destination),n.speaking=!1,n.suspend=function(){return o.suspend()},n.resume=function(){return o.resume()},Object.defineProperty(n,"state",{get:function(){return o.state}}),o.onstatechange=function(){n.emit("state_change",o.state)},n.setThreshold=function(e){d=e},n.setInterval=function(e){u=e},n.stop=function(){f=!1,n.emit("volume_change",-100,d),n.speaking&&(n.speaking=!1,n.emit("stopped_speaking")),c.disconnect(),a.disconnect()},n.speakingHistory=[];for(var m=0;m<p;m++)n.speakingHistory.push(0);var g=function(){setTimeout((function(){if(f){var e=function(e,t){var n=-1/0;e.getFloatFrequencyData(t);for(var r=4,i=t.length;r<i;r++)t[r]>n&&t[r]<0&&(n=t[r]);return n}(c,s);n.emit("volume_change",e,d);var t=0;if(e>d&&!n.speaking){for(var r=n.speakingHistory.length-3;r<n.speakingHistory.length;r++)t+=n.speakingHistory[r];t>=2&&(n.speaking=!0,n.emit("speaking"))}else if(e<d&&n.speaking){for(r=0;r<n.speakingHistory.length;r++)t+=n.speakingHistory[r];0==t&&(n.speaking=!1,n.emit("stopped_speaking"))}n.speakingHistory.shift(),n.speakingHistory.push(0+(e>d)),g()}}),u)};return g(),n}},akSB:function(e,t,n){(function(e){var r=n("AdPF"),i=n("0z79"),o=n("Cl5A"),a=n("CIKq");t.polling=function(t){var n=!1,a=!1,s=!1!==t.jsonp;if(e.location){var c="https:"===location.protocol,l=location.port;l||(l=c?443:80),n=t.hostname!==location.hostname||l!==t.port,a=t.secure!==c}if(t.xdomain=n,t.xscheme=a,"open"in new r(t)&&!t.forceJSONP)return new i(t);if(!s)throw new Error("JSONP disabled");return new o(t)},t.websocket=a}).call(this,n("yLpj"))},awvh:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){function e(e){return Error.call(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e}()},bD5j:function(e,t,n){"use strict";n.r(t);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CodeshareSidebarSubscription_codeshare",selections:[{args:null,kind:"FragmentSpread",name:"CodeshareSettingsFormSubscription_codeshare"}],type:"Codeshare",hash:"a31d58e474c29dcf44656114e10b22b9"};t.default=r},"bT/L":function(e,t,n){var r=n("7tlc"),i=n("aMtt"),o=n("taVt"),a=n("vvSG"),s=n("kh3u"),c=n("p7Ng"),l=n("ysSQ"),u=n("k9ys");function d(e){var t=!0;return e.getTracks().forEach((function(e){t="ended"===e.readyState&&t})),t}function h(e){c.call(this);var t,n=this.config={autoAdjustMic:!1,detectSpeakingEvents:!1,audioFallback:!1,media:{audio:!0,video:!0},logger:u};for(t in e)e.hasOwnProperty(t)&&(this.config[t]=e[t]);this.logger=n.logger,this._log=this.logger.log.bind(this.logger,"LocalMedia:"),this._logerror=this.logger.error.bind(this.logger,"LocalMedia:"),this.screenSharingSupport=o.supportScreenSharing,this.localStreams=[],this.localScreens=[],o.supportGetUserMedia||this._logerror("Your browser does not support local media capture.")}r.inherits(h,c),h.prototype.start=function(e,t){var n=this,r=e||this.config.media;a(r,(function(e,i){if(e){if(n.config.audioFallback&&"DevicesNotFoundError"===e.name&&!1!==r.video)return r.video=!1,void n.start(r,t)}else r.audio&&n.config.detectSpeakingEvents&&n.setupAudioMonitor(i,n.config.harkOptions),n.localStreams.push(i),n.config.autoAdjustMic&&(n.gainController=new l(i),n.setMicIfEnabled(.5)),i.getTracks().forEach((function(e){e.addEventListener("ended",(function(){d(i)&&n.emit("localStreamStopped",i)}))})),n.emit("localStream",i);if(t)return t(e,i)}))},h.prototype.stop=function(e){if(e){e.getTracks().forEach((function(e){e.stop()}));var t=this.localStreams.indexOf(e);t>-1?(this.localStreams.splice(t,1),"moz"===o.prefix&&this.emit("localStreamStopped",e)):(t=this.localScreens.indexOf(e))>-1&&(this.localScreens.splice(t,1),"moz"===o.prefix&&this.emit("localScreenStopped",e))}else this.stopStreams(),this.stopScreenShare()},h.prototype.stopStreams=function(){var e=this;this.audioMonitor&&(this.audioMonitor.stop(),delete this.audioMonitor);var t=this.localStreams;this.localStreams=[],t.forEach((function(t){t.getTracks().forEach((function(e){e.stop()})),"moz"===o.prefix&&e.emit("localStreamStopped",t)}))},h.prototype.startScreenShare=function(e){var t=this;s((function(n,r){if(n||(t.localScreens.push(r),r.getTracks().forEach((function(e){e.addEventListener("ended",(function(){d(r)&&t.emit("localScreenStopped",r)}))})),t.emit("localScreen",r)),e)return e(n,r)}))},h.prototype.stopScreenShare=function(e){var t=this;if(e){e.getTracks().forEach((function(e){e.stop()}));var n=this.localScreens.indexOf(e);n>-1&&(this.localScreens.splice(n,1),"moz"===o.prefix&&this.emit("localScreenStopped",e))}else{var r=this.localScreens;this.localScreens=[],r.forEach((function(e){e.getTracks().forEach((function(e){e.stop()})),"moz"===o.prefix&&t.emit("localScreenStopped",e)}))}},h.prototype.mute=function(){this._audioEnabled(!1),this.hardMuted=!0,this.emit("audioOff")},h.prototype.unmute=function(){this._audioEnabled(!0),this.hardMuted=!1,this.emit("audioOn")},h.prototype.setupAudioMonitor=function(e,t){this._log("Setup audio");var n,r=this.audioMonitor=i(e,t),o=this;r.on("speaking",(function(){o.emit("speaking"),o.hardMuted||o.setMicIfEnabled(1)})),r.on("stopped_speaking",(function(){n&&clearTimeout(n),n=setTimeout((function(){o.emit("stoppedSpeaking"),o.hardMuted||o.setMicIfEnabled(.5)}),1e3)})),r.on("volume_change",(function(e,t){o.emit("volumeChange",e,t)}))},h.prototype.setMicIfEnabled=function(e){this.config.autoAdjustMic&&this.gainController.setGain(e)},h.prototype.pauseVideo=function(){this._videoEnabled(!1),this.emit("videoOff")},h.prototype.resumeVideo=function(){this._videoEnabled(!0),this.emit("videoOn")},h.prototype.pause=function(){this.mute(),this.pauseVideo()},h.prototype.resume=function(){this.unmute(),this.resumeVideo()},h.prototype._audioEnabled=function(e){this.setMicIfEnabled(e?1:0),this.localStreams.forEach((function(t){t.getAudioTracks().forEach((function(t){t.enabled=!!e}))}))},h.prototype._videoEnabled=function(e){this.localStreams.forEach((function(t){t.getVideoTracks().forEach((function(t){t.enabled=!!e}))}))},h.prototype.isAudioEnabled=function(){var e=!0;return this.localStreams.forEach((function(t){t.getAudioTracks().forEach((function(t){e=e&&t.enabled}))})),e},h.prototype.isVideoEnabled=function(){var e=!0;return this.localStreams.forEach((function(t){t.getVideoTracks().forEach((function(t){e=e&&t.enabled}))})),e},h.prototype.startLocalMedia=h.prototype.start,h.prototype.stopLocalMedia=h.prototype.stop,Object.defineProperty(h.prototype,"localStream",{get:function(){return this.localStreams.length>0?this.localStreams[0]:null}}),Object.defineProperty(h.prototype,"localScreen",{get:function(){return this.localScreens.length>0?this.localScreens[0]:null}}),e.exports=h},bXZq:function(e,t,n){"use strict";n.r(t);var r=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input",type:"UpsertMeIntoCodeshareUsersInput!"}],t={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},n=[{alias:null,args:[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"UpsertMeIntoCodeshareUsersResponse",kind:"LinkedField",name:"upsertMeIntoCodeshareUsers",plural:!1,selections:[{alias:null,args:null,concreteType:"Codeshare",kind:"LinkedField",name:"codeshare",plural:!1,selections:[t],storageKey:null},{alias:null,args:null,concreteType:"CodeshareUserEdge",kind:"LinkedField",name:"codeshareUserEdge",plural:!1,selections:[{alias:null,args:null,concreteType:"CodeshareUser",kind:"LinkedField",name:"node",plural:!1,selections:[t,{alias:null,args:null,kind:"ScalarField",name:"createdAt",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"modifiedAt",storageKey:null},{alias:null,args:null,concreteType:"CreatedBy",kind:"LinkedField",name:"createdBy",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"userId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"me",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},{alias:null,args:null,concreteType:"CursorType",kind:"LinkedField",name:"cursor",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"position",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"selectionEnd",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"upsertMeIntoCodeshareUsersMutation",selections:n,type:"Mutation"},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"upsertMeIntoCodeshareUsersMutation",selections:n},params:{id:null,metadata:{},name:"upsertMeIntoCodeshareUsersMutation",operationKind:"mutation",text:"mutation upsertMeIntoCodeshareUsersMutation(\n  $input: UpsertMeIntoCodeshareUsersInput!\n) {\n  upsertMeIntoCodeshareUsers(input: $input) {\n    codeshare {\n      id\n    }\n    codeshareUserEdge {\n      node {\n        id\n        createdAt\n        modifiedAt\n        createdBy {\n          userId\n          me\n        }\n        color\n        cursor {\n          position\n          selectionEnd\n        }\n      }\n      cursor\n    }\n  }\n}\n"}}}();r.hash="4eaf409387e508a95ddbc50f22ad998b",t.default=r},br3w:function(e,t){t.lines=function(e){return e.split(/\r?\n/).filter((function(e){return e.length>0}))},t.findLine=function(e,t,n){for(var r=e.length,i=0;i<t.length;i++)if(t[i].substr(0,r)===e)return t[i];if(!n)return!1;for(var o=0;o<n.length;o++)if(n[o].substr(0,r)===e)return n[o];return!1},t.findLines=function(e,t,n){for(var r=[],i=e.length,o=0;o<t.length;o++)t[o].substr(0,i)===e&&r.push(t[o]);if(r.length||!n)return r;for(var a=0;a<n.length;a++)n[a].substr(0,i)===e&&r.push(n[a]);return r},t.mline=function(e){for(var t=e.substr(2).split(" "),n={media:t[0],port:t[1],proto:t[2],formats:[]},r=3;r<t.length;r++)t[r]&&n.formats.push(t[r]);return n},t.rtpmap=function(e){var t=e.substr(9).split(" "),n={id:t.shift()};return t=t[0].split("/"),n.name=t[0],n.clockrate=t[1],n.channels=3==t.length?t[2]:"1",n},t.sctpmap=function(e){var t=e.substr(10).split(" ");return{number:t.shift(),protocol:t.shift(),streams:t.shift()}},t.fmtp=function(e){for(var t,n,r,i=e.substr(e.indexOf(" ")+1).split(";"),o=[],a=0;a<i.length;a++)n=(t=i[a].split("="))[0].trim(),r=t[1],n&&r?o.push({key:n,value:r}):n&&o.push({key:"",value:n});return o},t.crypto=function(e){var t=e.substr(9).split(" ");return{tag:t[0],cipherSuite:t[1],keyParams:t[2],sessionParams:t.slice(3).join(" ")}},t.fingerprint=function(e){var t=e.substr(14).split(" ");return{hash:t[0],value:t[1]}},t.extmap=function(e){var t=e.substr(9).split(" "),n={},r=t.shift(),i=r.indexOf("/");return i>=0?(n.id=r.substr(0,i),n.senders=r.substr(i+1)):(n.id=r,n.senders="sendrecv"),n.uri=t.shift()||"",n},t.rtcpfb=function(e){var t=e.substr(10).split(" "),n={};return n.id=t.shift(),n.type=t.shift(),"trr-int"===n.type?n.value=t.shift():n.subtype=t.shift()||"",n.parameters=t,n},t.candidate=function(e){for(var t,n={foundation:(t=0===e.indexOf("a=candidate:")?e.substring(12).split(" "):e.substring(10).split(" "))[0],component:t[1],protocol:t[2].toLowerCase(),priority:t[3],ip:t[4],port:t[5],type:t[7],generation:"0"},r=8;r<t.length;r+=2)"raddr"===t[r]?n.relAddr=t[r+1]:"rport"===t[r]?n.relPort=t[r+1]:"generation"===t[r]?n.generation=t[r+1]:"tcptype"===t[r]&&(n.tcpType=t[r+1]);return n.network="1",n},t.sourceGroups=function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n].substr(13).split(" ");t.push({semantics:r.shift(),sources:r})}return t},t.sources=function(e){for(var t=[],n={},r=0;r<e.length;r++){var i=e[r].substr(7).split(" "),o=i.shift();if(!n[o]){var a={ssrc:o,parameters:[]};t.push(a),n[o]=a}var s=(i=i.join(" ").split(":")).shift(),c=i.join(":")||null;n[o].parameters.push({key:s,value:c})}return t},t.groups=function(e){for(var t,n=[],r=0;r<e.length;r++)t=e[r].substr(8).split(" "),n.push({semantics:t.shift(),contents:t});return n},t.bandwidth=function(e){var t=e.substr(2).split(":"),n={};return n.type=t.shift(),n.bandwidth=t.shift(),n},t.msid=function(e){var t=e.substr(7),n=t.split(" ");return{msid:t,mslabel:n[0],label:n[1]}}},brp2:function(e,t,n){n("I+eb")({target:"Date",stat:!0},{now:function(){return(new Date).getTime()}})},bvCf:function(e,t,n){"use strict";n.r(t);n("pNMO"),n("TeQF"),n("QWBl"),n("sMBO"),n("HRxU"),n("eoL8"),n("5DmW"),n("27RR"),n("tkto"),n("rB9j"),n("Rm1S"),n("FZtP");var r,i=n("rePB"),o=n("o0o1"),a=n.n(o),s=(n("ls82"),n("HaE+")),c=n("q1tI"),l=n.n(c),u=n("CC9l"),d=n("+3mh"),h=n("NKiV"),p=n("ns91"),f=n("icMo"),m=Object(c.createContext)({codeMirror:null,setCodeMirror:function(){}}),g=(n("9LPj"),n("07d7"),n("5s+n"),n("vxnP"),n("ODXe")),v=(n("pjDv"),n("4mDm"),n("2B1R"),n("brp2"),n("DQNa"),n("Tskq"),n("PKPk"),n("3bBZ"),{codeshareUsersFirst:100,codeshareUsersAfter:null});function y(e){var t=Object(d.useRefetchableFragment)(void 0!==r?r:r=n("Ubt4"),e),i=Object(g.a)(t,2),o=i[0],a=i[1];return[(null===o||void 0===o?void 0:o.users.edges)||[],a]}function b(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:C,r=new Map,i=new Map,o=new Map;return e.forEach((function(i,a){if(t.has(a)){var s=e.get(a),c=t.get(a);n(s,c)||o.set(a,s)}else r.set(a,i)})),t.forEach((function(t,n){e.has(n)||i.set(n,t)})),{created:r,updated:o,deleted:i}}function C(e,t){return e===t}function w(e,t){var n=new Map;return e.forEach((function(e){var r=t(e);n.set(r,e)})),n}function S(e){if(0!==e.length)return e[e.length-1]}var k,x,E=n("ygsk"),T=n("Ku+5");function _(e,t,r){return E.a.debug("requestSubscription: codeshareUserDeletions",t),Object(T.requestSubscription)(e,{subscription:void 0!==k?k:k=n("epZP"),variables:t,configs:[{type:"NODE_DELETE",parentName:"codeshare",parentID:t.input.codeshareId,connectionName:"users",deletedIDFieldName:"deletedCodeshareUserId"}],onNext:function(e){(null===r||void 0===r?void 0:r.onNext)&&r.onNext(e)},onError:function(e){(null===r||void 0===r?void 0:r.onError)&&r.onError(e)},onCompleted:function(){(null===r||void 0===r?void 0:r.onCompleted)&&r.onCompleted()}})}function O(e,t,r){return E.a.debug("requestSubscription: codeshareUserUpsertions",t),Object(T.requestSubscription)(e,{subscription:void 0!==x?x:x=n("Vliq"),variables:t,configs:[{type:"RANGE_ADD",parentName:"codeshare",parentID:t.input.codeshareId,connectionInfo:[{key:"Codeshare_users",filters:[],rangeBehavior:"append"}],edgeName:"upsertedCodeshareUserEdge"}],onNext:function(e){(null===r||void 0===r?void 0:r.onNext)&&r.onNext(e)},onError:function(e){(null===r||void 0===r?void 0:r.onError)&&r.onError(e)},onCompleted:function(){(null===r||void 0===r?void 0:r.onCompleted)&&r.onCompleted()}})}var L=n("LRFd"),M=n("e10U");function F(e){return p.a.assert(M.a,"onReconnect should only be used on clientside"),{dispose:Object(L.b)().on("reconnected",e)}}n("ma9I"),n("SuFq"),n("JfAA");var R=n("1OyB"),j=n("Ji7U"),A=n("md7G"),P=n("foSv"),I=(n("//0v"),n("e1/f")),D=n("67Y/"),N=n("mrSG"),U=n("FFOo"),B=n("T1DM"),K=n("MGBS"),H=n("zotm"),V={leading:!0,trailing:!1};K.a;var z=function(){function e(e,t,n,r){this.duration=e,this.scheduler=t,this.leading=n,this.trailing=r}return e.prototype.call=function(e,t){return t.subscribe(new q(e,this.duration,this.scheduler,this.leading,this.trailing))},e}(),q=function(e){function t(t,n,r,i,o){var a=e.call(this,t)||this;return a.duration=n,a.scheduler=r,a.leading=i,a.trailing=o,a._hasTrailingValue=!1,a._trailingValue=null,a}return N.c(t,e),t.prototype._next=function(e){this.throttled?this.trailing&&(this._trailingValue=e,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(G,this.duration,{subscriber:this})),this.leading?this.destination.next(e):this.trailing&&(this._trailingValue=e,this._hasTrailingValue=!0))},t.prototype._complete=function(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()},t.prototype.clearThrottle=function(){var e=this.throttled;e&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),e.unsubscribe(),this.remove(e),this.throttled=null)},t}(U.a);function G(e){e.subscriber.clearThrottle()}var J=n("psW0"),W=n("vuIU"),Y=function(){function e(){Object(R.a)(this,e),Object(i.a)(this,"store",new Map),Object(i.a)(this,"timers",new Map)}return Object(W.a)(e,[{key:"set",value:function(e,t){return this.clearExpiration(e),this.store.set(e,t),t}},{key:"get",value:function(e){return this.store.get(e)}},{key:"delete",value:function(e){return this.clearExpiration(e),this.store.delete(e)}},{key:"setWithExpiration",value:function(e,t,n){this.set(e,t),this.setExpiration(e,n)}},{key:"setExpiration",value:function(e,t){var n=this,r=setTimeout((function(){return n.delete(e)}),t);this.timers.set(e,r)}},{key:"clearExpiration",value:function(e){var t=this.timers.get(e);t&&(clearTimeout(t),this.timers.delete(e))}}]),e}(),$=n("6blF"),X=n("ClI1"),Q=n.n(X);function Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(n),!0).forEach((function(t){Object(i.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function te(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(P.a)(e);if(t){var i=Object(P.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(A.a)(this,n)}}p.a;var ne,re=new Y;function ie(e,t,n){var r=n.mutation.default?n.mutation.default:n.mutation,i="".concat(r.operation.kind,":").concat(r.operation.name),o=re.get(i)||{},a=o.source,s=o.observable,c=o.subscription;return null!=s&&null!=a&&null!=c||(s=(a=new Q.a).pipe(Object(D.a)((function(e){var t=e.environment,n=e.config;return null==n.optimisticResponse&&null==n.optimisticUpdater?ee(ee({},e),{},{optimisticDisposable:undefined}):ee(ee({},e),{},{optimisticDisposable:Object(I.applyOptimisticMutation)(t,ee({},n))})})),function(e,t,n){return void 0===t&&(t=B.a),void 0===n&&(n=V),function(r){return r.lift(new z(e,t,n.leading,n.trailing))}}(t,void 0,{leading:!1,trailing:!0}),Object(J.a)((function(e){var t=e.environment,n=e.config,r=e.optimisticDisposable;return E.a.debug("mergeMap",{config:n}),new $.a((function(e){var i=Object(I.commitMutation)(t,ee(ee({updater:function(e){}},n),{},{optimisticUpdater:null,onError:function(t){r&&r.dispose(),n.onError&&n.onError(t),e.error(t)},onCompleted:function(t,r){n.onCompleted&&n.onCompleted(t,r),e.complete()}}));return function(){return i.dispose()}}))}))),c=s.subscribe()),re.setWithExpiration(i,{source:a,observable:s,subscription:c},t),a.next({environment:e,config:n,duration:t}),{dispose:function(){return c.unsubscribe()}}}var oe,ae=void 0!==ne?ne:ne=n("bXZq");function se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?se(Object(n),!0).forEach((function(t){Object(i.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function le(){}function ue(e){var t=new Date(Date.now()-9e5);return E.a.debug("isActive",{modifiedAt:new Date(e.node.modifiedAt),expiredDate:t,isActive:new Date(e.node.modifiedAt).valueOf()>t.valueOf()}),new Date(e.node.modifiedAt).valueOf()>t.valueOf()}n("4l63");var de=n("0QNd");function he(e){return p.a.assert(M.a,"onDisconnect should only be used on clientside"),{dispose:Object(L.b)().on("disconnected",e)}}var pe=l.a.createElement;function fe(){var e=Object(c.useState)(!1),t=e[0],n=e[1];if(Object(c.useEffect)((function(){var e=null,t=he((function(){e=setTimeout((function(){e=null,n(!0)}),1e4)})),r=F((function(){null!=e&&clearTimeout(e),n(!1)}));return function(){null!=e&&clearTimeout(e),t.dispose(),r.dispose()}}),[]),!t)return null;return pe("div",{onClick:function(){try{Object(de.a)()}catch(e){!function(){if(window.location.reload)return window.location.reload();window.location.href=window.location.href}()}},className:"toast toast-info toast-disconnect clickable"},"Apologies we're having trouble with your connection. Reconnecting...")}var me,ge=n("Gv67"),ve={readOnly:"nocursor"};function ye(e){var t,r,i=e.codeMirror,o=Object(c.useState)(null),a=o[0],s=o[1],l=Object(d.useFragment)(void 0!==me?me:me=n("ewt2"),e.codeshare),u=Object(c.useState)(!1),h=u[0],p=u[1];return Object(c.useEffect)((function(){var e=null,t=he((function(){e=setTimeout((function(){e=null,p(!0)}),1e4)})),n=F((function(){null!=e&&clearTimeout(e),p(!1)}));return function(){null!=e&&clearTimeout(e),t.dispose(),n.dispose()}}),[]),Object(c.useEffect)((function(){if(i){var e=function(){var e;if(i&&!(null===(e=l.canEdit)||void 0===e?void 0:e.me)){i.setOption("cursorBlinkRate",0),i.setOption("cursorHeight",1),a&&clearTimeout(a);var t=setTimeout((function(){s(null),i.setOption("cursorHeight",0)}),3e3);s(t)}};return i.on("cursorActivity",e),function(){i.off("cursorActivity",e)}}}),[i,null===(t=l.canEdit)||void 0===t?void 0:t.me]),Object(c.useEffect)((function(){var e;if(i)return(null===(e=l.canEdit)||void 0===e?void 0:e.me)&&!h?(i.setOption("readOnly",!1),i.setOption("cursorBlinkRate",ge.a.cursorBlinkRate),i.setOption("cursorHeight",1)):(i.setOption("readOnly",!0),i.setOption("cursorBlinkRate",-1),i.setOption("cursorHeight",0)),function(){i.setOption("readOnly",ve.readOnly)}}),[i,null===(r=l.canEdit)||void 0===r?void 0:r.me,h]),Object(c.useEffect)((function(){null===i||void 0===i||i.focus()}),[i]),null}n("oVuX"),n("+2oP"),n("UxlC");var be=n("NdxT"),Ce=n("X/9d"),we=n("tpqs"),Se=n.n(we),ke=new(function(){function e(t){var n=this;Object(R.a)(this,e),Object(i.a)(this,"baseUrl",void 0),Object(i.a)(this,"loadmodeURL",void 0),Object(i.a)(this,"root",(function(e,t){return n.url("/",e,t)})),Object(i.a)(this,"mode",(function(e){return"null"===e?null:n.url("mode",e+"/"+e,"min.js")})),Object(i.a)(this,"addon",(function(e,t){return"/"===e.charAt(0)?n.url("/",e.slice(1),t||"js"):n.url("addon",e,t||"js")})),Object(i.a)(this,"keymap",(function(e){return n.url("keymap",e,"js")})),Object(i.a)(this,"theme",(function(e){return n.url("theme",e,"css")})),this.baseUrl=t,this.loadmodeURL=this.url("mode","%N/%N","js")}return Object(W.a)(e,[{key:"firepadCSS",value:function(){return"//cdn.firebase.com/libs/firepad/1.1.1/firepad.css"}},{key:"firepadJS",value:function(){return Object(be.a)("js/firepad.js")}},{key:"url",value:function(e,t,n){e=e.replace(/^\//,"");var r=Se.a.join(e,t);return"/"===r[0]&&(r=r.slice(1)),n&&(r+=(Ce.a||"css"===n?".":".min.")+n),r=r.replace(/\.min\.min/,".min"),this.baseUrl+r}}]),e}())("https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.53.2/");var xe,Ee,Te,_e,Oe,Le,Me,Fe,Re,je,Ae=n("wRty"),Pe=n("DS8o");function Ie(e){var t=Object(d.useRelayEnvironment)(),r=Object(d.useFragment)(void 0!==xe?xe:xe=n("LF16"),e);return[Object(Ae.b)(r.modeName).name||ge.a.modeName,function(e){ie(t,500,{mutation:void 0!==Ee?Ee:Ee=n("/k0Q"),variables:{input:{id:r.id,modeName:e.toLowerCase()}},optimisticResponse:{updateCodeshare:{codeshare:{id:r.id,modeName:e.toLowerCase()}}}})}]}function De(e){var t=Object(d.useRelayEnvironment)(),r=Object(d.useFragment)(void 0!==Te?Te:Te=n("r57p"),e);return[r.tabSize||ge.a.tabSize,function(e){ie(t,500,{mutation:void 0!==_e?_e:_e=n("jYyo"),variables:{input:{id:r.id,tabSize:e}},optimisticResponse:{updateCodeshare:{codeshare:{id:r.id,tabSize:e}}}})}]}function Ne(e){var t=Object(d.useRelayEnvironment)(),r=Object(d.useFragment)(void 0!==Oe?Oe:Oe=n("ntO6"),e);return[r.settings.keymap||ge.a.keymap,function(e){ie(t,500,{mutation:void 0!==Le?Le:Le=n("49YT"),variables:{input:{settings:{keymap:e}}},optimisticResponse:{updateMe:{viewer:{me:{id:r.id,settings:{keymap:e}}}}}})}]}function Ue(e){var t=Object(d.useRelayEnvironment)(),r=Object(d.useFragment)(void 0!==Me?Me:Me=n("VEGY"),e);return[r.settings.theme||ge.a.theme,function(e){ie(t,500,{mutation:void 0!==Fe?Fe:Fe=n("5XSV"),variables:{input:{settings:{theme:e}}},optimisticResponse:{updateMe:{viewer:{me:{id:r.id,settings:{theme:e}}}}}})}]}var Be=l.a.createElement;function Ke(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var He=Object(c.forwardRef)((function(e,t){var r=Object(c.useRef)(null),o=Object(c.useState)(null),a=o[0],s=o[1],l=Object(c.useState)(!1),u=l[0],h=l[1],p=Object(c.useContext)(m).setCodeMirror,f=Object(d.useFragment)(void 0!==Re?Re:Re=n("g/L8"),e.me),v=Object(d.useFragment)(void 0!==je?je:je=n("LtjF"),e.codeshare),y=Ne(f),b=Object(g.a)(y,1)[0],C=Ie(v),w=Object(g.a)(C,1)[0],S=De(v),k=Object(g.a)(S,1)[0],x=Ue(f),T=Object(g.a)(x,1)[0],_=Object(Ae.b)(w);return Object(c.useImperativeHandle)(t,(function(){return a}),[a]),Object(c.useEffect)((function(){if(!a&&r.current){var e=window.CodeMirror=n("VrN/");n("8EBN"),n("19Vz"),n("9Low"),n("dq4f"),n("6wyt"),n("55+8"),n("mki7"),n("dfh3"),n("Lm6R");var t=r.current,o=function(e){var t={};for(var n in e)null!=e[n]&&(t[n]=e[n]);return t}(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ke(Object(n),!0).forEach((function(t){Object(i.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ke(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({cursorBlinkRate:v.canEdit.me?ge.a.cursorBlinkRate:-1,cursorHeight:1,indentWithTabs:!1,keyMap:b,lineNumbers:!0,mode:Object(Pe.c)(_).mime,tabSize:parseInt(k,10),theme:T},ve));E.a.debug("MODE "+Object(Pe.c)(_).mime);var c=e(t,o);e.modeURL=ke.loadmodeURL,e.autoLoadMode(c,_.mode),E.a.debug("INIT CODEMIRROR"),E.a.debug("CODEMIRROR ID "+e.ID),Ce.a,s(c),p(c)}}),[r.current]),Object(c.useEffect)((function(){var t=function(){return h(!0)};return e.emitter.on("ready",t),function(){e.emitter.off("ready",t)}}),[a]),Object(c.useEffect)((function(){return null===a||void 0===a?void 0:a.setOption("keyMap",b)}),[b]),Object(c.useEffect)((function(){if(window.CodeMirror&&a){var e=window.CodeMirror;E.a.debug("MODE "+Object(Pe.c)(_).mime),null===a||void 0===a||a.setOption("mode",Object(Pe.c)(_).mime),e.modeURL=ke.loadmodeURL,e.autoLoadMode(a,_.mode)}}),[_]),Object(c.useEffect)((function(){return null===a||void 0===a?void 0:a.setOption("tabSize",parseInt(k,10))}),[k]),Object(c.useEffect)((function(){return null===a||void 0===a?void 0:a.setOption("theme",T)}),[T]),Be(c.Fragment,null,Be("div",{id:e.id,ref:r}),u?Be(ye,{codeMirror:a,codeshare:v,refetching:e.refetching}):null)})),Ve=(n("YGK4"),function(){function e(){Object(R.a)(this,e),Object(i.a)(this,"listenersByEvent",new Map)}return Object(W.a)(e,[{key:"on",value:function(e,t){var n=this.listenersByEvent.get(e)||new Set;n.add(t),this.listenersByEvent.set(e,n)}},{key:"off",value:function(e,t){var n=this.listenersByEvent.get(e);n&&(n.delete(t),0===n.size&&this.listenersByEvent.delete(e))}},{key:"emit",value:function(e){for(var t=this,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var o=this.listenersByEvent.get(e);o&&o.forEach((function(e){return e.apply(t,r)}))}}]),e}()),ze=n("uTKG"),qe=n.n(ze),Ge=n("kHIg");function Je(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(P.a)(e);if(t){var i=Object(P.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(A.a)(this,n)}}var We=function(e){Object(j.a)(n,e);var t=Je(n);function n(){return Object(R.a)(this,n),t.apply(this,arguments)}return n}(Object(Ge.a)(Map));function Ye(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(P.a)(e);if(t){var i=Object(P.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(A.a)(this,n)}}var $e=function(e){Object(j.a)(n,e);var t=Ye(n);function n(){return Object(R.a)(this,n),t.apply(this,arguments)}return n}(p.a);function Xe(e,t){p.a.assert(M.a,"composeTextOp can only be used in the browser");try{return e.compose(t)}catch(n){throw $e.wrap(n,"invalid text op",{doc:e,textOp:t})}}var Qe=n("9LWV"),Ze=n.n(Qe);function et(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(P.a)(e);if(t){var i=Object(P.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(A.a)(this,n)}}var tt=function(e){Object(j.a)(n,e);var t=et(n);function n(){return Object(R.a)(this,n),t.apply(this,arguments)}return n}(p.a);function nt(){return(nt=Object(s.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return 0,e.abrupt("return",rt(0,t));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rt(e,t){return it.apply(this,arguments)}function it(){return(it=Object(s.a)(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",n((function(e){return Promise.reject(tt.wrap(e,"retryable"))})));case 4:if(e.prev=4,e.t0=e.catch(0),e.t0 instanceof tt){e.next=8;break}throw e.t0;case 8:return e.next=10,Ze()(1e3*Math.pow(2,t));case 10:return e.abrupt("return",rt(t+1,n));case 11:case"end":return e.stop()}}),e,null,[[0,4]])})))).apply(this,arguments)}function ot(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(P.a)(e);if(t){var i=Object(P.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(A.a)(this,n)}}var at=function(e){Object(j.a)(n,e);var t=ot(n);function n(){return Object(R.a)(this,n),t.apply(this,arguments)}return n}(p.a);function st(e){p.a.assert(M.a,"parseTextOp can only be used in the browser");try{return qe.a.TextOperation.fromJSON(e)}catch(t){throw at.wrap(t,"invalid text op",{json:e})}}var ct,lt=n("2u0L"),ut={codeHistoryAfter:null,codeHistoryFirst:1e3};var dt=n("JX7q");function ht(e,t,n){return(ht="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Object(P.a)(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}n("fbCW");var pt=function e(t,n){Object(R.a)(this,e),Object(i.a)(this,"prev",void 0),Object(i.a)(this,"next",void 0),Object(i.a)(this,"value",void 0),this.value=t,this.prev=(null===n||void 0===n?void 0:n.prev)||null,this.next=(null===n||void 0===n?void 0:n.next)||null};function ft(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(P.a)(e);if(t){var i=Object(P.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(A.a)(this,n)}}var mt=function(e){Object(j.a)(n,e);var t=ft(n);function n(e,r){var o;return Object(R.a)(this,n),o=t.call(this,e),Object(i.a)(Object(dt.a)(o),"head",null),Object(i.a)(Object(dt.a)(o),"tail",null),e&&(o.head=e),r&&(o.tail=r),o}return Object(W.a)(n,null,[{key:"fromNode",value:function(e){for(var t=e,r=null;t;)r=t,t=t.next;var i=r;for(t=e,r=null;t;)r=t,t=t.prev;return new n(r,i)}}]),Object(W.a)(n,[{key:"push",value:function(e){if(null==this.head&&null!=this.tail||null==this.tail&&null!=this.head)throw new Error("head xor tail cannot be null");if(null==this.head||null==this.tail)this.head=this.tail=new pt(e);else if(this.head===this.tail)this.tail=new pt(e,{prev:this.head}),this.head.next=this.tail;else{var t=this.tail;this.tail=new pt(e,{prev:this.head}),t.next=this.tail}return this.tail}},{key:"pop",value:function(){if(!this.tail)return null;var e=this.tail;return this.tail=e.prev,e.prev=null,e}},{key:"clear",value:function(){this.head=null,this.tail=null}},{key:"delete",value:function(e){var t=this.find(e);return t&&(t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev)),Boolean(t)}}]),n}(function(){function e(t){Object(R.a)(this,e),Object(i.a)(this,"head",null),t&&(this.head=t)}return Object(W.a)(e,[{key:"forEach",value:function(e){for(var t=this.head;t;)e(t),t=t.next}},{key:"find",value:function(e){for(var t=this.head;t;){var n;if((t=t.next)&&(null===(n=t)||void 0===n?void 0:n.value)===e)return t}}}]),e}()),gt=function(){function e(){Object(R.a)(this,e),Object(i.a)(this,"list",new mt),Object(i.a)(this,"map",new Map)}return Object(W.a)(e,[{key:"clear",value:function(){this.list.clear(),this.map.clear()}},{key:"delete",value:function(e){return!!this.has(e)&&(this.list.delete(e),this.map.delete(e))}},{key:"forEachAfter",value:function(e,t){var n=this;this.getList(e).forEach((function(e){var r=e.value,i=n.get(r);i&&t(i,r)}))}},{key:"forEach",value:function(e){this.list.head&&this.forEachAfter(this.list.head.value,e)}},{key:"getList",value:function(e){if(null==e)return this.list;var t=this.map.get(e);return t?new mt(t.node):new mt}},{key:"get",value:function(e){var t=this.map.get(e);return null===t||void 0===t?void 0:t.value}},{key:"has",value:function(e){return this.map.has(e)}},{key:"set",value:function(e,t){var n=this.list.push(e);return this.map.set(e,{node:n,value:t}),this}},{key:"size",get:function(){return this.map.size}},{key:"head",get:function(){return this.list.head}},{key:"tail",get:function(){return this.list.tail}}]),e}(),vt=n("UzdZ"),yt=n.n(vt);function bt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(P.a)(e);if(t){var i=Object(P.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(A.a)(this,n)}}var Ct,wt,St,kt=function(e){Object(j.a)(n,e);var t=bt(n);function n(){var e;Object(R.a)(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o)),Object(i.a)(Object(dt.a)(e),"outOfOrder",new Map),Object(i.a)(Object(dt.a)(e),"last",null),e}return Object(W.a)(n,[{key:"nextHistoryId",value:function(){var e=0;if(this.outOfOrder.size){var t=0;this.outOfOrder.forEach((function(e,n){n>t&&(t=n)})),e=t+1}else if(this.tail){e=this.tail.value+1}return[yt.a.encodeHistoryIndex(e),e]}},{key:"forEach",value:function(e){var t=this;null==this.last?ht(Object(P.a)(n.prototype),"forEach",this).call(this,(function(n,r){t.last=r,e(n,r)})):this.forEachAfter(this.last,(function(n,r){t.last=r,e(n,r)}))}},{key:"has",value:function(e){return null!=this.head&&this.head.value>=e||ht(Object(P.a)(n.prototype),"has",this).call(this,e)}},{key:"set",value:function(e,t){if(ht(Object(P.a)(n.prototype),"has",this).call(this,e))return this;var r=e-1;if(!(0===this.size)&&!this.has(r))return this.outOfOrder.set(e,t),this;ht(Object(P.a)(n.prototype),"set",this).call(this,e,t);for(var i=e+1,o=this.outOfOrder.get(i);o;)ht(Object(P.a)(n.prototype),"set",this).call(this,i,o),this.outOfOrder.delete(i),i++,o=this.outOfOrder.get(i);return this}},{key:"isOutOfOrder",value:function(e){return this.outOfOrder.has(e)}}]),n}(gt),xt=void 0!==Ct?Ct:Ct=n("1e0N"),Et=n("qVao");function Tt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _t(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Tt(Object(n),!0).forEach((function(t){Object(i.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ot,Lt,Mt=!1;function Ft(e){var t,n=document.querySelector(".CodeMirror");return!!window.localStorage&&(window.localStorage.backup=null===n||void 0===n||null===(t=n.CodeMirror)||void 0===t?void 0:t.getValue(),!1)}function Rt(e,t){if(Et.a)return[new kt,function(){return{dispose:function(){}}}];var r=function(){},i=t.onNext||r,o=t.onError||r,a=(t.onCompleted,Object(c.useState)(new kt)[0]),s=Object(d.useRelayEnvironment)(),l=Object(d.useFragment)(void 0!==St?St:St=n("RMvX"),e),u=function(e){var t=Object(d.useRefetchableFragment)(void 0!==ct?ct:ct=n("oq8A"),e),r=Object(g.a)(t,2),i=r[0],o=r[1];return[(null===i||void 0===i?void 0:i.codeCheckpoint)||null,(null===i||void 0===i?void 0:i.codeHistory.edges)||[],o]}(l),h=Object(g.a)(u,3),p=h[0],f=h[1],m=h[2],v=function(e,t){if(null!=e.node){var n=e.node.historyId,r=yt.a.decodeHistoryId(n);if(!a.has(r))if(a.set(r,e),t)E.a.debug("dontCallback code history ".concat(r),{edge:e});else if(!a.isOutOfOrder(r))a.getList(r).forEach((function(e){var t=e.value,n=a.get(t);n&&i(n,t)}))}};Object(c.useEffect)((function(){var e,t=(null===(e=S(jt(p,f)))||void 0===e?void 0:e.cursor)||null,n=F((function(){m({id:l.id,codeHistoryAfter:t,codeHistoryFirst:1e3},{fetchPolicy:"store-and-network"})}));return function(){return n.dispose()}}),[l.id,p,f]);var y=Object(c.useRef)(!0);Object(c.useEffect)((function(){var e,t=jt(p,f),r=t.length?t[0]:null;if(a.tail&&(null===r||void 0===r?void 0:r.node))a.tail.value,yt.a.decodeHistoryId(r.node.historyId);t.forEach((function(e){return v(e,y.current)})),y.current&&(y.current=!1);var i=(null===(e=S(t))||void 0===e?void 0:e.cursor)||null,c=function(e,t,r){return E.a.debug("requestSubscription: codeHistoryCreations",t),Object(T.requestSubscription)(e,{subscription:void 0!==wt?wt:wt=n("pqWs"),variables:t,onNext:function(e){(null===r||void 0===r?void 0:r.onNext)&&r.onNext(e)},onError:function(e){(null===r||void 0===r?void 0:r.onError)&&r.onError(e)},onCompleted:function(){(null===r||void 0===r?void 0:r.onCompleted)&&r.onCompleted()}})}(s,{input:{codeshareId:l.id,after:i}},{onNext:function(e){var t,n=null===e||void 0===e||null===(t=e.codeHistoryCreations)||void 0===t?void 0:t.newCodeHistoryEdge;n&&v(n)},onError:function(e){o(e)}});return function(){c.dispose()}}),[l.id,null===p||void 0===p?void 0:p.codeHistoryId,f]);return[a,function(e,t,n){return Mt=!0,Object(T.commitMutation)(s,_t(_t({mutation:xt,variables:{input:{codeshareId:l.id,historyId:e,value:t.toJSON()}},configs:[{type:"RANGE_ADD",parentName:"codeshare",parentID:l.id,connectionName:"codeHistory",edgeName:"newCodeHistoryEdge",rangeBehaviors:{"":"append"}}]},n),{},{onError:function(e){Mt=!1,(null===n||void 0===n?void 0:n.onError)&&n.onError(e)},onCompleted:function(e,t){Mt=!1,!t&&e.createCodeHistory&&v(e.createCodeHistory.newCodeHistoryEdge,!0),(null===n||void 0===n?void 0:n.onCompleted)&&n.onCompleted(e,t)}}))}]}function jt(e,t){var n=[],r=null;return e&&(r=_t(_t({},e),{},{node:_t(_t({},e.codeHistoryEdge.node),{},{value:e.value})}),n.push(r)),n.concat(t)}M.a&&window.addEventListener("close",(function(){!1!==Mt&&Ft("This codeshare has unsaved changes. Want to save a copy before exiting?")}));var At,Pt,It=l.a.createElement;function Dt(e){var t=Object(c.useRef)(M.a?new qe.a.TextOperation:null),r=Object(c.useState)(null),i=r[0],o=r[1],a=Object(c.useState)(new Ve)[0],s=Object(c.useState)(null),l=s[0],u=s[1],h=function(e){return t.current=e};E.a.debug("CodeshareFirepad",{doc:t.current,firepad:i});var p=Object(d.useRelayEnvironment)(),f=Object(d.useFragment)(void 0!==Ot?Ot:Ot=n("Qi7B"),e.me),m=Object(d.useFragment)(void 0!==Lt?Lt:Lt=n("NMIR"),e.codeshare),v=Object(c.useRef)(m);v.current=m;var C=Rt(m,{onNext:D}),k=Object(g.a)(C,2),x=k[0],L=k[1],R=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{onCodeshareUserCreated:le,onCodeshareUserUpdated:le,onCodeshareUserDeleted:le},r=Object(d.useRelayEnvironment)(),i=Object(d.useFragment)(void 0!==oe?oe:oe=n("nT4e"),e),o=y(i),a=Object(g.a)(o,2),s=a[0],l=a[1],u=Object(c.useRef)(s.map((function(e){return e.node})).filter((function(e){return null!=e}))),h=Object(c.useRef)(new Map);function p(e){var n=e.id,r=h.current.get(n);r&&r.dispose(),t.onCodeshareUserDeleted(n)}function f(e){e.createdBy.me||t.onCodeshareUserUpdated(e)}function m(e){e.createdBy.me||t.onCodeshareUserCreated(e)}return Object(c.useEffect)((function(){var e=F((function(){l({id:i.id,codeshareUsersFirst:100},{fetchPolicy:"store-and-network"})}));return function(){return e.dispose()}}),[i.id]),Object(c.useEffect)((function(){var e=u.current,t=u.current=s.map((function(e){return e.node})).filter((function(e){return null!=e})),n=w(e,(function(e){return e.id})),r=b(w(t,(function(e){return e.id})),n);E.a.debug("deleted "+r.deleted.size,{keys:Array.from(r.deleted.keys())}),E.a.debug("updated "+r.updated.size,{keys:Array.from(r.updated.keys())}),E.a.debug("created "+r.created.size,{keys:Array.from(r.created.keys())}),r.deleted.forEach(p),r.updated.forEach(f),r.created.forEach(m)}),[s]),Object(c.useEffect)((function(){var e,t=s.filter((function(e){return null!=e.node})),n=O(r,{input:{codeshareId:i.id,after:null===(e=S(t.filter(ue)))||void 0===e?void 0:e.cursor}}),o=_(r,{input:{codeshareId:i.id,currentCodeshareUserIds:t.map((function(e){return e.node.id}))}});return function(){n.dispose(),o.dispose()}}),[i.id]),[s,function(e,t){return ie(r,500,ce({mutation:ae,variables:{input:ce({codeshareId:i.id},e)},configs:[{type:"RANGE_ADD",parentName:"codeshare",parentID:i.id,connectionName:"users",edgeName:"codeshareUserEdge",rangeBehaviors:{"":"prepend"}}]},t))}]}(m,{onCodeshareUserCreated:function(e){E.a.debug("handleCodeshareUserCreated",e),a.emit("cursor",e.createdBy.userId,e.cursor,e.color)},onCodeshareUserUpdated:function(e){E.a.debug("handleCodeshareUserUpdated",{codeshareUser:e}),a.emit("cursor",e.createdBy.userId,e.cursor,e.color)},onCodeshareUserDeleted:function(e){E.a.debug("handleCodeshareUserDeleted",{codeshareUserId:e}),a.emit("cursor",e,null)}}),j=Object(g.a)(R,2),A=(j[0],j[1]),P=Object(c.useState)(new We)[0];Object(c.useEffect)((function(){var e=t.current;if(e&&l&&!i){E.a.debug("createFirepad",{doc:e,firepad:i}),qe.a.FirebaseAdapter=function(e){var t=e.doc,n=e.emitter,r=e.handleCodeHistoryEdge,i=e.receivedCodeHistoryEdges,o=e.refCodeshare,a=e.sendTextOp,s=e.sentTextOps,c=e.upsertMe;return function(e,l,u){var d=u;function h(){return o.current}var p={sendCursorDisposable:null,sendTextOpDisposable:null,getDocument:function(){return t},isHistoryEmpty:function(){return Boolean(null===i||void 0===i?void 0:i.size)||!1},registerCallbacks:function(e){for(var t in e)n.on(t,e[t])},setColor:function(e){d=e},setUserId:function(){},sendCursor:function(e){var t=this;h().canEdit.me&&(this.sendCursorDisposable=c({color:d,cursor:e},{onError:function(e){E.a.error("sendCursor: error",e),t.sendCursorDisposable=null},onCompleted:function(){t.sendCursorDisposable=null}}))},sendOperation:function(e,n){var o=this;if(t&&h().canEdit.me){var c=i.nextHistoryId(),l=Object(g.a)(c,2),u=l[0],d=l[1];E.a.debug("sendOperation: start "+u,{op:e,doc:t}),function i(){E.a.debug("sendOperation: transaction: start "+u,{op:e,doc:t}),s.set(d,e),o.sendTextOpDisposable=a(u,e,{onError:function(r){if(E.a.warn("sendOperation: transaction: error "+u,{err:r,op:e,doc:t}),o.sendTextOpDisposable=null,/timed out/i.test(r.message))return E.a.warn("sendOperation: retryable error",r),void i();/rate limit/i.test(r.message)&&(E.a.error("sendOperation: rate limit error",r),alert("rate limit exceeded!")),E.a.error("sendOperation: error",r),n&&n(null,!1)},onCompleted:function(i,a){if(o.sendTextOpDisposable=null,a||!i.createCodeHistory)return E.a.error("sendOperation: transaction: response errors "+u,{response:i,errors:a,op:e,doc:t}),void(n&&n(null,!1));E.a.debug("sendOperation: transaction: response success "+u,{response:i,op:e,doc:t}),r(i.createCodeHistory.newCodeHistoryEdge,d),E.a.debug("sendOperation: end "+u,{op:e,doc:t}),n&&n(null,!0)}})}()}},on:function(e,t){n.on(e,t)},trigger:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];n.emit.apply(n,[e].concat(r))},dispose:function(){var e,t;null===(e=this.sendCursorDisposable)||void 0===e||e.dispose(),null===(t=this.sendTextOpDisposable)||void 0===t||t.dispose()}};return p.setColor(d),p.sendCursor(null),p}}({doc:e,emitter:a,handleCodeHistoryEdge:D,receivedCodeHistoryEdges:x,refCodeshare:v,sendTextOp:L,sentTextOps:P,upsertMe:A});var n=qe.a.fromCodeMirror({push:function(){return{key:f.id}}},l,{});return o(n),function(){n.dispose()}}}),[l]),Object(c.useEffect)((function(){i&&function(e){var n=t.current;if(!n)return;E.a.debug("handleInitialCodeHistoryEdges: start:",{doc:n});var r=n;e.forEach((function(e,t){if(null!=e.node){var i=e.node.historyId;try{r=Xe(r,st(e.node.value)),E.a.debug("handleInitialCodeHistoryEdges: compose success: ".concat(i),{doc:n,nextDoc:r})}catch(o){E.a.error("handleInitialCodeHistoryEdges: compose error: ".concat(i),{err:o,doc:n})}}}));var i=t.current;h(r);try{a.emit("operation",r)}catch(o){console.error(o,{prevDoc:i,nextDoc:r})}0===e.size&&(null===l||void 0===l||l.setOption("placeholder","Write or paste code here then share. Anyone you share with will see code as it is typed!"));E.a.debug("handleInitialCodeHistoryEdges: success:",{doc:n,nextDoc:r}),setTimeout((function(){a.emit("ready")}),0)}(x)}),[i,x]);var I=!1;function D(e,n){var r=t.current;if(r&&null!=e.node){var i,o=e.node.historyId;E.a.debug("handleCodeHistoryEdge: start: ".concat(o),{doc:r});var s=r;try{i=st(e.node.value),s=Xe(s,i),E.a.debug("handleCodeHistoryEdge: compose success: ".concat(o),{doc:r,nextDoc:s}),h(s)}catch(u){return void E.a.error("handleCodeHistoryEdge: compose error: ".concat(o),{err:u,doc:r,nextDoc:s})}if(P.has(n)){var c,l=e.node;l&&l.createdBy.me&&(null===(c=P.get(n))||void 0===c?void 0:c.equals(i))?((I||0!==n&&n%100===0)&&(I=!1,function(e){nt.apply(this,arguments)}((function(e){return new Promise((function(t,n){return Object(T.commitMutation)(p,{mutation:lt.a,variables:{input:{id:m.id,codeCheckpoint:{codeHistoryId:l.id,value:s.toJSON()}}},onError:function(t){if(/timed out/.test(t.message))return e(t);E.a.error("saveCheckpointFailed",{err:t}),I=!0,n(t)},onCompleted:function(){E.a.debug("saveCheckpointSuccess"),I=!1,t()}})})).catch((function(e){E.a.error("commit checkpoint error",{codeshareId:m.id,err:e})}))}))),E.a.debug("handleCodeHistoryEdge: ack: "+o),P.delete(n),a.emit("ack")):(E.a.debug("handleCodeHistoryEdge: retry: "+o),a.emit("operation",i),a.emit("retry"))}else E.a.debug("handleCodeHistoryEdge: op: "+o),a.emit("operation",i);E.a.debug("handleCodeHistoryEdge: success: "+o,{doc:r})}}return It(c.Fragment,null,It(He,{id:e.id,ref:u,codeshare:m,emitter:a,me:f,refetching:e.refetching}))}var Nt=l.a.createElement;function Ut(e){var t=Object(d.useFragment)(void 0!==At?At:At=n("72mu"),e.me),r=Object(d.useFragment)(void 0!==Pt?Pt:Pt=n("eAaj"),e.codeshare);return Nt(Dt,{id:"editor",codeshare:r,me:t,refetching:e.refetching})}var Bt,Kt,Ht=n("GqNI"),Vt=n("L1fx"),zt=l.a.createElement;function qt(e){var t=Object(d.useFragment)(void 0!==Bt?Bt:Bt=n("qyZS"),e.me),r=Object(d.useFragment)(void 0!==Kt?Kt:Kt=n("s5NQ"),e.codeshare),i=Ue(t),o=Object(g.a)(i,1)[0],a=Object(c.useRef)(new Set);return a.current.add(o),Object(c.useMemo)((function(){return zt(Ht.a,null,zt("title",null,"".concat(Object(Vt.a)(r)," - Codeshare")),Array.from(a.current).map((function(e){return zt("link",{key:e,rel:"stylesheet",href:ke.theme(e)})})))}),[a.current.size])}var Gt,Jt,Wt=[["comment/comment",null],["dialog/dialog",null],["comment/continuecomment",{continueComments:{continueLineComment:!1}}],["edit/closebrackets",{autoCloseBrackets:!0}],["edit/closetag",{autoCloseTags:!0}],["edit/matchbrackets",{matchBrackets:!0}],["edit/trailingspace",null],["mode/overlay",null],["search/match-highlighter",{highlightSelectionMatches:!0}],["search/search",null],["search/searchcursor",null]],Yt=l.a.createElement;function $t(e){var t=Object(c.useContext)(m).codeMirror,r=Object(c.useState)(!1),i=r[0],o=r[1],a=Object(d.useFragment)(void 0!==Gt?Gt:Gt=n("USsD"),e.me),s=Object(d.useFragment)(void 0!==Jt?Jt:Jt=n("cNda"),e.codeshare);return Object(c.useEffect)((function(){if(t){var e=setTimeout((function(){return o(!0)}),3e3);return function(){return clearTimeout(e)}}}),[t]),Yt(c.Fragment,null,Object(c.useMemo)((function(){return i&&t?t.openDialog?Yt(Ht.a,{key:"lazyHead"},Wt.map((function(e){var t=Object(g.a)(e,3),n=t[0];t[1];return t[2]?Yt("link",{key:n,rel:"stylesheet",href:ke.addon(n,"css")}):null}))):(M.a&&(window.setCodeMirrorOpts=function(e){var n=Wt.find((function(t){return Object(g.a)(t,1)[0]===e}));if(n){var r=Object(g.a)(n,2),i=(r[0],r[1]);E.a.debug("SET "+e,i||{}),Object.keys(i).forEach((function(e){return t.setOption(e,i[e])}))}}),Yt(Ht.a,null,Wt.map((function(e){var t=Object(g.a)(e,3),n=t[0],r=t[1];return t[2]?Yt("link",{key:n,rel:"stylesheet",href:ke.addon(n,"css")}):Yt("script",{key:n,src:ke.addon(n),onLoad:r?"window.setCodeMirrorOpts('".concat(n,"')"):""})})))):null}),[t,i]),Yt(qt,{me:a,codeshare:s}))}var Xt,Qt,Zt=n("QRLs"),en=n("Ff2n"),tn=n("wHSu"),nn=n("IP2g"),rn=l.a.createElement,on=function(e){var t,r=e.codeshare,i=Object(en.a)(e,["codeshare"]),o=Object(d.useFragment)(void 0!==Xt?Xt:Xt=n("JE4x"),r);return rn(Zt.e,i,rn(nn.a,{icon:(null===(t=o.canEdit)||void 0===t?void 0:t.userIds)?tn.e:tn.m}),"\xa0Share")},an=n("7+nN"),sn=n("WWur"),cn=n.n(sn),ln=l.a.createElement;function un(e){var t=Object(c.useRef)(null),r=Object(c.useState)(!1),i=r[0],o=r[1],a=Object(d.useFragment)(void 0!==Qt?Qt:Qt=n("MVrB"),e.codeshare),s=yt.a.decodeRelayId("Codeshare",a.id),l="https://codeshare.io/".concat(s),u=function(){var e,n=cn()(l);null===(e=t.current)||void 0===e||e.select(),an.a.track("Selected share url"),n?o(!0):E.a.error("clipboard copy failed")};return Object(c.useEffect)((function(){if(i){var e=setTimeout((function(){return o(!1)}),800);return function(){return clearTimeout(e)}}}),[i]),ln("div",{className:"form-field"},ln("label",{htmlFor:"url"},"Share this URL"),ln("input",{ref:t,type:"text",name:"url",id:"url",value:l,onClick:u,readOnly:!0}),ln(Zt.e,{theme:Zt.d.ICON,hint:Zt.b.TOP,onClick:u},ln(nn.a,{icon:tn.b})),ln("span",{className:"copy-success",style:{opacity:i?1:0,transition:"opacity .2s cubic-bezier(.17,.67,.83,.67)"}},"Copied!"))}var dn=n("wx14"),hn=n("TSYQ"),pn=n.n(hn),fn=l.a.createElement;function mn(e){e.hint,e.label,e.name,e.note,e.onMouseEnter;var t=Object(en.a)(e,["hint","label","name","note","onMouseEnter"]);return fn("div",{className:"form-field"},fn("label",{htmlFor:e.name},e.label),fn("label",{className:pn()({switch:!0,"hint--top":null!=e.hint}),onMouseEnter:e.onMouseEnter,"data-hint":e.hint},fn("input",Object(dn.a)({},t,{type:"checkbox",className:"switch-input"})),fn("span",{className:"switch-label","data-on":"On","data-off":"Off"}),fn("span",{className:"switch-handle"})),e.note?fn("p",{className:"note"},e.note):null)}var gn,vn,yn=n("udUI");var bn,Cn,wn=void 0!==vn?vn:vn=n("A7Jb"),Sn=l.a.createElement;function kn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kn(Object(n),!0).forEach((function(t){Object(i.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function En(e){var t=Object(d.useRelayEnvironment)(),r=Object(d.useFragment)(void 0!==bn?bn:bn=n("zCro"),e.me),i=Object(d.useFragment)(void 0!==Cn?Cn:Cn=n("uXX2"),e.codeshare),o=Object(c.useState)(!1),a=o[0],s=o[1],l=function(e){var t=Object(d.useFragment)(void 0!==gn?gn:gn=n("hmh0"),e);return Boolean(t.canEdit.userIds)}(i),u=Object(f.a)(r);function h(){an.a.track("Clicked view-only checkbox",{creator:!i.createdBy.me,anonymous:r.anonymous})}function p(){an.a.track("Hover view-only",{creator:!i.createdBy.me,anonymous:r.anonymous})}var m={checked:l,label:'"View only" mode',note:'Turn on "view only" mode if you dont want others to edit the code',name:"view-only"};return m=i.createdBy.me?r.anonymous?xn(xn({},m),{},{hint:"Sorry, only registered users can manage permissions.",onChange:h,onMouseEnter:p}):xn(xn({},m),{},l||u?{hint:'Toggle "view only" mode',onChange:function(e){Object(T.commitMutation)(t,{mutation:wn,variables:{input:{id:i.id,viewOnly:!l}},optimisticResponse:{updateCodesharePermissions:{codeshare:{id:i.id,canEdit:l?{userIds:[i.createdBy.userId],me:i.createdBy.me}:{userIds:null,me:!0}}}}})}}:{hint:"This requires Codeshare Pro. Click to learn more.",onChange:function(){return s(!0)},onMouseEnter:p}):xn(xn({},m),{},{hint:"Sorry, only the creator of the Codeshare (".concat(i.createdBy.user.name||"anonymous",") can manage permissions."),onChange:h,onMouseEnter:p}),Sn("div",null,Sn(mn,m),a?Sn(yn.a,{me:r,onClose:function(){return s(!1)}}):null)}var Tn,_n,On=n("gWFK"),Ln=l.a.createElement;function Mn(e){var t=Object(d.useFragment)(void 0!==Tn?Tn:Tn=n("N3RF"),e.me),r=Object(d.useFragment)(void 0!==_n?_n:_n=n("ZYAr"),e.codeshare);return Ln(On.a,{onClose:e.onClose,title:"Share Code",renderBody:function(){return Ln("div",{className:"share-modal"},Ln("p",null,"Anyone with access to this URL will see your code in real time."),Ln(un,{codeshare:r}),Ln(En,{me:t,codeshare:r}))}})}var Fn,Rn,jn,An=n("f4ym"),Pn=n("SL2S"),In=n("81um"),Dn=l.a.createElement,Nn=function(e){var t=Object(c.useState)(!1),r=t[0],i=t[1],o=Object(d.useFragment)(void 0!==Fn?Fn:Fn=n("11PJ"),e.me),a=Object(d.useFragment)(void 0!==Rn?Rn:Rn=n("Rlw/"),e.codeshare),s=Object(f.a)(o);return Dn(c.Fragment,null,Dn(In.a,{me:o,renderAnonActions:function(){return a.createdBy,a.createdBy.me?[Dn("span",{key:"1",id:"expire-time"},"Expires in 24 hours\xa0\xa0"),Dn(An.a,{key:"2",href:"/register?saveCodeshare=".concat(encodeURIComponent(yt.a.decodeRelayId("Codeshare",a.id))),rel:"nofollow",className:"btn btn-primary btn-sm"},"Save Codeshare"),Dn(on,{key:"share",codeshare:a,onClick:function(){return i(!0)},size:Zt.c.SMALL,theme:Zt.d.SECONDARY}),Dn(An.a,{key:"login",href:"/login",className:"btn btn-secondary btn-sm"},"Log In")]:[Dn(on,{key:"share",codeshare:a,onClick:function(){return i(!0)},size:Zt.c.SMALL,theme:Zt.d.SECONDARY}),Dn(An.a,{key:"register",href:"/register",className:"btn btn-secondary btn-sm"},"Sign Up"),Dn(An.a,{key:"login",href:"/login",className:"btn btn-secondary btn-sm"},"Log In")]},renderAuthActions:function(){var e=[Dn("li",{key:"share"},Dn(on,{codeshare:a,onClick:function(){return i(!0)},size:Zt.c.SMALL,theme:Zt.d.SECONDARY}))];return s||e.unshift(Dn("li",{key:"upgrade"},Dn(Pn.a,{me:o,size:Zt.c.SMALL,theme:Zt.d.PRIMARY},"Upgrade"))),e}},o.anonymous?null:Dn("div",{className:"span6"},Dn(An.a,{href:"/"},Dn("img",{alt:"Codeshare logo",className:"header__logo-only",src:"/-/img/codeshare-logo-small.svg"})),Dn("h1",{id:"title"},Object(Vt.a)(a)))),r?Dn(Mn,{me:o,codeshare:a,onClose:function(){return i(!1)}}):null)};n("Kz25");var Un=l.a.createElement;function Bn(e){var t=Object(c.useContext)(m).codeMirror,r=Object(d.useFragment)(void 0!==jn?jn:jn=n("H+u8"),e.codeshare);return Un("button",{id:"codeshare-download-button",className:"btn-icon hint--left","data-hint":"Download",disabled:null==t,onClick:function(e){if(e.stopPropagation(),t){var n=Object(Ae.b)(r.modeName),i=Ae.a.find((function(e){return e.name.toLowerCase()===n.name.toLowerCase()}))||ge.b,o=t.getValue(),a=new Blob([o],{type:"".concat(i.mime,";charset=utf-8")}),s=Object(Vt.a)(r),c=Object(Pe.b)(i);!function(e,t){p.a.assert(M.a,"downloadBlob can only be invoked in browser");var n=document.createElement("a");n.download=t,n.innerHTML="Download File",n.href=URL.createObjectURL(e),n.style.display="none",document.body.appendChild(n),n.click(),setTimeout((function(){URL.revokeObjectURL(n.href),document.body.removeChild(n)}),1e4)}(a,"".concat(s,".").concat(c))}}},Un(nn.a,{icon:tn.c}))}var Kn,Hn,Vn=["emacs","vim","sublime"],zn=n("H7IY"),qn=l.a.createElement;function Gn(e){var t=Ne(Object(d.useFragment)(void 0!==Kn?Kn:Kn=n("HLhL"),e.me)),r=Object(g.a)(t,2),i=r[0],o=r[1];return qn(zn.b,{name:"keymap",type:"select",label:"Keymap",autoFocus:e.autoFocus,value:i,options:Vn,onChange:o})}var Jn=l.a.createElement;function Wn(e){var t=Object(d.useFragment)(void 0!==Hn?Hn:Hn=n("j264"),e.codeshare),r=Ie(t),i=Object(g.a)(r,2),o=i[0],a=i[1];return Jn(zn.b,{name:"modeName",type:"select",label:"Syntax",disabled:!t.canEdit.me,autoFocus:e.autoFocus,value:o,options:Ae.c,onChange:a})}var Yn,$n=["2","4","6","8"],Xn=l.a.createElement;function Qn(e){var t=Object(d.useFragment)(void 0!==Yn?Yn:Yn=n("Wige"),e.codeshare),r=De(t),i=Object(g.a)(r,2),o=i[0],a=i[1];return Xn(zn.b,{name:"tabSize",type:"select",label:"Tab Size",disabled:!t.canEdit.me,autoFocus:e.autoFocus,value:o,options:$n,onChange:a})}var Zn,er,tr,nr,rr,ir=["3024-day","3024-night","abcdef","ambiance","base16-dark","base16-light","bespin","blackboard","cobalt","colorforth","dracula","duotone-dark","duotone-light","eclipse","erlang-dark","hopscotch","icecoder","isotope","lesser-dark","liquibyte","material","mbo","mdn-like","midnight","monokai","neo","night","oceanic-next","panda-syntax","paraiso-dark","paraiso-light","pastel-on-dark","railscasts","rubyblue","seti","shadowfox","solarized","the-matrix","tomorrow-night-bright","tomorrow-night-eighties","ttcn","twilight","vibrant-ink","xq-dark","xq-light","yeti","zenburn"],or=l.a.createElement;function ar(e){var t=Ue(Object(d.useFragment)(void 0!==Zn?Zn:Zn=n("hdgc"),e.me)),r=Object(g.a)(t,2),i=r[0],o=r[1];return or(zn.b,{name:"theme",type:"select",label:"Theme",autoFocus:e.autoFocus,value:i,options:ir,onChange:o})}function sr(e,t){var r=Object(d.useRelayEnvironment)(),i=Object(d.useFragment)(void 0!==er?er:er=n("NMZ9"),e);return[t?i.title||"":Object(Vt.a)(i),function(e){ie(r,500,{mutation:void 0!==tr?tr:tr=n("ov4Y"),variables:{input:{id:i.id,title:e}},optimisticResponse:{updateCodeshare:{codeshare:{id:i.id,createdAt:i.createdAt,title:e}}}})}]}sr.subscriptionFragment=void 0!==nr?nr:nr=n("dSiF");var cr=l.a.createElement;function lr(e){var t=Object(d.useFragment)(void 0!==rr?rr:rr=n("69cX"),e.codeshare),r=sr(t,!0),i=Object(g.a)(r,2),o=i[0],a=i[1];return cr(zn.b,{name:"title",type:"text",label:"Title",disabled:!t.canEdit.me,autoFocus:e.autoFocus,value:o,onChange:a})}var ur,dr,hr,pr,fr=n("lB3/"),mr=l.a.createElement;function gr(e){var t=Object(d.useFragment)(void 0!==ur?ur:ur=n("qwGi"),e.me),r=Object(d.useFragment)(void 0!==dr?dr:dr=n("MQjZ"),e.codeshare);return mr(fr.b,{id:"codeshare-settings",onSubmit:function(){}},t.anonymous?null:mr(lr,{codeshare:r}),mr(Wn,{codeshare:r})," ",mr(Qn,{codeshare:r}),mr(ar,{me:t}),mr(Gn,{me:t}))}gr.meSubscriptionFragment=void 0!==hr?hr:hr=n("28KJ"),gr.codeshareSubscriptionFragment=void 0!==pr?pr:pr=n("eYEk");var vr,yr=n("WG5i"),br=n.n(yr),Cr=n("VwG6"),wr=n.n(Cr),Sr=function(e){return new Promise((function(t,n){e((function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];var o=r[0],a=r[1];null==o?2!==r.length?t():t(a):n(o)}))}))},kr=null;function xr(){return(kr=kr||new wr.a({connection:Ar(),localVideoEl:"local-video",remoteVideosEl:"remote-videos",autoRequestMedia:!1,debug:!1})).getRealLocalVideoContainer=function(){return this.getEl(this.config.localVideoEl)},kr.getRealRemoteVideoContainer=function(){return this.getEl(this.config.remoteVideoEl)},kr}!function(e){e.NONE="NONE",e.STARTING="STARTING",e.STARTED="STARTED"}(vr||(vr={}));var Er=new Set;function Tr(e){return Er.add(e),setTimeout((function(){return e(_r)}),0),function(){Er.delete(e)}}var _r=vr.NONE;function Or(e){e!==_r&&(_r=e,Er.forEach((function(e){return e(_r)})))}function Lr(){return(Lr=Object(s.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(_r!==vr.STARTING){e.next=4;break}return e.next=3,Sr((function(e){var t=Tr((function(n){n!==vr.STARTING&&(t(),e())}))}));case 3:return e.abrupt("return");case 4:if(_r!==vr.STARTED){e.next=6;break}return e.abrupt("return");case 6:if((n=xr()).capabilities.support){e.next=10;break}return window.alert(["Sorry video chat only supported in Chrome and Firefox.","Send us feedback on Twitter!","- @tjmehta and @leemunroe"].join("\n")),e.abrupt("return");case 10:return Or(vr.STARTING),e.prev=11,e.next=14,Sr((function(e){return n.startLocalVideo(e)}));case 14:e.next=22;break;case 16:return e.prev=16,e.t0=e.catch(11),E.a.error("error starting local video",p.a.wrap(e.t0,"error starting local video")),e.next=21,Mr(t);case 21:return e.abrupt("return");case 22:return e.prev=22,e.next=25,Vr(t);case 25:e.next=33;break;case 27:return e.prev=27,e.t1=e.catch(22),E.a.error("error joining room",p.a.wrap(e.t1,"error joining room")),e.next=32,Mr(t);case 32:return e.abrupt("return");case 33:Or(vr.STARTED);case 34:case"end":return e.stop()}}),e,null,[[11,16],[22,27]])})))).apply(this,arguments)}function Mr(e){return Fr.apply(this,arguments)}function Fr(){return(Fr=Object(s.a)(a.a.mark((function e(t){var n,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(_r!==vr.NONE){e.next=10;break}return e.prev=1,e.next=4,qr(t);case 4:e.next=10;break;case 6:return e.prev=6,e.t0=e.catch(1),E.a.error("error leaving room",p.a.wrap(e.t0,"error leaving room")),e.abrupt("return");case 10:return(n=xr()).stopLocalVideo(),(r=n.getRealLocalVideoContainer())&&(r.textContent=""),Or(vr.NONE),e.prev=15,e.next=18,qr(t);case 18:e.next=23;break;case 20:e.prev=20,e.t1=e.catch(15),E.a.error("error leaving room",p.a.wrap(e.t1,"error leaving room"));case 23:case"end":return e.stop()}}),e,null,[[1,6],[15,20]])})))).apply(this,arguments)}var Rr,jr=null;function Ar(){return jr=jr||new br.a({url:"https://vchat.codeshare.io"})}!function(e){e.NONE="NONE",e.CREATING="CREATING",e.CREATED="CREATED",e.JOINING="JOINING",e.JOINED="JOINED"}(Rr||(Rr={}));var Pr=new Set;function Ir(e,t){Pr.add(t);var n=function(e){if(Br.has(e))return function(){};Br.add(e);var t=Ar(),n=function(){return Kr(e)};t.on("connect",n);var r=function(){return Nr(Rr.NONE)};t.on("disconnect",r);var i=function(){return Nr(Rr.NONE)};t.on("reconnecting",i);var o=function(){return Kr(e)};t.on("reconnect",o),t.connection.connected&&n();return function(){Br.delete(e),t.connection.off("connect",n),t.connection.off("disconnect",r),t.connection.off("reconnecting",i),t.connection.off("reconnect",o)}}(e);return setTimeout((function(){return t(Dr)}),0),function(){Pr.delete(t),n()}}var Dr=Rr.NONE;function Nr(e){e!==Dr&&(Dr=e,Pr.forEach((function(e){return e(Dr)})))}var Ur,Br=new Set;function Kr(e){return Hr.apply(this,arguments)}function Hr(){return(Hr=Object(s.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Dr!==Rr.CREATING){e.next=4;break}return e.next=3,Sr((function(e){var n=Ir(t,(function(t){t!==Rr.CREATING&&(n(),e())}))}));case 3:return e.abrupt("return");case 4:if(Dr!==Rr.CREATED){e.next=6;break}return e.abrupt("return");case 6:return n=xr(),Nr(Rr.CREATING),e.prev=8,e.next=11,Sr((function(e){return n.createRoom(t,e)}));case 11:Nr(Rr.CREATED),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(8),E.a.error("createRoom error",p.a.wrap(e.t0,"createRoom error")),Nr(Rr.NONE);case 18:case"end":return e.stop()}}),e,null,[[8,14]])})))).apply(this,arguments)}function Vr(e){return zr.apply(this,arguments)}function zr(){return(zr=Object(s.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Dr!==Rr.NONE&&Dr!==Rr.CREATING){e.next=3;break}return e.next=3,Kr(t);case 3:if(Dr!==Rr.JOINING){e.next=7;break}return e.next=6,Sr((function(e){var n=Ir(t,(function(t){t!==Rr.JOINING&&(n(),e())}))}));case 6:return e.abrupt("return");case 7:if(Dr!==Rr.JOINED){e.next=9;break}return e.abrupt("return");case 9:return n=xr(),Nr(Rr.JOINING),e.prev=11,e.next=14,Sr((function(e){return n.joinRoom(t,e)}));case 14:Nr(Rr.JOINED),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(11),E.a.error("joinRoom error",p.a.wrap(e.t0,"joinRoom error")),Nr(Rr.CREATED);case 21:case"end":return e.stop()}}),e,null,[[11,17]])})))).apply(this,arguments)}function qr(e){return Gr.apply(this,arguments)}function Gr(){return(Gr=Object(s.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Dr!==Rr.CREATED){e.next=2;break}return e.abrupt("return");case 2:xr().leaveRoom(),Nr(Rr.CREATED);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Jr=l.a.createElement;function Wr(e){var t=Object(c.useState)(!1),r=t[0],i=t[1],o=Object(c.useState)(tn.n),a=o[0],s=o[1],l=Object(c.useState)(vr.NONE),u=l[0],h=l[1],f=Object(c.useState)(Rr.NONE),m=f[0],g=f[1],v=Object(c.useRef)(!1),y=Object(d.useFragment)(void 0!==Ur?Ur:Ur=n("AnxJ"),e.codeshare);function b(){an.a.track("Start video"),function(e){return Lr.apply(this,arguments)}(y.id).catch((function(e){E.a.error(p.a.wrap(e,"error starting video"))}))}function C(){an.a.track("Stop video"),Mr(y.id).catch((function(e){E.a.error(p.a.wrap(e,"error stopping video"))}))}return Object(c.useEffect)((function(){var e=Ir(y.id,(function(e){E.a.debug("ROOM STATE",e),g(e)})),t=Tr((function(e){E.a.debug("VIDEO STATE",e),h(e)}));return function(){e(),t(),Mr(y.id).catch((function(e){E.a.error(p.a.wrap(e,"error stopping video"))}))}}),[]),Object(c.useEffect)((function(){if(E.a.debug("BOTH STATE",{roomState:m,videoState:u}),u===vr.NONE)m===Rr.NONE||m===Rr.CREATING?(s(tn.n),i(!0)):v.current?(b(),v.current=!1):(s(tn.n),i(!1));else{if(m===Rr.NONE||m===Rr.CREATING||m===Rr.CREATED)return void C();vr.STARTING,s(tn.j),i(!1)}}),[m,u,v.current]),Jr("button",{className:pn()({"btn-icon":!0,"hint--left":!0,"video-stop":a===tn.j}),"data-hint":a===tn.n?"Start Video Chat":"Stop Video Chat",disabled:r,onClick:function(){if(a===tn.n){if(m===Rr.NONE||m===Rr.CREATING)return void(v.current=!0);b()}a===tn.j&&C()}},Jr(nn.a,{icon:a}))}var Yr=n("Y2rR"),$r=l.a.createElement;function Xr(e){if(!(e.value in e.cases))return e.default;var t=e.value;return $r(Yr.a,{value:t,cases:e.cases})}var Qr=l.a.createElement;function Zr(e){return Qr("section",{className:"cs-sidebar-panel"},Qr(Xr,{value:e.activePanel,cases:e.panels,default:null}))}var ei=l.a.createElement;function ti(e){return ei("div",{id:e.id,className:"cs-sidebar-content"},ei("button",{className:"cs-sidebar-btn-hide btn-icon",onClick:e.onClose},ei(nn.a,{icon:tn.k,className:"fa-remove"})),e.children)}var ni,ri,ii,oi,ai=n("+fTh"),si=n.n(ai),ci=l.a.createElement,li=si()({ABOUT:null,SETTINGS:null});function ui(e){var t,r=Object(c.useRef)(null),o=Object(c.useState)(null),a=o[0],s=o[1];function l(e){if(e===a)return s(null);s(e)}var u=Object(d.useFragment)(void 0!==ni?ni:ni=n("E5sL"),e.me),h=Object(d.useFragment)(void 0!==ri?ri:ri=n("e3dM"),e.codeshare);return Object(c.useEffect)((function(){function e(e){var t;(null===r||void 0===r||null===(t=r.current)||void 0===t?void 0:t.contains(e.target))||s(null)}return window.addEventListener("click",e),function(){window.removeEventListener("click",e)}}),[]),ci("aside",{id:"sidebar",ref:r,className:pn()({"cs-sidebar":!0,"js-sidebar":!0,"is-open":a})},ci("nav",{className:"cs-sidebar-nav"},ci("ul",null,ci("li",null,ci("button",{className:pn()({"btn-icon":!0,"hint--left":a!==li.SETTINGS,"is-active":a===li.SETTINGS}),"data-hint":"Editor Settings",onClick:function(){return l(li.SETTINGS)}},ci(nn.a,{icon:tn.a}))),ci("li",null,ci(Wr,{codeshare:h})),ci("li",null,ci(Bn,{codeshare:h})),ci("li",null,ci("a",{className:"btn-icon hint--left",href:"/new",rel:"nofollow","data-hint":"Create a New Codeshare"},ci(nn.a,{icon:tn.f}))),ci("li",null,ci("button",{className:pn()({"btn-icon":!0,"hint--left":a!==li.ABOUT,"btn-aboutcodeshare":!0,"is-active":a===li.ABOUT}),"data-hint":"About / Request Feature",onClick:function(){return l(li.ABOUT)}},ci(nn.a,{icon:tn.d}))))),ci(Zr,{activePanel:a,panels:(t={},Object(i.a)(t,li.SETTINGS,ci(ti,{onClose:function(){return s(null)}},ci("div",{className:"content-header"},ci("h3",{className:"content-header_title"},"Settings")),ci("div",{className:"content-body"},ci(gr,{me:u,codeshare:h})))),Object(i.a)(t,li.ABOUT,ci(ti,{onClose:function(){return s(null)}},ci("div",{className:"content-body"},ci("p",null,"\ud83d\udc69\ud83c\udffb\u200d\ud83d\udcbb Codeshare enables developers to share code in real-time. Write or paste code in your browser, share the URL, code in real-time with friends and team mates."),ci("p",null,"\ud83d\udd28 Codeshare was built and maintained by"," ",ci(An.a,{href:"https://twitter.com/leemunroe",target:"_blank",rel:"external"},"Lee Munroe")," ","and"," ",ci(An.a,{href:"https://twitter.com/tjmehta",target:"_blank",rel:"external"},"TJ Mehta"),"."),ci("p",null,"\ud83d\udde3\ufe0f If you have feedback or feature requests, please"," ",ci(An.a,{href:"https://codeshare.uservoice.com/forums/205006-feedback-feature-requests/filters/top",target:"_blank",rel:"external"},"add/vote here"),".")))),t)}))}ui.meSubscriptionFragment=void 0!==ii?ii:ii=n("6W4v"),ui.codeshareSubscriptionFragment=void 0!==oi?oi:oi=n("bD5j");var di,hi,pi=n("pijv"),fi=l.a.createElement;function mi(e){var t=Object(c.useState)(!1),r=t[0],i=t[1],o=Object(c.useRef)(!1),a=Object(d.useFragment)(void 0!==di?di:di=n("Ws8G"),e.me),s=Object(d.useFragment)(void 0!==hi?hi:hi=n("Ebbz"),e.codeshare);return Object(c.useEffect)((function(){if(a.anonymous){var e=setTimeout((function(){return i(!0)}),Ce.a?3e6:108e6);return function(){return clearTimeout(e)}}}),[a.anonymous]),Object(c.useEffect)((function(){return function(){o.current=!0}}),[]),r?fi(pi.a,{source:"nag",me:a,codeshare:s,onClose:function(){o.current||i(!1)}}):null}n("4Brf");var gi=function(){function e(){Object(R.a)(this,e),Object(i.a)(this,"ee",new Ve),Object(i.a)(this,"aborted",!1),Object(i.a)(this,"onabort",null)}return Object(W.a)(e,[{key:"addEventListener",value:function(e,t){this.ee.on(e,t)}},{key:"removeEventListener",value:function(e,t){this.ee.off(e,t)}},{key:"dispatchEvent",value:function(e){this.ee.emit(e.type)}}]),e}(),vi="undefined"!==typeof AbortController?AbortController:function(){function e(){Object(R.a)(this,e),Object(i.a)(this,"signal",new gi)}return Object(W.a)(e,[{key:"abort",value:function(){this.signal.dispatchEvent(new Event("aborted"))}}]),e}(),yi=l.a.createElement;function bi(e){return yi("button",{onClick:e.onClick,className:"btn-icon btn-hide"},yi(nn.a,{icon:tn.k,className:"fa-remove"}))}var Ci=l.a.createElement;function wi(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(P.a)(e);if(t){var i=Object(P.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(A.a)(this,n)}}var Si,ki,xi,Ei,Ti=function(e){Object(j.a)(n,e);var t=wi(n);function n(){return Object(R.a)(this,n),t.apply(this,arguments)}return n}(p.a);function _i(e){var t=Object(c.useState)(null),n=t[0],r=t[1],i=Object(c.useState)(!1),o=i[0],a=i[1],s=Object(c.useRef)(null),l=Object(c.useState)(!1),u=l[0],d=l[1],h=Object(c.useState)(!1),p=h[0],f=h[1];Object(c.useEffect)((function(){var t=new vi,n=t.signal,i=n?{signal:n}:{};return fetch(e.url,i).then((function(e){if(n.aborted)throw new Ti("aborted");return e.json()})).then((function(e){if(n.aborted)throw new Ti("aborted");var t=e.ads&&e.ads[0]||null;r(t)})).catch((function(e){"AbortError"!==e.name?(E.a.warn("sponsor api request failed",{err:e}),a(!0)):E.a.warn("fetch d.json aborted",{err:e})})),function(){return t.abort()}}),[]);(null===n||void 0===n?void 0:n.image)||null===n||void 0===n||n.smallImage;if(Object(c.useEffect)((function(){if(!u){var e=setTimeout((function(){f(!0)}),2e4);return function(){f(!1),clearTimeout(e)}}}),[u]),Object(c.useEffect)((function(){s.current&&an.a.track("Viewed ad",{source:"api"})}),[s.current]),o)return"/-/d.json"===e.url?null:Ci(_i,{url:"/-/d.json"});if(null==n)return null;var m=n.image||n.smallImage;return n.company||n.description||n.title?Ci("div",{className:"sp-tile"},Ci(bi,{onClick:function(){an.a.track("Closed ad",{source:"api"}),r(null)}}),p?Ci("span",{style:{color:"white",fontSize:"14px",lineHeight:"14px"}},Ci("br",null),"\xa0\xa0\xa0Please don't block our ads :(",Ci("br",null),Ci("br",null),"\xa0\xa0\xa0Ad sponsors allow us to make Codeshare free."):null,Ci("a",{className:"sp-click",href:n.statlink,onClick:function(){an.a.track("Clicked ad",{source:"api"})},target:"_blank"},Ci("span",{className:"sp-sponsor"},"Sponsor"),m?Ci("div",{style:{backgroundColor:n.backgroundColor||"#000",float:"left"}},Ci("img",{alt:"Company image",className:"sp-image",onLoad:function(){return d(!0)},src:m})):null,Ci("div",{className:"sp-content",ref:s},Ci("div",{className:"sp-company"},n.company),Ci("div",{className:"sp-description"},n.description||n.title),n.pixel?Ci("img",{alt:"Company pixel",className:"sp-pixel",height:"1",width:"1",src:n.pixel}):null))):"/-/d.json"===e.url?null:Ci(_i,{url:"/-/d.json"})}var Oi=l.a.createElement,Li=M.a?c.Suspense:function(e){return e.children};function Mi(e){Object(c.useEffect)((function(){return an.a.page()}),[]);var t=Object(c.useState)(null),r=t[0],i=t[1],o=Object(d.useFragment)(void 0!==Si?Si:Si=n("XAFW"),e.viewer).me,a=Object(d.useFragment)(void 0!==ki?ki:ki=n("rRQ+"),e.codeshare),s=Object(f.a)(o),l=Object(f.b)(a.createdBy.user),u=Object(c.useRef)(a);a&&(u.current=a);return Oi("div",{id:"codeshare"},Oi(m.Provider,{value:{codeMirror:r,setCodeMirror:i}},Oi($t,{me:o,codeshare:a}),Oi(Nn,{me:o,codeshare:a}),Oi(fe,null),Oi("div",{id:"main"},Oi(Li,{fallback:Oi("div",null,"Reloading...")},Oi(Ut,{me:o,codeshare:a,refetching:!1}))),Oi(ui,{me:o,codeshare:a}),Oi("div",{id:"local-video",className:"local-video"}),Oi("div",{id:"remote-videos",className:"remote-videos"}),Oi(mi,{me:o,codeshare:a}),s||l?null:Oi(_i,{url:"/-/c.json"})))}Mi.meSubscriptionFragment=void 0!==xi?xi:xi=n("qkce"),Mi.codeshareSubscriptionFragment=void 0!==Ei?Ei:Ei=n("wmV7");var Fi,Ri,ji,Ai,Pi,Ii=n("OUN4"),Di=n("F7dn");function Ni(e,t,n){var r=Object(T.requestSubscription)(e,t),i=n?F(n):null;return{dispose:function(){r.dispose(),i&&i.dispose()}}}var Ui=l.a.createElement;function Bi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ki(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bi(Object(n),!0).forEach((function(t){Object(i.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Hi=function(e){var t=e.apiHeaders,r=e.queryProps,i=e.queryRecords,o=e.codeshareId;p.a.assert(r,"relay fetch failed",{apiHeaders:t,queryProps:r,queryRecords:i,codeshareId:o});var l=Object(Ii.b)({apiHeaders:t,records:i});M.a&&Object(c.useEffect)((function(){E.a.debug("subscribe: CodeshareIdMeSubscription");var e=Ni(l,{subscription:void 0!==Fi?Fi:Fi=n("npsY"),updater:function(e){var t=e.getRootField("meUpdates").getLinkedRecord("viewer");e.getRoot().setLinkedRecord(t,"viewer")},variables:{input:{}}},function(){var e=Object(s.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.fetchQuery)(l,void 0!==Ri?Ri:Ri=n("mrFK"),{}).toPromise();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}());E.a.debug("subscribe: CodeshareIdCodeshareSubscription");var t=Ni(l,{subscription:void 0!==ji?ji:ji=n("7oZY"),variables:{input:{id:o}}},function(){var e=Object(s.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.fetchQuery)(l,void 0!==Ai?Ai:Ai=n("Ax77"),Ki(Ki({codeshareId:o},ut),v)).toPromise();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}());return function(){e.dispose(),t.dispose()}}),[]);var h=r.viewer;return M.a&&h.me.email&&an.a.identify(h.me.id,{anonymous:h.me.anonymous,name:h.me.name,email:h.me.email}),Ui(d.RelayEnvironmentProvider,{environment:l},Ui(u.b.Provider,{value:new u.a},Ui(Mi,{viewer:h,codeshare:r.codeshare})))};Hi.getInitialProps=function(){var e=Object(s.a)(a.a.mark((function e(t){var r,i,o,s,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(Di.a)(t),i=r.match(/^\/([^\/?]+)/),o=i&&i[1],p.a.assert(o,"url is invalid",{url:r}),s=yt.a.encodeRelayId("Codeshare",o),e.next=7,Object(h.a)(t,void 0!==Pi?Pi:Pi=n("OMzZ"),Ki(Ki({codeshareId:s},ut),v));case 7:return c=e.sent,e.abrupt("return",Ki(Ki({},c),{},{codeshareId:s}));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();t.default=Hi},cD5x:function(e,t,n){(function(e){var r=n("ojuT"),i=n("+SKG");t.deconstructPacket=function(e){var t=[],n=e.data;var o=e;return o.data=function e(n){if(!n)return n;if(i(n)){var o={_placeholder:!0,num:t.length};return t.push(n),o}if(r(n)){for(var a=new Array(n.length),s=0;s<n.length;s++)a[s]=e(n[s]);return a}if("object"==typeof n&&!(n instanceof Date)){a={};for(var c in n)a[c]=e(n[c]);return a}return n}(n),o.attachments=t.length,{packet:o,buffers:t}},t.reconstructPacket=function(e,t){return e.data=function e(n){if(n&&n._placeholder)return t[n.num];if(r(n)){for(var i=0;i<n.length;i++)n[i]=e(n[i]);return n}if(n&&"object"==typeof n){for(var o in n)n[o]=e(n[o]);return n}return n}(e.data),e.attachments=void 0,e},t.removeBlobs=function(t,n){var o=0,a=t;!function t(s,c,l){if(!s)return s;if(e.Blob&&s instanceof Blob||e.File&&s instanceof File){o++;var u=new FileReader;u.onload=function(){l?l[c]=this.result:a=this.result,--o||n(a)},u.readAsArrayBuffer(s)}else if(r(s))for(var d=0;d<s.length;d++)t(s[d],d,s);else if(s&&"object"==typeof s&&!i(s))for(var h in s)t(s[h],h,s)}(a),o||n(a)}}).call(this,n("yLpj"))},cNda:function(e,t,n){"use strict";n.r(t);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CodeshareHead_codeshare",selections:[{args:null,kind:"FragmentSpread",name:"CodeshareLazyHead_codeshare"}],type:"Codeshare",hash:"ccef966e26c0c44285c596bfe7f5c9d2"};t.default=r},dSiF:function(e,t,n){"use strict";n.r(t);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useCodeshareTitleSubscription_codeshare",selections:[{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],type:"Codeshare",hash:"4761b34677f8cde227277f0fd5a9ee9c"};t.default=r},"dkv/":function(e,t){e.exports=Object.keys||function(e){var t=[],n=Object.prototype.hasOwnProperty;for(var r in e)n.call(e,r)&&t.push(r);return t}},dq4f:function(e,t,n){!function(e){"use strict";function t(e,t){if(!e.hasOwnProperty(t))throw new Error("Undefined state "+t+" in simple mode")}function n(e,t){if(!e)return/(?:)/;var n="";return e instanceof RegExp?(e.ignoreCase&&(n="i"),e=e.source):e=String(e),new RegExp((!1===t?"":"^")+"(?:"+e+")",n)}function r(e){if(!e)return null;if(e.apply)return e;if("string"==typeof e)return e.replace(/\./g," ");for(var t=[],n=0;n<e.length;n++)t.push(e[n]&&e[n].replace(/\./g," "));return t}function i(e,i){(e.next||e.push)&&t(i,e.next||e.push),this.regex=n(e.regex),this.token=r(e.token),this.data=e}function o(e,t){return function(n,r){if(r.pending){var i=r.pending.shift();return 0==r.pending.length&&(r.pending=null),n.pos+=i.text.length,i.token}if(r.local){if(r.local.end&&n.match(r.local.end)){var o=r.local.endToken||null;return r.local=r.localState=null,o}var a;return o=r.local.mode.token(n,r.localState),r.local.endScan&&(a=r.local.endScan.exec(n.current()))&&(n.pos=n.start+a.index),o}for(var c=e[r.state],l=0;l<c.length;l++){var u=c[l],d=(!u.data.sol||n.sol())&&n.match(u.regex);if(d){u.data.next?r.state=u.data.next:u.data.push?((r.stack||(r.stack=[])).push(r.state),r.state=u.data.push):u.data.pop&&r.stack&&r.stack.length&&(r.state=r.stack.pop()),u.data.mode&&s(t,r,u.data.mode,u.token),u.data.indent&&r.indent.push(n.indentation()+t.indentUnit),u.data.dedent&&r.indent.pop();var h=u.token;if(h&&h.apply&&(h=h(d)),d.length>2&&u.token&&"string"!=typeof u.token){r.pending=[];for(var p=2;p<d.length;p++)d[p]&&r.pending.push({text:d[p],token:u.token[p-1]});return n.backUp(d[0].length-(d[1]?d[1].length:0)),h[0]}return h&&h.join?h[0]:h}}return n.next(),null}}function a(e,t){if(e===t)return!0;if(!e||"object"!=typeof e||!t||"object"!=typeof t)return!1;var n=0;for(var r in e)if(e.hasOwnProperty(r)){if(!t.hasOwnProperty(r)||!a(e[r],t[r]))return!1;n++}for(var r in t)t.hasOwnProperty(r)&&n--;return 0==n}function s(t,r,i,o){var s;if(i.persistent)for(var c=r.persistentStates;c&&!s;c=c.next)(i.spec?a(i.spec,c.spec):i.mode==c.mode)&&(s=c);var l=s?s.mode:i.mode||e.getMode(t,i.spec),u=s?s.state:e.startState(l);i.persistent&&!s&&(r.persistentStates={mode:l,spec:i.spec,state:u,next:r.persistentStates}),r.localState=u,r.local={mode:l,end:i.end&&n(i.end),endScan:i.end&&!1!==i.forceEnd&&n(i.end,!1),endToken:o&&o.join?o[o.length-1]:o}}function c(e,t){for(var n=0;n<t.length;n++)if(t[n]===e)return!0}function l(t,n){return function(r,i,o){if(r.local&&r.local.mode.indent)return r.local.mode.indent(r.localState,i,o);if(null==r.indent||r.local||n.dontIndentStates&&c(r.state,n.dontIndentStates)>-1)return e.Pass;var a=r.indent.length-1,s=t[r.state];e:for(;;){for(var l=0;l<s.length;l++){var u=s[l];if(u.data.dedent&&!1!==u.data.dedentIfLineStart){var d=u.regex.exec(i);if(d&&d[0]){a--,(u.next||u.push)&&(s=t[u.next||u.push]),i=i.slice(d[0].length);continue e}}}break}return a<0?0:r.indent[a]}}e.defineSimpleMode=function(t,n){e.defineMode(t,(function(t){return e.simpleMode(t,n)}))},e.simpleMode=function(n,r){t(r,"start");var a={},s=r.meta||{},c=!1;for(var u in r)if(u!=s&&r.hasOwnProperty(u))for(var d=a[u]=[],h=r[u],p=0;p<h.length;p++){var f=h[p];d.push(new i(f,r)),(f.indent||f.dedent)&&(c=!0)}var m={startState:function(){return{state:"start",pending:null,local:null,localState:null,indent:c?[]:null}},copyState:function(t){var n={state:t.state,pending:t.pending,local:t.local,localState:null,indent:t.indent&&t.indent.slice(0)};t.localState&&(n.localState=e.copyState(t.local.mode,t.localState)),t.stack&&(n.stack=t.stack.slice(0));for(var r=t.persistentStates;r;r=r.next)n.persistentStates={mode:r.mode,spec:r.spec,state:r.state==t.localState?n.localState:e.copyState(r.mode,r.state),next:n.persistentStates};return n},token:o(a,n),innerMode:function(e){return e.local&&{mode:e.local.mode,state:e.localState}},indent:l(a,s)};if(s)for(var g in s)s.hasOwnProperty(g)&&(m[g]=s[g]);return m}}(n("VrN/"))},e3dM:function(e,t,n){"use strict";n.r(t);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CodeshareSidebar_codeshare",selections:[{args:null,kind:"FragmentSpread",name:"CodeshareSettingsForm_codeshare"},{args:null,kind:"FragmentSpread",name:"CodeshareDownloadButton_codeshare"},{args:null,kind:"FragmentSpread",name:"CodeshareVideoChatButton_codeshare"}],type:"Codeshare",hash:"436f413a821b995c2b33312e2959a04a"};t.default=r},eAaj:function(e,t,n){"use strict";n.r(t);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CodeshareEditor_codeshare",selections:[{args:null,kind:"FragmentSpread",name:"CodeshareFirepad_codeshare"}],type:"Codeshare",hash:"f2123e9b74d7e78f595327e2ea42c12d"};t.default=r},eOtv:function(e,t,n){var r=n("fA2z"),i=n("KFGy"),o=n("2xqC"),a=n("Vo14"),s=n("2Dig"),c=n("QN7Q"),l=n("SfcZ")("socket.io-client:manager"),u=n("7jRU"),d=n("C2QD"),h=Object.prototype.hasOwnProperty;function p(e,t){if(!(this instanceof p))return new p(e,t);e&&"object"===typeof e&&(t=e,e=void 0),(t=t||{}).path=t.path||"/socket.io",this.nsps={},this.subs=[],this.opts=t,this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(t.randomizationFactor||.5),this.backoff=new d({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this.readyState="closed",this.uri=e,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[],this.encoder=new a.Encoder,this.decoder=new a.Decoder,this.autoConnect=!1!==t.autoConnect,this.autoConnect&&this.open()}e.exports=p,p.prototype.emitAll=function(){for(var e in this.emit.apply(this,arguments),this.nsps)h.call(this.nsps,e)&&this.nsps[e].emit.apply(this.nsps[e],arguments)},p.prototype.updateSocketIds=function(){for(var e in this.nsps)h.call(this.nsps,e)&&(this.nsps[e].id=this.engine.id)},o(p.prototype),p.prototype.reconnection=function(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection},p.prototype.reconnectionAttempts=function(e){return arguments.length?(this._reconnectionAttempts=e,this):this._reconnectionAttempts},p.prototype.reconnectionDelay=function(e){return arguments.length?(this._reconnectionDelay=e,this.backoff&&this.backoff.setMin(e),this):this._reconnectionDelay},p.prototype.randomizationFactor=function(e){return arguments.length?(this._randomizationFactor=e,this.backoff&&this.backoff.setJitter(e),this):this._randomizationFactor},p.prototype.reconnectionDelayMax=function(e){return arguments.length?(this._reconnectionDelayMax=e,this.backoff&&this.backoff.setMax(e),this):this._reconnectionDelayMax},p.prototype.timeout=function(e){return arguments.length?(this._timeout=e,this):this._timeout},p.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},p.prototype.open=p.prototype.connect=function(e,t){if(l("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;l("opening %s",this.uri),this.engine=r(this.uri,this.opts);var n=this.engine,i=this;this.readyState="opening",this.skipReconnect=!1;var o=s(n,"open",(function(){i.onopen(),e&&e()})),a=s(n,"error",(function(t){if(l("connect_error"),i.cleanup(),i.readyState="closed",i.emitAll("connect_error",t),e){var n=new Error("Connection error");n.data=t,e(n)}else i.maybeReconnectOnOpen()}));if(!1!==this._timeout){var c=this._timeout;l("connect attempt will timeout after %d",c);var u=setTimeout((function(){l("connect attempt timed out after %d",c),o.destroy(),n.close(),n.emit("error","timeout"),i.emitAll("connect_timeout",c)}),c);this.subs.push({destroy:function(){clearTimeout(u)}})}return this.subs.push(o),this.subs.push(a),this},p.prototype.onopen=function(){l("open"),this.cleanup(),this.readyState="open",this.emit("open");var e=this.engine;this.subs.push(s(e,"data",c(this,"ondata"))),this.subs.push(s(e,"ping",c(this,"onping"))),this.subs.push(s(e,"pong",c(this,"onpong"))),this.subs.push(s(e,"error",c(this,"onerror"))),this.subs.push(s(e,"close",c(this,"onclose"))),this.subs.push(s(this.decoder,"decoded",c(this,"ondecoded")))},p.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},p.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},p.prototype.ondata=function(e){this.decoder.add(e)},p.prototype.ondecoded=function(e){this.emit("packet",e)},p.prototype.onerror=function(e){l("error",e),this.emitAll("error",e)},p.prototype.socket=function(e,t){var n=this.nsps[e];if(!n){n=new i(this,e,t),this.nsps[e]=n;var r=this;n.on("connecting",o),n.on("connect",(function(){n.id=r.engine.id})),this.autoConnect&&o()}function o(){~u(r.connecting,n)||r.connecting.push(n)}return n},p.prototype.destroy=function(e){var t=u(this.connecting,e);~t&&this.connecting.splice(t,1),this.connecting.length||this.close()},p.prototype.packet=function(e){l("writing packet %j",e);var t=this;e.query&&0===e.type&&(e.nsp+="?"+e.query),t.encoding?t.packetBuffer.push(e):(t.encoding=!0,this.encoder.encode(e,(function(n){for(var r=0;r<n.length;r++)t.engine.write(n[r],e.options);t.encoding=!1,t.processPacketQueue()})))},p.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var e=this.packetBuffer.shift();this.packet(e)}},p.prototype.cleanup=function(){l("cleanup");for(var e=this.subs.length,t=0;t<e;t++){this.subs.shift().destroy()}this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},p.prototype.close=p.prototype.disconnect=function(){l("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,"opening"===this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},p.prototype.onclose=function(e){l("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",e),this._reconnection&&!this.skipReconnect&&this.reconnect()},p.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var e=this;if(this.backoff.attempts>=this._reconnectionAttempts)l("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var t=this.backoff.duration();l("will wait %dms before reconnect attempt",t),this.reconnecting=!0;var n=setTimeout((function(){e.skipReconnect||(l("attempting reconnect"),e.emitAll("reconnect_attempt",e.backoff.attempts),e.emitAll("reconnecting",e.backoff.attempts),e.skipReconnect||e.open((function(t){t?(l("reconnect attempt error"),e.reconnecting=!1,e.reconnect(),e.emitAll("reconnect_error",t.data)):(l("reconnect success"),e.onreconnect())})))}),t);this.subs.push({destroy:function(){clearTimeout(n)}})}},p.prototype.onreconnect=function(){var e=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",e)}},eYEk:function(e,t,n){"use strict";n.r(t);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CodeshareSettingsFormSubscription_codeshare",selections:[{args:null,kind:"FragmentSpread",name:"CodeshareTitleFormField_codeshare"},{args:null,kind:"FragmentSpread",name:"CodeshareModeNameFormField_codeshare"},{args:null,kind:"FragmentSpread",name:"CodeshareTabSizeFormField_codeshare"}],type:"Codeshare",hash:"94b85af44b8239876e7471f47ca0fdd4"};t.default=r},epZP:function(e,t,n){"use strict";n.r(t);var r=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input",type:"CodeshareUserDeletionsInput!"}],t=[{alias:null,args:[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"DeletionsPayload",kind:"LinkedField",name:"codeshareUserDeletions",plural:!1,selections:[{alias:null,args:null,concreteType:"Codeshare",kind:"LinkedField",name:"codeshare",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"deletedCodeshareUserId",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"onCodeshareUserDeletionsSubscription",selections:t,type:"Subscription"},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"onCodeshareUserDeletionsSubscription",selections:t},params:{id:null,metadata:{},name:"onCodeshareUserDeletionsSubscription",operationKind:"subscription",text:"subscription onCodeshareUserDeletionsSubscription(\n  $input: CodeshareUserDeletionsInput!\n) {\n  codeshareUserDeletions(input: $input) {\n    codeshare {\n      id\n    }\n    deletedCodeshareUserId\n  }\n}\n"}}}();r.hash="7e4d7eb20a63fdc08c4b860162b60a2f",t.default=r},ewt2:function(e,t,n){"use strict";n.r(t);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CodeMirrorCursor_codeshare",selections:[{alias:null,args:null,concreteType:"CanEdit",kind:"LinkedField",name:"canEdit",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"me",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"userIds",storageKey:null}],storageKey:null}],type:"Codeshare",hash:"eb2663a0e4e893f83c79b3a042dc1936"};t.default=r},f1Ac:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("DtyJ");t.Subscription=r.Subscription},fA2z:function(e,t,n){e.exports=n("lKxJ")},fbCW:function(e,t,n){"use strict";var r=n("I+eb"),i=n("tycR").find,o=n("RNIs"),a=n("rkAj"),s=!0,c=a("find");"find"in[]&&Array(1).find((function(){s=!1})),r({target:"Array",proto:!0,forced:s||!c},{find:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),o("find")},"g/L8":function(e,t,n){"use strict";n.r(t);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CodeshareCodeMirror_me",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{args:null,kind:"FragmentSpread",name:"useTheme_me"},{args:null,kind:"FragmentSpread",name:"useKeymap_me"}],type:"Me",hash:"3291f3b574214a824f3c21b6ac74e502"};t.default=r},g5Dd:function(e,t){!function(){"use strict";for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=new Uint8Array(256),r=0;r<e.length;r++)n[e.charCodeAt(r)]=r;t.encode=function(t){var n,r=new Uint8Array(t),i=r.length,o="";for(n=0;n<i;n+=3)o+=e[r[n]>>2],o+=e[(3&r[n])<<4|r[n+1]>>4],o+=e[(15&r[n+1])<<2|r[n+2]>>6],o+=e[63&r[n+2]];return i%3===2?o=o.substring(0,o.length-1)+"=":i%3===1&&(o=o.substring(0,o.length-2)+"=="),o},t.decode=function(e){var t,r,i,o,a,s=.75*e.length,c=e.length,l=0;"="===e[e.length-1]&&(s--,"="===e[e.length-2]&&s--);var u=new ArrayBuffer(s),d=new Uint8Array(u);for(t=0;t<c;t+=4)r=n[e.charCodeAt(t)],i=n[e.charCodeAt(t+1)],o=n[e.charCodeAt(t+2)],a=n[e.charCodeAt(t+3)],d[l++]=r<<2|i>>4,d[l++]=(15&i)<<4|o>>2,d[l++]=(3&o)<<6|63&a;return u}}()},gFX4:function(e,t,n){var r=n("zJ60"),i=n("Vo14"),o=n("eOtv"),a=n("SfcZ")("socket.io-client");e.exports=t=c;var s=t.managers={};function c(e,t){"object"===typeof e&&(t=e,e=void 0),t=t||{};var n,i=r(e),c=i.source,l=i.id,u=i.path,d=s[l]&&u in s[l].nsps;return t.forceNew||t["force new connection"]||!1===t.multiplex||d?(a("ignoring socket cache for %s",c),n=o(c,t)):(s[l]||(a("new io instance for %s",c),s[l]=o(c,t)),n=s[l]),i.query&&!t.query?t.query=i.query:t&&"object"===typeof t.query&&(t.query=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")}(t.query)),n.socket(i.path,t)}t.protocol=i.protocol,t.connect=c,t.Manager=n("eOtv"),t.Socket=n("KFGy")},goMv:function(e,t,n){"use strict";var r={shimGetUserMedia:function(){navigator.getUserMedia=navigator.webkitGetUserMedia}};e.exports={shimGetUserMedia:r.shimGetUserMedia}},h9Dq:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("mrSG"),i=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r.pending=!1,r}return r.c(t,e),t.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this},t.prototype.requestAsyncId=function(e,t,n){return void 0===n&&(n=0),setInterval(e.flush.bind(e,this),n)},t.prototype.recycleAsyncId=function(e,t,n){if(void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var n=!1,r=void 0;try{this.work(e)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r},t.prototype._unsubscribe=function(){var e=this.id,t=this.scheduler,n=t.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null},t}(function(e){function t(t,n){return e.call(this)||this}return r.c(t,e),t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},t}(n("pugT").a))},hdgc:function(e,t,n){"use strict";n.r(t);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CodeshareThemeFormField_me",selections:[{args:null,kind:"FragmentSpread",name:"useTheme_me"}],type:"Me",hash:"7519a91b3bed27fc7400e354fbe9b34b"};t.default=r},hmh0:function(e,t,n){"use strict";n.r(t);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"isCodeshareViewOnly_codeshare",selections:[{alias:null,args:null,concreteType:"CanEdit",kind:"LinkedField",name:"canEdit",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"userIds",storageKey:null}],storageKey:null}],type:"Codeshare",hash:"873602aa31926c022e73c20628d444e0"};t.default=r},"i+Xr":function(e,t,n){var r=n("7tlc"),i=n("taVt"),o=n("k9ys"),a=n("bT/L"),s=n("vWXW");function c(e){var t,n=this,r=e||{};this.config={debug:!1,peerConnectionConfig:{iceServers:[{urls:"stun:stun.l.google.com:19302"}]},peerConnectionConstraints:{optional:[]},receiveMedia:{offerToReceiveAudio:1,offerToReceiveVideo:1},enableDataChannels:!0};for(t in this.logger=e.debug?e.logger||console:e.logger||o,r)r.hasOwnProperty(t)&&(this.config[t]=r[t]);i.support||this.logger.error("Your browser doesn't seem to support WebRTC"),this.peers=[],a.call(this,this.config),this.on("speaking",(function(){n.hardMuted||n.peers.forEach((function(e){if(e.enableDataChannels){var t=e.getDataChannel("hark");if("open"!=t.readyState)return;t.send(JSON.stringify({type:"speaking"}))}}))})),this.on("stoppedSpeaking",(function(){n.hardMuted||n.peers.forEach((function(e){if(e.enableDataChannels){var t=e.getDataChannel("hark");if("open"!=t.readyState)return;t.send(JSON.stringify({type:"stoppedSpeaking"}))}}))})),this.on("volumeChange",(function(e,t){n.hardMuted||n.peers.forEach((function(t){if(t.enableDataChannels){var n=t.getDataChannel("hark");if("open"!=n.readyState)return;n.send(JSON.stringify({type:"volume",volume:e}))}}))})),this.config.debug&&this.on("*",(function(e,t,r){(n.config.logger===o?console:n.logger).log("event:",e,t,r)}))}r.inherits(c,a),c.prototype.createPeer=function(e){var t;return e.parent=this,t=new s(e),this.peers.push(t),t},c.prototype.removePeers=function(e,t){this.getPeers(e,t).forEach((function(e){e.end()}))},c.prototype.getPeers=function(e,t){return this.peers.filter((function(n){return(!e||n.id===e)&&(!t||n.type===t)}))},c.prototype.sendToAll=function(e,t){this.peers.forEach((function(n){n.send(e,t)}))},c.prototype.sendDirectlyToAll=function(e,t,n){this.peers.forEach((function(r){r.enableDataChannels&&r.sendDirectly(e,t,n)}))},e.exports=c},i4X3:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("6blF"),i=n("pugT"),o=n("xTla");var a=n("JF+6"),s=n("En8+");var c=n("/WYv"),l=n("2ePl");function u(e,t){if(null!=e){if(function(e){return e&&"function"===typeof e[o.a]}(e))return function(e,t){return new r.a((function(n){var r=new i.a;return r.add(t.schedule((function(){var i=e[o.a]();r.add(i.subscribe({next:function(e){r.add(t.schedule((function(){return n.next(e)})))},error:function(e){r.add(t.schedule((function(){return n.error(e)})))},complete:function(){r.add(t.schedule((function(){return n.complete()})))}}))}))),r}))}(e,t);if(Object(c.a)(e))return function(e,t){return new r.a((function(n){var r=new i.a;return r.add(t.schedule((function(){return e.then((function(e){r.add(t.schedule((function(){n.next(e),r.add(t.schedule((function(){return n.complete()})))})))}),(function(e){r.add(t.schedule((function(){return n.error(e)})))}))}))),r}))}(e,t);if(Object(l.a)(e))return Object(a.a)(e,t);if(function(e){return e&&"function"===typeof e[s.a]}(e)||"string"===typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new r.a((function(n){var r,o=new i.a;return o.add((function(){r&&"function"===typeof r.return&&r.return()})),o.add(t.schedule((function(){r=e[s.a](),o.add(t.schedule((function(){if(!n.closed){var e,t;try{var i=r.next();e=i.value,t=i.done}catch(o){return void n.error(o)}t?n.complete():(n.next(e),this.schedule())}})))}))),o}))}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}},iLxQ:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=!1,i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){e&&(new Error).stack;r=e},get useDeprecatedSynchronousErrorHandling(){return r}}},iMbZ:function(e,t,n){function r(){var e;try{e=t.storage.debug}catch(n){}return e}(t=e.exports=n("Z14f")).log=function(){return"object"===typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(){var e=arguments,n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),!n)return e;var r="color: "+this.color;e=[e[0],r,"color: inherit"].concat(Array.prototype.slice.call(e,1));var i=0,o=0;return e[0].replace(/%[a-z%]/g,(function(e){"%%"!==e&&(i++,"%c"===e&&(o=i))})),e.splice(o,0,r),e},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(n){}},t.load=r,t.useColors=function(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31},t.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],t.formatters.j=function(e){return JSON.stringify(e)},t.enable(r())},isby:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){return Array.isArray||function(e){return e&&"number"===typeof e.length}}()},j264:function(e,t,n){"use strict";n.r(t);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CodeshareModeNameFormField_codeshare",selections:[{alias:null,args:null,concreteType:"CanEdit",kind:"LinkedField",name:"canEdit",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"me",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"userIds",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"useCodeshareModeName_codeshare"}],type:"Codeshare",hash:"44a0b075824a4d3bc10a07fdd92425df"};t.default=r},jDMi:function(e,t,n){!function(e){var t=/MSIE \d/.test(navigator.userAgent)&&(null==document.documentMode||document.documentMode<8),n=e.Pos,r={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<","<":">>",">":"<<"};function i(e){return e&&e.bracketRegex||/[(){}[\]]/}function o(e,t,o){var s=e.getLineHandle(t.line),c=t.ch-1,l=o&&o.afterCursor;null==l&&(l=/(^| )cm-fat-cursor($| )/.test(e.getWrapperElement().className));var u=i(o),d=!l&&c>=0&&u.test(s.text.charAt(c))&&r[s.text.charAt(c)]||u.test(s.text.charAt(c+1))&&r[s.text.charAt(++c)];if(!d)return null;var h=">"==d.charAt(1)?1:-1;if(o&&o.strict&&h>0!=(c==t.ch))return null;var p=e.getTokenTypeAt(n(t.line,c+1)),f=a(e,n(t.line,c+(h>0?1:0)),h,p||null,o);return null==f?null:{from:n(t.line,c),to:f&&f.pos,match:f&&f.ch==d.charAt(0),forward:h>0}}function a(e,t,o,a,s){for(var c=s&&s.maxScanLineLength||1e4,l=s&&s.maxScanLines||1e3,u=[],d=i(s),h=o>0?Math.min(t.line+l,e.lastLine()+1):Math.max(e.firstLine()-1,t.line-l),p=t.line;p!=h;p+=o){var f=e.getLine(p);if(f){var m=o>0?0:f.length-1,g=o>0?f.length:-1;if(!(f.length>c))for(p==t.line&&(m=t.ch-(o<0?1:0));m!=g;m+=o){var v=f.charAt(m);if(d.test(v)&&(void 0===a||e.getTokenTypeAt(n(p,m+1))==a)){var y=r[v];if(y&&">"==y.charAt(1)==o>0)u.push(v);else{if(!u.length)return{pos:n(p,m),ch:v};u.pop()}}}}}return p-o!=(o>0?e.lastLine():e.firstLine())&&null}function s(e,r,i){for(var a=e.state.matchBrackets.maxHighlightLineLength||1e3,s=[],c=e.listSelections(),l=0;l<c.length;l++){var u=c[l].empty()&&o(e,c[l].head,i);if(u&&e.getLine(u.from.line).length<=a){var d=u.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket";s.push(e.markText(u.from,n(u.from.line,u.from.ch+1),{className:d})),u.to&&e.getLine(u.to.line).length<=a&&s.push(e.markText(u.to,n(u.to.line,u.to.ch+1),{className:d}))}}if(s.length){t&&e.state.focused&&e.focus();var h=function(){e.operation((function(){for(var e=0;e<s.length;e++)s[e].clear()}))};if(!r)return h;setTimeout(h,800)}}function c(e){e.operation((function(){e.state.matchBrackets.currentlyHighlighted&&(e.state.matchBrackets.currentlyHighlighted(),e.state.matchBrackets.currentlyHighlighted=null),e.state.matchBrackets.currentlyHighlighted=s(e,!1,e.state.matchBrackets)}))}e.defineOption("matchBrackets",!1,(function(t,n,r){r&&r!=e.Init&&(t.off("cursorActivity",c),t.state.matchBrackets&&t.state.matchBrackets.currentlyHighlighted&&(t.state.matchBrackets.currentlyHighlighted(),t.state.matchBrackets.currentlyHighlighted=null)),n&&(t.state.matchBrackets="object"==typeof n?n:{},t.on("cursorActivity",c))})),e.defineExtension("matchBrackets",(function(){s(this,!0)})),e.defineExtension("findMatchingBracket",(function(e,t,n){return(n||"boolean"==typeof t)&&(n?(n.strict=t,t=n):t=t?{strict:!0}:null),o(this,e,t)})),e.defineExtension("scanForBracket",(function(e,t,n,r){return a(this,e,t,n,r)}))}(n("VrN/"))},jYyo:function(e,t,n){"use strict";n.r(t);var r=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input",type:"UpdateCodeshareInput!"}],t=[{alias:null,args:[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"UpdateCodeshareResponse",kind:"LinkedField",name:"updateCodeshare",plural:!1,selections:[{alias:null,args:null,concreteType:"Codeshare",kind:"LinkedField",name:"codeshare",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"tabSize",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"useCodeshareTabSizeMutation",selections:t,type:"Mutation"},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"useCodeshareTabSizeMutation",selections:t},params:{id:null,metadata:{},name:"useCodeshareTabSizeMutation",operationKind:"mutation",text:"mutation useCodeshareTabSizeMutation(\n  $input: UpdateCodeshareInput!\n) {\n  updateCodeshare(input: $input) {\n    codeshare {\n      id\n      tabSize\n    }\n  }\n}\n"}}}();r.hash="90088fad605de50b460743b7d808bc2a",t.default=r},k9ys:function(e,t){for(var n="assert,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,markTimeline,profile,profileEnd,time,timeEnd,trace,warn".split(","),r=n.length,i=function(){},o={};r--;)o[n[r]]=i;e.exports=o},kSER:function(e,t){e.exports=function(e,t){for(var n=[],r=(t=t||0)||0;r<e.length;r++)n[r-t]=e[r];return n}},kh3u:function(e,t,n){var r=n("x0Ab"),i={};e.exports=function(e,t){var n,o=2===arguments.length,a=o?t:e;if("undefined"===typeof window||"http:"===window.location.protocol)return(n=new Error("NavigatorUserMediaError")).name="HTTPS_REQUIRED",a(n);if(window.navigator.userAgent.match("Chrome")){var s=parseInt(window.navigator.userAgent.match(/Chrome\/(.*) /)[1],10),c=33,l=!window.chrome.webstore;if(window.navigator.userAgent.match("Linux")&&(c=35),sessionStorage.getScreenMediaJSExtensionId)chrome.runtime.sendMessage(sessionStorage.getScreenMediaJSExtensionId,{type:"getScreen",id:1},null,(function(t){if(t&&""!==t.sourceId)(e=o&&e||{audio:!1,video:{mandatory:{chromeMediaSource:"desktop",maxWidth:window.screen.width,maxHeight:window.screen.height,maxFrameRate:3}}}).video.mandatory.chromeMediaSourceId=t.sourceId,r(e,a);else{var n=new Error("NavigatorUserMediaError");n.name="PERMISSION_DENIED",a(n)}}));else if(window.cefGetScreenMedia)window.cefGetScreenMedia((function(t){if(t)(e=o&&e||{audio:!1,video:{mandatory:{chromeMediaSource:"desktop",maxWidth:window.screen.width,maxHeight:window.screen.height,maxFrameRate:3},optional:[{googLeakyBucket:!0},{googTemporalLayeredScreencast:!0}]}}).video.mandatory.chromeMediaSourceId=t,r(e,a);else{var n=new Error("cefGetScreenMediaError");n.name="CEF_GETSCREENMEDIA_CANCELED",a(n)}}));else if(l||s>=26&&s<=c)e=o&&e||{video:{mandatory:{googLeakyBucket:!0,maxWidth:window.screen.width,maxHeight:window.screen.height,maxFrameRate:3,chromeMediaSource:"screen"}}},r(e,a);else{var u=window.setTimeout((function(){return(n=new Error("NavigatorUserMediaError")).name="EXTENSION_UNAVAILABLE",a(n)}),1e3);i[u]=[a,o?e:null],window.postMessage({type:"getScreen",id:u},"*")}}else if(window.navigator.userAgent.match("Firefox")){var d=parseInt(window.navigator.userAgent.match(/Firefox\/(.*)/)[1],10);d>=33?r(e=o&&e||{video:{mozMediaSource:"window",mediaSource:"window"}},(function(e,t){if(a(e,t),!e)var n=t.currentTime,r=window.setInterval((function(){t||window.clearInterval(r),t.currentTime==n&&(window.clearInterval(r),t.onended&&t.onended()),n=t.currentTime}),500)})):(n=new Error("NavigatorUserMediaError")).name="EXTENSION_UNAVAILABLE"}},"undefined"!==typeof window&&window.addEventListener("message",(function(e){if(e.origin==window.location.origin)if("gotScreen"==e.data.type&&i[e.data.id]){var t=i[e.data.id],n=t[1],o=t[0];if(delete i[e.data.id],""===e.data.sourceId){var a=new Error("NavigatorUserMediaError");a.name="PERMISSION_DENIED",o(a)}else(n=n||{audio:!1,video:{mandatory:{chromeMediaSource:"desktop",maxWidth:window.screen.width,maxHeight:window.screen.height,maxFrameRate:3},optional:[{googLeakyBucket:!0},{googTemporalLayeredScreencast:!0}]}}).video.mandatory.chromeMediaSourceId=e.data.sourceId,r(n,o)}else"getScreenPending"==e.data.type&&window.clearTimeout(e.data.id)}))},lKxJ:function(e,t,n){e.exports=n("2pII"),e.exports.parser=n("Wm4p")},lVut:function(e,t,n){"use strict";var r=!0,i={disableLog:function(e){return"boolean"!==typeof e?new Error("Argument type: "+typeof e+". Please use a boolean."):(r=e,e?"adapter.js logging disabled":"adapter.js logging enabled")},log:function(){if("object"===typeof window){if(r)return;"undefined"!==typeof console&&"function"===typeof console.log&&console.log.apply(console,arguments)}},extractVersion:function(e,t,n){var r=e.match(t);return r&&r.length>=n&&parseInt(r[n],10)},detectBrowser:function(){var e={browser:null,version:null};if("undefined"===typeof window||!window.navigator)return e.browser="Not a browser.",e;if(navigator.mozGetUserMedia)e.browser="firefox",e.version=this.extractVersion(navigator.userAgent,/Firefox\/([0-9]+)\./,1);else if(navigator.webkitGetUserMedia)if(window.webkitRTCPeerConnection)e.browser="chrome",e.version=this.extractVersion(navigator.userAgent,/Chrom(e|ium)\/([0-9]+)\./,2);else{if(!navigator.userAgent.match(/Version\/(\d+).(\d+)/))return e.browser="Unsupported webkit-based browser with GUM support but no WebRTC support.",e;e.browser="safari",e.version=this.extractVersion(navigator.userAgent,/AppleWebKit\/([0-9]+)\./,1)}else{if(!navigator.mediaDevices||!navigator.userAgent.match(/Edge\/(\d+).(\d+)$/))return e.browser="Not a supported browser.",e;e.browser="edge",e.version=this.extractVersion(navigator.userAgent,/Edge\/(\d+).(\d+)$/,2)}return e}};e.exports={log:i.log,disableLog:i.disableLog,browserDetails:i.detectBrowser(),extractVersion:i.extractVersion}},mChF:function(e,t,n){"use strict";function r(e){return e}n.d(t,"a",(function(){return r}))},mGGf:function(e,t,n){"use strict";n("4mDm");var r=n("I+eb"),i=n("0GbY"),o=n("DTth"),a=n("busE"),s=n("4syw"),c=n("1E5z"),l=n("ntOU"),u=n("afO8"),d=n("GarU"),h=n("UTVS"),p=n("A2ZE"),f=n("9d/t"),m=n("glrk"),g=n("hh1v"),v=n("fHMY"),y=n("XGwC"),b=n("mh/w"),C=n("NaFW"),w=n("tiKp"),S=i("fetch"),k=i("Headers"),x=w("iterator"),E=u.set,T=u.getterFor("URLSearchParams"),_=u.getterFor("URLSearchParamsIterator"),O=/\+/g,L=Array(4),M=function(e){return L[e-1]||(L[e-1]=RegExp("((?:%[\\da-f]{2}){"+e+"})","gi"))},F=function(e){try{return decodeURIComponent(e)}catch(t){return e}},R=function(e){var t=e.replace(O," "),n=4;try{return decodeURIComponent(t)}catch(r){for(;n;)t=t.replace(M(n--),F);return t}},j=/[!'()~]|%20/g,A={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},P=function(e){return A[e]},I=function(e){return encodeURIComponent(e).replace(j,P)},D=function(e,t){if(t)for(var n,r,i=t.split("&"),o=0;o<i.length;)(n=i[o++]).length&&(r=n.split("="),e.push({key:R(r.shift()),value:R(r.join("="))}))},N=function(e){this.entries.length=0,D(this.entries,e)},U=function(e,t){if(e<t)throw TypeError("Not enough arguments")},B=l((function(e,t){E(this,{type:"URLSearchParamsIterator",iterator:b(T(e).entries),kind:t})}),"Iterator",(function(){var e=_(this),t=e.kind,n=e.iterator.next(),r=n.value;return n.done||(n.value="keys"===t?r.key:"values"===t?r.value:[r.key,r.value]),n})),K=function(){d(this,K,"URLSearchParams");var e,t,n,r,i,o,a,s,c,l=arguments.length>0?arguments[0]:void 0,u=this,p=[];if(E(u,{type:"URLSearchParams",entries:p,updateURL:function(){},updateSearchParams:N}),void 0!==l)if(g(l))if("function"===typeof(e=C(l)))for(n=(t=e.call(l)).next;!(r=n.call(t)).done;){if((a=(o=(i=b(m(r.value))).next).call(i)).done||(s=o.call(i)).done||!o.call(i).done)throw TypeError("Expected sequence with length 2");p.push({key:a.value+"",value:s.value+""})}else for(c in l)h(l,c)&&p.push({key:c,value:l[c]+""});else D(p,"string"===typeof l?"?"===l.charAt(0)?l.slice(1):l:l+"")},H=K.prototype;s(H,{append:function(e,t){U(arguments.length,2);var n=T(this);n.entries.push({key:e+"",value:t+""}),n.updateURL()},delete:function(e){U(arguments.length,1);for(var t=T(this),n=t.entries,r=e+"",i=0;i<n.length;)n[i].key===r?n.splice(i,1):i++;t.updateURL()},get:function(e){U(arguments.length,1);for(var t=T(this).entries,n=e+"",r=0;r<t.length;r++)if(t[r].key===n)return t[r].value;return null},getAll:function(e){U(arguments.length,1);for(var t=T(this).entries,n=e+"",r=[],i=0;i<t.length;i++)t[i].key===n&&r.push(t[i].value);return r},has:function(e){U(arguments.length,1);for(var t=T(this).entries,n=e+"",r=0;r<t.length;)if(t[r++].key===n)return!0;return!1},set:function(e,t){U(arguments.length,1);for(var n,r=T(this),i=r.entries,o=!1,a=e+"",s=t+"",c=0;c<i.length;c++)(n=i[c]).key===a&&(o?i.splice(c--,1):(o=!0,n.value=s));o||i.push({key:a,value:s}),r.updateURL()},sort:function(){var e,t,n,r=T(this),i=r.entries,o=i.slice();for(i.length=0,n=0;n<o.length;n++){for(e=o[n],t=0;t<n;t++)if(i[t].key>e.key){i.splice(t,0,e);break}t===n&&i.push(e)}r.updateURL()},forEach:function(e){for(var t,n=T(this).entries,r=p(e,arguments.length>1?arguments[1]:void 0,3),i=0;i<n.length;)r((t=n[i++]).value,t.key,this)},keys:function(){return new B(this,"keys")},values:function(){return new B(this,"values")},entries:function(){return new B(this,"entries")}},{enumerable:!0}),a(H,x,H.entries),a(H,"toString",(function(){for(var e,t=T(this).entries,n=[],r=0;r<t.length;)e=t[r++],n.push(I(e.key)+"="+I(e.value));return n.join("&")}),{enumerable:!0}),c(K,"URLSearchParams"),r({global:!0,forced:!o},{URLSearchParams:K}),o||"function"!=typeof S||"function"!=typeof k||r({global:!0,enumerable:!0,forced:!0},{fetch:function(e){var t,n,r,i=[e];return arguments.length>1&&(g(t=arguments[1])&&(n=t.body,"URLSearchParams"===f(n)&&((r=t.headers?new k(t.headers):new k).has("content-type")||r.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),t=v(t,{body:y(0,String(n)),headers:y(0,r)}))),i.push(t)),S.apply(this,i)}}),e.exports={URLSearchParams:K,getState:T}},"mh/w":function(e,t,n){var r=n("glrk"),i=n("NaFW");e.exports=function(e){var t=i(e);if("function"!=typeof t)throw TypeError(String(e)+" is not iterable");return r(t.call(e))}},misl:function(e,t,n){"use strict";var r=n("zFjM").log,i=n("zFjM").browserDetails,o={shimMediaStream:function(){window.MediaStream=window.MediaStream||window.webkitMediaStream},shimOnTrack:function(){"object"===typeof window&&window.RTCPeerConnection&&!("ontrack"in window.RTCPeerConnection.prototype)&&Object.defineProperty(window.RTCPeerConnection.prototype,"ontrack",{get:function(){return this._ontrack},set:function(e){var t=this;this._ontrack&&(this.removeEventListener("track",this._ontrack),this.removeEventListener("addstream",this._ontrackpoly)),this.addEventListener("track",this._ontrack=e),this.addEventListener("addstream",this._ontrackpoly=function(e){e.stream.addEventListener("addtrack",(function(n){var r=new Event("track");r.track=n.track,r.receiver={track:n.track},r.streams=[e.stream],t.dispatchEvent(r)})),e.stream.getTracks().forEach(function(t){var n=new Event("track");n.track=t,n.receiver={track:t},n.streams=[e.stream],this.dispatchEvent(n)}.bind(this))}.bind(this))}})},shimSourceObject:function(){"object"===typeof window&&window.HTMLMediaElement&&!("srcObject"in window.HTMLMediaElement.prototype)&&Object.defineProperty(window.HTMLMediaElement.prototype,"srcObject",{get:function(){return this._srcObject},set:function(e){var t=this;this._srcObject=e,this.src&&URL.revokeObjectURL(this.src),e?(this.src=URL.createObjectURL(e),e.addEventListener("addtrack",(function(){t.src&&URL.revokeObjectURL(t.src),t.src=URL.createObjectURL(e)})),e.addEventListener("removetrack",(function(){t.src&&URL.revokeObjectURL(t.src),t.src=URL.createObjectURL(e)}))):this.src=""}})},shimPeerConnection:function(){window.RTCPeerConnection=function(e,t){r("PeerConnection"),e&&e.iceTransportPolicy&&(e.iceTransports=e.iceTransportPolicy);var n=new webkitRTCPeerConnection(e,t),i=n.getStats.bind(n);return n.getStats=function(e,t,n){var r=this,o=arguments;if(arguments.length>0&&"function"===typeof e)return i(e,t);var a=function(e){var t={};return e.result().forEach((function(e){var n={id:e.id,timestamp:e.timestamp,type:e.type};e.names().forEach((function(t){n[t]=e.stat(t)})),t[n.id]=n})),t},s=function(e,t){var n=new Map(Object.keys(e).map((function(t){return[t,e[t]]})));return t=t||e,Object.keys(t).forEach((function(e){n[e]=t[e]})),n};if(arguments.length>=2){var c=function(e){o[1](s(a(e)))};return i.apply(this,[c,arguments[0]])}return new Promise((function(t,n){1===o.length&&"object"===typeof e?i.apply(r,[function(e){t(s(a(e)))},n]):i.apply(r,[function(e){t(s(a(e),e.result()))},n])})).then(t,n)},n},window.RTCPeerConnection.prototype=webkitRTCPeerConnection.prototype,webkitRTCPeerConnection.generateCertificate&&Object.defineProperty(window.RTCPeerConnection,"generateCertificate",{get:function(){return webkitRTCPeerConnection.generateCertificate}}),["createOffer","createAnswer"].forEach((function(e){var t=webkitRTCPeerConnection.prototype[e];webkitRTCPeerConnection.prototype[e]=function(){var e=this;if(arguments.length<1||1===arguments.length&&"object"===typeof arguments[0]){var n=1===arguments.length?arguments[0]:void 0;return new Promise((function(r,i){t.apply(e,[r,i,n])}))}return t.apply(this,arguments)}})),i.version<51&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach((function(e){var t=webkitRTCPeerConnection.prototype[e];webkitRTCPeerConnection.prototype[e]=function(){var e=arguments,n=this,r=new Promise((function(r,i){t.apply(n,[e[0],r,i])}));return e.length<2?r:r.then((function(){e[1].apply(null,[])}),(function(t){e.length>=3&&e[2].apply(null,[t])}))}}));var e=RTCPeerConnection.prototype.addIceCandidate;RTCPeerConnection.prototype.addIceCandidate=function(){return null===arguments[0]?Promise.resolve():e.apply(this,arguments)},["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach((function(e){var t=webkitRTCPeerConnection.prototype[e];webkitRTCPeerConnection.prototype[e]=function(){return arguments[0]=new("addIceCandidate"===e?RTCIceCandidate:RTCSessionDescription)(arguments[0]),t.apply(this,arguments)}}))},attachMediaStream:function(e,t){r("DEPRECATED, attachMediaStream will soon be removed."),i.version>=43?e.srcObject=t:"undefined"!==typeof e.src?e.src=URL.createObjectURL(t):r("Error attaching stream to element.")},reattachMediaStream:function(e,t){r("DEPRECATED, reattachMediaStream will soon be removed."),i.version>=43?e.srcObject=t.srcObject:e.src=t.src}};e.exports={shimMediaStream:o.shimMediaStream,shimOnTrack:o.shimOnTrack,shimSourceObject:o.shimSourceObject,shimPeerConnection:o.shimPeerConnection,shimGetUserMedia:n("0az+"),attachMediaStream:o.attachMediaStream,reattachMediaStream:o.reattachMediaStream}},mki7:function(e,t,n){!function(e){"use strict";var t=e.commands,n=e.Pos;function r(t,r,i){if(i<0&&0==r.ch)return t.clipPos(n(r.line-1));var o=t.getLine(r.line);if(i>0&&r.ch>=o.length)return t.clipPos(n(r.line+1,0));for(var a,s="start",c=r.ch,l=c,u=i<0?0:o.length,d=0;l!=u;l+=i,d++){var h=o.charAt(i<0?l-1:l),p="_"!=h&&e.isWordChar(h)?"w":"o";if("w"==p&&h.toUpperCase()==h&&(p="W"),"start"==s)"o"!=p?(s="in",a=p):c=l+i;else if("in"==s&&a!=p){if("w"==a&&"W"==p&&i<0&&l--,"W"==a&&"w"==p&&i>0){if(l==c+1){a="w";continue}l--}break}}return n(r.line,l)}function i(e,t){e.extendSelectionsBy((function(n){return e.display.shift||e.doc.extend||n.empty()?r(e.doc,n.head,t):t<0?n.from():n.to()}))}function o(t,r){if(t.isReadOnly())return e.Pass;t.operation((function(){for(var e=t.listSelections().length,i=[],o=-1,a=0;a<e;a++){var s=t.listSelections()[a].head;if(!(s.line<=o)){var c=n(s.line+(r?0:1),0);t.replaceRange("\n",c,null,"+insertLine"),t.indentLine(c.line,null,!0),i.push({head:c,anchor:c}),o=s.line+1}}t.setSelections(i)})),t.execCommand("indentAuto")}function a(t,r){for(var i=r.ch,o=i,a=t.getLine(r.line);i&&e.isWordChar(a.charAt(i-1));)--i;for(;o<a.length&&e.isWordChar(a.charAt(o));)++o;return{from:n(r.line,i),to:n(r.line,o),word:a.slice(i,o)}}function s(e,t){for(var n=e.listSelections(),r=[],i=0;i<n.length;i++){var o=n[i],a=e.findPosV(o.anchor,t,"line",o.anchor.goalColumn),s=e.findPosV(o.head,t,"line",o.head.goalColumn);a.goalColumn=null!=o.anchor.goalColumn?o.anchor.goalColumn:e.cursorCoords(o.anchor,"div").left,s.goalColumn=null!=o.head.goalColumn?o.head.goalColumn:e.cursorCoords(o.head,"div").left;var c={anchor:a,head:s};r.push(o),r.push(c)}e.setSelections(r)}function c(t,n,r){for(var i=0;i<t.length;i++)if(0==e.cmpPos(t[i].from(),n)&&0==e.cmpPos(t[i].to(),r))return!0;return!1}t.goSubwordLeft=function(e){i(e,-1)},t.goSubwordRight=function(e){i(e,1)},t.scrollLineUp=function(e){var t=e.getScrollInfo();if(!e.somethingSelected()){var n=e.lineAtHeight(t.top+t.clientHeight,"local");e.getCursor().line>=n&&e.execCommand("goLineUp")}e.scrollTo(null,t.top-e.defaultTextHeight())},t.scrollLineDown=function(e){var t=e.getScrollInfo();if(!e.somethingSelected()){var n=e.lineAtHeight(t.top,"local")+1;e.getCursor().line<=n&&e.execCommand("goLineDown")}e.scrollTo(null,t.top+e.defaultTextHeight())},t.splitSelectionByLine=function(e){for(var t=e.listSelections(),r=[],i=0;i<t.length;i++)for(var o=t[i].from(),a=t[i].to(),s=o.line;s<=a.line;++s)a.line>o.line&&s==a.line&&0==a.ch||r.push({anchor:s==o.line?o:n(s,0),head:s==a.line?a:n(s)});e.setSelections(r,0)},t.singleSelectionTop=function(e){var t=e.listSelections()[0];e.setSelection(t.anchor,t.head,{scroll:!1})},t.selectLine=function(e){for(var t=e.listSelections(),r=[],i=0;i<t.length;i++){var o=t[i];r.push({anchor:n(o.from().line,0),head:n(o.to().line+1,0)})}e.setSelections(r)},t.insertLineAfter=function(e){return o(e,!1)},t.insertLineBefore=function(e){return o(e,!0)},t.selectNextOccurrence=function(t){var r=t.getCursor("from"),i=t.getCursor("to"),o=t.state.sublimeFindFullWord==t.doc.sel;if(0==e.cmpPos(r,i)){var s=a(t,r);if(!s.word)return;t.setSelection(s.from,s.to),o=!0}else{var l=t.getRange(r,i),u=o?new RegExp("\\b"+l+"\\b"):l,d=t.getSearchCursor(u,i),h=d.findNext();if(h||(h=(d=t.getSearchCursor(u,n(t.firstLine(),0))).findNext()),!h||c(t.listSelections(),d.from(),d.to()))return;t.addSelection(d.from(),d.to())}o&&(t.state.sublimeFindFullWord=t.doc.sel)},t.skipAndSelectNextOccurrence=function(n){var r=n.getCursor("anchor"),i=n.getCursor("head");t.selectNextOccurrence(n),0!=e.cmpPos(r,i)&&n.doc.setSelections(n.doc.listSelections().filter((function(e){return e.anchor!=r||e.head!=i})))},t.addCursorToPrevLine=function(e){s(e,-1)},t.addCursorToNextLine=function(e){s(e,1)};var l="(){}[]";function u(t){for(var r=t.listSelections(),i=[],o=0;o<r.length;o++){var a=r[o],s=a.head,c=t.scanForBracket(s,-1);if(!c)return!1;for(;;){var u=t.scanForBracket(s,1);if(!u)return!1;if(u.ch==l.charAt(l.indexOf(c.ch)+1)){var d=n(c.pos.line,c.pos.ch+1);if(0!=e.cmpPos(d,a.from())||0!=e.cmpPos(u.pos,a.to())){i.push({anchor:d,head:u.pos});break}if(!(c=t.scanForBracket(c.pos,-1)))return!1}s=n(u.pos.line,u.pos.ch+1)}}return t.setSelections(i),!0}function d(e){return e?/\bpunctuation\b/.test(e)?e:void 0:null}function h(t,r){if(t.isReadOnly())return e.Pass;for(var i,o=t.listSelections(),a=[],s=0;s<o.length;s++){var c=o[s];if(!c.empty()){for(var l=c.from().line,u=c.to().line;s<o.length-1&&o[s+1].from().line==u;)u=o[++s].to().line;o[s].to().ch||u--,a.push(l,u)}}a.length?i=!0:a.push(t.firstLine(),t.lastLine()),t.operation((function(){for(var e=[],o=0;o<a.length;o+=2){var s=a[o],c=a[o+1],l=n(s,0),u=n(c),d=t.getRange(l,u,!1);r?d.sort():d.sort((function(e,t){var n=e.toUpperCase(),r=t.toUpperCase();return n!=r&&(e=n,t=r),e<t?-1:e==t?0:1})),t.replaceRange(d,l,u),i&&e.push({anchor:l,head:n(c+1,0)})}i&&t.setSelections(e,0)}))}function p(t,n){t.operation((function(){for(var r=t.listSelections(),i=[],o=[],s=0;s<r.length;s++)(l=r[s]).empty()?(i.push(s),o.push("")):o.push(n(t.getRange(l.from(),l.to())));var c;for(t.replaceSelections(o,"around","case"),s=i.length-1;s>=0;s--){var l=r[i[s]];if(!(c&&e.cmpPos(l.head,c)>0)){var u=a(t,l.head);c=u.from,t.replaceRange(n(u.word),u.from,u.to)}}}))}function f(t){var n=t.getCursor("from"),r=t.getCursor("to");if(0==e.cmpPos(n,r)){var i=a(t,n);if(!i.word)return;n=i.from,r=i.to}return{from:n,to:r,query:t.getRange(n,r),word:i}}function m(e,t){var r=f(e);if(r){var i=r.query,o=e.getSearchCursor(i,t?r.to:r.from);(t?o.findNext():o.findPrevious())?e.setSelection(o.from(),o.to()):(o=e.getSearchCursor(i,t?n(e.firstLine(),0):e.clipPos(n(e.lastLine()))),(t?o.findNext():o.findPrevious())?e.setSelection(o.from(),o.to()):r.word&&e.setSelection(r.from,r.to))}}t.selectScope=function(e){u(e)||e.execCommand("selectAll")},t.selectBetweenBrackets=function(t){if(!u(t))return e.Pass},t.goToBracket=function(t){t.extendSelectionsBy((function(r){var i=t.scanForBracket(r.head,1,d(t.getTokenTypeAt(r.head)));if(i&&0!=e.cmpPos(i.pos,r.head))return i.pos;var o=t.scanForBracket(r.head,-1,d(t.getTokenTypeAt(n(r.head.line,r.head.ch+1))));return o&&n(o.pos.line,o.pos.ch+1)||r.head}))},t.swapLineUp=function(t){if(t.isReadOnly())return e.Pass;for(var r=t.listSelections(),i=[],o=t.firstLine()-1,a=[],s=0;s<r.length;s++){var c=r[s],l=c.from().line-1,u=c.to().line;a.push({anchor:n(c.anchor.line-1,c.anchor.ch),head:n(c.head.line-1,c.head.ch)}),0!=c.to().ch||c.empty()||--u,l>o?i.push(l,u):i.length&&(i[i.length-1]=u),o=u}t.operation((function(){for(var e=0;e<i.length;e+=2){var r=i[e],o=i[e+1],s=t.getLine(r);t.replaceRange("",n(r,0),n(r+1,0),"+swapLine"),o>t.lastLine()?t.replaceRange("\n"+s,n(t.lastLine()),null,"+swapLine"):t.replaceRange(s+"\n",n(o,0),null,"+swapLine")}t.setSelections(a),t.scrollIntoView()}))},t.swapLineDown=function(t){if(t.isReadOnly())return e.Pass;for(var r=t.listSelections(),i=[],o=t.lastLine()+1,a=r.length-1;a>=0;a--){var s=r[a],c=s.to().line+1,l=s.from().line;0!=s.to().ch||s.empty()||c--,c<o?i.push(c,l):i.length&&(i[i.length-1]=l),o=l}t.operation((function(){for(var e=i.length-2;e>=0;e-=2){var r=i[e],o=i[e+1],a=t.getLine(r);r==t.lastLine()?t.replaceRange("",n(r-1),n(r),"+swapLine"):t.replaceRange("",n(r,0),n(r+1,0),"+swapLine"),t.replaceRange(a+"\n",n(o,0),null,"+swapLine")}t.scrollIntoView()}))},t.toggleCommentIndented=function(e){e.toggleComment({indent:!0})},t.joinLines=function(e){for(var t=e.listSelections(),r=[],i=0;i<t.length;i++){for(var o=t[i],a=o.from(),s=a.line,c=o.to().line;i<t.length-1&&t[i+1].from().line==c;)c=t[++i].to().line;r.push({start:s,end:c,anchor:!o.empty()&&a})}e.operation((function(){for(var t=0,i=[],o=0;o<r.length;o++){for(var a,s=r[o],c=s.anchor&&n(s.anchor.line-t,s.anchor.ch),l=s.start;l<=s.end;l++){var u=l-t;l==s.end&&(a=n(u,e.getLine(u).length+1)),u<e.lastLine()&&(e.replaceRange(" ",n(u),n(u+1,/^\s*/.exec(e.getLine(u+1))[0].length)),++t)}i.push({anchor:c||a,head:a})}e.setSelections(i,0)}))},t.duplicateLine=function(e){e.operation((function(){for(var t=e.listSelections().length,r=0;r<t;r++){var i=e.listSelections()[r];i.empty()?e.replaceRange(e.getLine(i.head.line)+"\n",n(i.head.line,0)):e.replaceRange(e.getRange(i.from(),i.to()),i.from())}e.scrollIntoView()}))},t.sortLines=function(e){h(e,!0)},t.sortLinesInsensitive=function(e){h(e,!1)},t.nextBookmark=function(e){var t=e.state.sublimeBookmarks;if(t)for(;t.length;){var n=t.shift(),r=n.find();if(r)return t.push(n),e.setSelection(r.from,r.to)}},t.prevBookmark=function(e){var t=e.state.sublimeBookmarks;if(t)for(;t.length;){t.unshift(t.pop());var n=t[t.length-1].find();if(n)return e.setSelection(n.from,n.to);t.pop()}},t.toggleBookmark=function(e){for(var t=e.listSelections(),n=e.state.sublimeBookmarks||(e.state.sublimeBookmarks=[]),r=0;r<t.length;r++){for(var i=t[r].from(),o=t[r].to(),a=t[r].empty()?e.findMarksAt(i):e.findMarks(i,o),s=0;s<a.length;s++)if(a[s].sublimeBookmark){a[s].clear();for(var c=0;c<n.length;c++)n[c]==a[s]&&n.splice(c--,1);break}s==a.length&&n.push(e.markText(i,o,{sublimeBookmark:!0,clearWhenEmpty:!1}))}},t.clearBookmarks=function(e){var t=e.state.sublimeBookmarks;if(t)for(var n=0;n<t.length;n++)t[n].clear();t.length=0},t.selectBookmarks=function(e){var t=e.state.sublimeBookmarks,n=[];if(t)for(var r=0;r<t.length;r++){var i=t[r].find();i?n.push({anchor:i.from,head:i.to}):t.splice(r--,0)}n.length&&e.setSelections(n,0)},t.smartBackspace=function(t){if(t.somethingSelected())return e.Pass;t.operation((function(){for(var r=t.listSelections(),i=t.getOption("indentUnit"),o=r.length-1;o>=0;o--){var a=r[o].head,s=t.getRange({line:a.line,ch:0},a),c=e.countColumn(s,null,t.getOption("tabSize")),l=t.findPosH(a,-1,"char",!1);if(s&&!/\S/.test(s)&&c%i==0){var u=new n(a.line,e.findColumn(s,c-i,i));u.ch!=a.ch&&(l=u)}t.replaceRange("",l,a,"+delete")}}))},t.delLineRight=function(e){e.operation((function(){for(var t=e.listSelections(),r=t.length-1;r>=0;r--)e.replaceRange("",t[r].anchor,n(t[r].to().line),"+delete");e.scrollIntoView()}))},t.upcaseAtCursor=function(e){p(e,(function(e){return e.toUpperCase()}))},t.downcaseAtCursor=function(e){p(e,(function(e){return e.toLowerCase()}))},t.setSublimeMark=function(e){e.state.sublimeMark&&e.state.sublimeMark.clear(),e.state.sublimeMark=e.setBookmark(e.getCursor())},t.selectToSublimeMark=function(e){var t=e.state.sublimeMark&&e.state.sublimeMark.find();t&&e.setSelection(e.getCursor(),t)},t.deleteToSublimeMark=function(t){var n=t.state.sublimeMark&&t.state.sublimeMark.find();if(n){var r=t.getCursor(),i=n;if(e.cmpPos(r,i)>0){var o=i;i=r,r=o}t.state.sublimeKilled=t.getRange(r,i),t.replaceRange("",r,i)}},t.swapWithSublimeMark=function(e){var t=e.state.sublimeMark&&e.state.sublimeMark.find();t&&(e.state.sublimeMark.clear(),e.state.sublimeMark=e.setBookmark(e.getCursor()),e.setCursor(t))},t.sublimeYank=function(e){null!=e.state.sublimeKilled&&e.replaceSelection(e.state.sublimeKilled,null,"paste")},t.showInCenter=function(e){var t=e.cursorCoords(null,"local");e.scrollTo(null,(t.top+t.bottom)/2-e.getScrollInfo().clientHeight/2)},t.findUnder=function(e){m(e,!0)},t.findUnderPrevious=function(e){m(e,!1)},t.findAllUnder=function(e){var t=f(e);if(t){for(var n=e.getSearchCursor(t.query),r=[],i=-1;n.findNext();)r.push({anchor:n.from(),head:n.to()}),n.from().line<=t.from.line&&n.from().ch<=t.from.ch&&i++;e.setSelections(r,i)}};var g=e.keyMap;g.macSublime={"Cmd-Left":"goLineStartSmart","Shift-Tab":"indentLess","Shift-Ctrl-K":"deleteLine","Alt-Q":"wrapLines","Ctrl-Left":"goSubwordLeft","Ctrl-Right":"goSubwordRight","Ctrl-Alt-Up":"scrollLineUp","Ctrl-Alt-Down":"scrollLineDown","Cmd-L":"selectLine","Shift-Cmd-L":"splitSelectionByLine",Esc:"singleSelectionTop","Cmd-Enter":"insertLineAfter","Shift-Cmd-Enter":"insertLineBefore","Cmd-D":"selectNextOccurrence","Shift-Cmd-Space":"selectScope","Shift-Cmd-M":"selectBetweenBrackets","Cmd-M":"goToBracket","Cmd-Ctrl-Up":"swapLineUp","Cmd-Ctrl-Down":"swapLineDown","Cmd-/":"toggleCommentIndented","Cmd-J":"joinLines","Shift-Cmd-D":"duplicateLine",F5:"sortLines","Cmd-F5":"sortLinesInsensitive",F2:"nextBookmark","Shift-F2":"prevBookmark","Cmd-F2":"toggleBookmark","Shift-Cmd-F2":"clearBookmarks","Alt-F2":"selectBookmarks",Backspace:"smartBackspace","Cmd-K Cmd-D":"skipAndSelectNextOccurrence","Cmd-K Cmd-K":"delLineRight","Cmd-K Cmd-U":"upcaseAtCursor","Cmd-K Cmd-L":"downcaseAtCursor","Cmd-K Cmd-Space":"setSublimeMark","Cmd-K Cmd-A":"selectToSublimeMark","Cmd-K Cmd-W":"deleteToSublimeMark","Cmd-K Cmd-X":"swapWithSublimeMark","Cmd-K Cmd-Y":"sublimeYank","Cmd-K Cmd-C":"showInCenter","Cmd-K Cmd-G":"clearBookmarks","Cmd-K Cmd-Backspace":"delLineLeft","Cmd-K Cmd-1":"foldAll","Cmd-K Cmd-0":"unfoldAll","Cmd-K Cmd-J":"unfoldAll","Ctrl-Shift-Up":"addCursorToPrevLine","Ctrl-Shift-Down":"addCursorToNextLine","Cmd-F3":"findUnder","Shift-Cmd-F3":"findUnderPrevious","Alt-F3":"findAllUnder","Shift-Cmd-[":"fold","Shift-Cmd-]":"unfold","Cmd-I":"findIncremental","Shift-Cmd-I":"findIncrementalReverse","Cmd-H":"replace",F3:"findNext","Shift-F3":"findPrev",fallthrough:"macDefault"},e.normalizeKeyMap(g.macSublime),g.pcSublime={"Shift-Tab":"indentLess","Shift-Ctrl-K":"deleteLine","Alt-Q":"wrapLines","Ctrl-T":"transposeChars","Alt-Left":"goSubwordLeft","Alt-Right":"goSubwordRight","Ctrl-Up":"scrollLineUp","Ctrl-Down":"scrollLineDown","Ctrl-L":"selectLine","Shift-Ctrl-L":"splitSelectionByLine",Esc:"singleSelectionTop","Ctrl-Enter":"insertLineAfter","Shift-Ctrl-Enter":"insertLineBefore","Ctrl-D":"selectNextOccurrence","Shift-Ctrl-Space":"selectScope","Shift-Ctrl-M":"selectBetweenBrackets","Ctrl-M":"goToBracket","Shift-Ctrl-Up":"swapLineUp","Shift-Ctrl-Down":"swapLineDown","Ctrl-/":"toggleCommentIndented","Ctrl-J":"joinLines","Shift-Ctrl-D":"duplicateLine",F9:"sortLines","Ctrl-F9":"sortLinesInsensitive",F2:"nextBookmark","Shift-F2":"prevBookmark","Ctrl-F2":"toggleBookmark","Shift-Ctrl-F2":"clearBookmarks","Alt-F2":"selectBookmarks",Backspace:"smartBackspace","Ctrl-K Ctrl-D":"skipAndSelectNextOccurrence","Ctrl-K Ctrl-K":"delLineRight","Ctrl-K Ctrl-U":"upcaseAtCursor","Ctrl-K Ctrl-L":"downcaseAtCursor","Ctrl-K Ctrl-Space":"setSublimeMark","Ctrl-K Ctrl-A":"selectToSublimeMark","Ctrl-K Ctrl-W":"deleteToSublimeMark","Ctrl-K Ctrl-X":"swapWithSublimeMark","Ctrl-K Ctrl-Y":"sublimeYank","Ctrl-K Ctrl-C":"showInCenter","Ctrl-K Ctrl-G":"clearBookmarks","Ctrl-K Ctrl-Backspace":"delLineLeft","Ctrl-K Ctrl-1":"foldAll","Ctrl-K Ctrl-0":"unfoldAll","Ctrl-K Ctrl-J":"unfoldAll","Ctrl-Alt-Up":"addCursorToPrevLine","Ctrl-Alt-Down":"addCursorToNextLine","Ctrl-F3":"findUnder","Shift-Ctrl-F3":"findUnderPrevious","Alt-F3":"findAllUnder","Shift-Ctrl-[":"fold","Shift-Ctrl-]":"unfold","Ctrl-I":"findIncremental","Shift-Ctrl-I":"findIncrementalReverse","Ctrl-H":"replace",F3:"findNext","Shift-F3":"findPrev",fallthrough:"pcDefault"},e.normalizeKeyMap(g.pcSublime);var v=g.default==g.macDefault;g.sublime=v?g.macSublime:g.pcSublime}(n("VrN/"),n("uTOq"),n("jDMi"))},mrFK:function(e,t,n){"use strict";n.r(t);var r=function(){var e={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CodeshareIdMeReconnectQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"Me",kind:"LinkedField",name:"me",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CodesharePageSubscription_me"}],storageKey:null},{args:null,kind:"FragmentSpread",name:"CodesharePage_viewer"}],storageKey:null}],type:"Query"},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"CodeshareIdMeReconnectQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"Me",kind:"LinkedField",name:"me",plural:!1,selections:[e,{alias:null,args:null,concreteType:"UserSettings",kind:"LinkedField",name:"settings",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"theme",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"keymap",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"anonymous",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"email",storageKey:null},{alias:null,args:[{kind:"Literal",name:"first",value:100}],concreteType:"SubscriptionPlanConnection",kind:"LinkedField",name:"subscriptionPlans",plural:!1,selections:[{alias:null,args:null,concreteType:"SubscriptionPlanConnectionEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"SubscriptionPlan",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"isActive",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"planId",storageKey:null},e],storageKey:null}],storageKey:null}],storageKey:"subscriptionPlans(first:100)"}],storageKey:null}],storageKey:null}]},params:{id:null,metadata:{},name:"CodeshareIdMeReconnectQuery",operationKind:"query",text:"query CodeshareIdMeReconnectQuery {\n  viewer {\n    ...CodesharePage_viewer\n    me {\n      ...CodesharePageSubscription_me\n      id\n    }\n  }\n}\n\nfragment AuthUserNavbar_me on Me {\n  anonymous\n  name\n  email\n  ...Gravatar_me\n}\n\nfragment CodeshareCodeMirror_me on Me {\n  id\n  ...useTheme_me\n  ...useKeymap_me\n}\n\nfragment CodeshareEditor_me on Me {\n  ...CodeshareFirepad_me\n}\n\nfragment CodeshareFirepad_me on Me {\n  id\n  ...CodeshareCodeMirror_me\n}\n\nfragment CodeshareHead_me on Me {\n  ...CodeshareLazyHead_me\n  ...useKeymap_me\n}\n\nfragment CodeshareKeymapFormField_me on Me {\n  ...useKeymap_me\n}\n\nfragment CodeshareLazyHead_me on Me {\n  ...useTheme_me\n}\n\nfragment CodeshareNavbar_me on Me {\n  anonymous\n  ...UserNavbar_me\n  ...CodeshareShareModal_me\n  ...PlansButton_me\n  ...isCodeshareProSubscriber_me\n}\n\nfragment CodesharePageSubscription_me on Me {\n  ...CodeshareSidebarSubscription_me\n}\n\nfragment CodesharePage_viewer on Viewer {\n  me {\n    ...CodeshareHead_me\n    ...CodeshareNavbar_me\n    ...CodeshareEditor_me\n    ...CodeshareSidebar_me\n    ...NagModal_me\n    ...isCodeshareProSubscriber_me\n    id\n  }\n}\n\nfragment CodesharePlans_me on Me {\n  anonymous\n  ...CodeshareProCheckoutModal_me\n  ...isCodeshareProSubscriber_me\n  ...LoginRegisterModal_me\n}\n\nfragment CodeshareProCheckoutModal_me on Me {\n  ...CodeshareProForm_me\n}\n\nfragment CodeshareProForm_me on Me {\n  id\n  email\n}\n\nfragment CodeshareProModal_me on Me {\n  ...CodesharePlans_me\n}\n\nfragment CodeshareSettingsFormSubscription_me on Me {\n  ...CodeshareThemeFormField_me\n  ...CodeshareKeymapFormField_me\n}\n\nfragment CodeshareSettingsForm_me on Me {\n  anonymous\n  ...CodeshareThemeFormField_me\n  ...CodeshareKeymapFormField_me\n}\n\nfragment CodeshareShareModal_me on Me {\n  ...CodeshareViewOnlyCheckbox_me\n}\n\nfragment CodeshareSidebarSubscription_me on Me {\n  ...CodeshareSettingsFormSubscription_me\n}\n\nfragment CodeshareSidebar_me on Me {\n  ...CodeshareSettingsForm_me\n}\n\nfragment CodeshareThemeFormField_me on Me {\n  ...useTheme_me\n}\n\nfragment CodeshareViewOnlyCheckbox_me on Me {\n  anonymous\n  ...isCodeshareProSubscriber_me\n  ...CodeshareProModal_me\n}\n\nfragment Gravatar_me on Me {\n  name\n  email\n}\n\nfragment LoginForm_me on Me {\n  id\n}\n\nfragment LoginRegisterModal_me on Me {\n  ...LoginForm_me\n  ...RegisterForm_me\n}\n\nfragment NagModal_me on Me {\n  anonymous\n  ...LoginRegisterModal_me\n}\n\nfragment PlansButton_me on Me {\n  ...CodeshareProModal_me\n}\n\nfragment RegisterForm_me on Me {\n  id\n}\n\nfragment UserNavbar_me on Me {\n  anonymous\n  ...AuthUserNavbar_me\n}\n\nfragment isCodeshareProSubscriber_me on Me {\n  subscriptionPlans(first: 100) {\n    edges {\n      node {\n        isActive\n        planId\n        id\n      }\n    }\n  }\n}\n\nfragment useKeymap_me on Me {\n  id\n  settings {\n    keymap\n  }\n}\n\nfragment useTheme_me on Me {\n  id\n  settings {\n    theme\n  }\n}\n"}}}();r.hash="2ed944020620e7a45ce34fc3ff657089",t.default=r},nT4e:function(e,t,n){"use strict";n.r(t);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useCodeshareUsers_codeshare",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{args:null,kind:"FragmentSpread",name:"refetchableCodeshareUserEdges_codeshare"}],type:"Codeshare",hash:"513bdbea2543cc4c38d2e51a3423bff8"};t.default=r},npsY:function(e,t,n){"use strict";n.r(t);var r=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input",type:"MeUpdatesInput!"}],t=[{kind:"Variable",name:"input",variableName:"input"}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"CodeshareIdMeSubscription",selections:[{alias:null,args:t,concreteType:"ViewerResponse",kind:"LinkedField",name:"meUpdates",plural:!1,selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"Me",kind:"LinkedField",name:"me",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CodesharePageSubscription_me"}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Subscription"},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"CodeshareIdMeSubscription",selections:[{alias:null,args:t,concreteType:"ViewerResponse",kind:"LinkedField",name:"meUpdates",plural:!1,selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"Me",kind:"LinkedField",name:"me",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,concreteType:"UserSettings",kind:"LinkedField",name:"settings",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"theme",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"keymap",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:null,metadata:{},name:"CodeshareIdMeSubscription",operationKind:"subscription",text:"subscription CodeshareIdMeSubscription(\n  $input: MeUpdatesInput!\n) {\n  meUpdates(input: $input) {\n    viewer {\n      me {\n        ...CodesharePageSubscription_me\n        id\n      }\n    }\n  }\n}\n\nfragment CodeshareKeymapFormField_me on Me {\n  ...useKeymap_me\n}\n\nfragment CodesharePageSubscription_me on Me {\n  ...CodeshareSidebarSubscription_me\n}\n\nfragment CodeshareSettingsFormSubscription_me on Me {\n  ...CodeshareThemeFormField_me\n  ...CodeshareKeymapFormField_me\n}\n\nfragment CodeshareSidebarSubscription_me on Me {\n  ...CodeshareSettingsFormSubscription_me\n}\n\nfragment CodeshareThemeFormField_me on Me {\n  ...useTheme_me\n}\n\nfragment useKeymap_me on Me {\n  id\n  settings {\n    keymap\n  }\n}\n\nfragment useTheme_me on Me {\n  id\n  settings {\n    theme\n  }\n}\n"}}}();r.hash="6cdaa35b9eb7396fececbcbf027dc495",t.default=r},ntO6:function(e,t,n){"use strict";n.r(t);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useKeymap_me",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,concreteType:"UserSettings",kind:"LinkedField",name:"settings",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"keymap",storageKey:null}],storageKey:null}],type:"Me",hash:"f938cf467b5419b69055f128973a9a9e"};t.default=r},ojuT:function(e,t){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},oq8A:function(e,t,n){"use strict";n.r(t);var r=function(){var e=["codeHistory"],t={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"userId",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"me",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"historyId",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"createdAt",storageKey:null},c={alias:null,args:null,concreteType:"CreatedBy",kind:"LinkedField",name:"createdBy",plural:!1,selections:[i,r,{alias:null,args:null,kind:"ScalarField",name:"clientId",storageKey:null}],storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null};return{argumentDefinitions:[{kind:"RootArgument",name:"codeHistoryAfter",type:"String"},{kind:"RootArgument",name:"codeHistoryFirst",type:"Int!"}],kind:"Fragment",metadata:{connection:[{count:"codeHistoryFirst",cursor:"codeHistoryAfter",direction:"forward",path:e}],refetch:{connection:{forward:{count:"codeHistoryFirst",cursor:"codeHistoryAfter"},backward:null,path:e},fragmentPathInResult:["node"],operation:n("SQWV"),identifierField:"id"}},name:"refetchableCodeHistoryEdges_codeshare",selections:[t,{alias:null,args:null,concreteType:"CreatedBy",kind:"LinkedField",name:"createdBy",plural:!1,selections:[r,i],storageKey:null},{alias:null,args:null,concreteType:"CodeCheckpoint",kind:"LinkedField",name:"codeCheckpoint",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"codeHistoryId",storageKey:null},o,{alias:null,args:null,concreteType:"CodeHistoryEdge",kind:"LinkedField",name:"codeHistoryEdge",plural:!1,selections:[{alias:null,args:null,concreteType:"CodeHistory",kind:"LinkedField",name:"node",plural:!1,selections:[t,a,o,s,c],storageKey:null},l],storageKey:null}],storageKey:null},{alias:"codeHistory",args:null,concreteType:"CodeHistoryConnection",kind:"LinkedField",name:"__Codeshare_codeHistory_connection",plural:!1,selections:[{alias:null,args:null,concreteType:"CodeHistoryConnectionEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"CodeHistory",kind:"LinkedField",name:"node",plural:!1,selections:[t,a,o,s,c,{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},l],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null}],storageKey:null}],type:"Codeshare"}}();r.hash="5480aec223e32374eed87a6905412379",t.default=r},ov4Y:function(e,t,n){"use strict";n.r(t);var r=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input",type:"UpdateCodeshareInput!"}],t=[{alias:null,args:[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"UpdateCodeshareResponse",kind:"LinkedField",name:"updateCodeshare",plural:!1,selections:[{alias:null,args:null,concreteType:"Codeshare",kind:"LinkedField",name:"codeshare",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"createdAt",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"useCodeshareTitleMutation",selections:t,type:"Mutation"},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"useCodeshareTitleMutation",selections:t},params:{id:null,metadata:{},name:"useCodeshareTitleMutation",operationKind:"mutation",text:"mutation useCodeshareTitleMutation(\n  $input: UpdateCodeshareInput!\n) {\n  updateCodeshare(input: $input) {\n    codeshare {\n      id\n      createdAt\n      title\n    }\n  }\n}\n"}}}();r.hash="61bcd8eb4195f64f02bc9397bd92c923",t.default=r},"oxK+":function(e,t,n){"use strict";var r=n("KCt4"),i=n("zFjM").log,o={shimPeerConnection:function(){window.RTCIceGatherer&&(window.RTCIceCandidate||(window.RTCIceCandidate=function(e){return e}),window.RTCSessionDescription||(window.RTCSessionDescription=function(e){return e})),window.RTCPeerConnection=function(e){var t=this,n=document.createDocumentFragment();if(["addEventListener","removeEventListener","dispatchEvent"].forEach((function(e){t[e]=n[e].bind(n)})),this.onicecandidate=null,this.onaddstream=null,this.ontrack=null,this.onremovestream=null,this.onsignalingstatechange=null,this.oniceconnectionstatechange=null,this.onnegotiationneeded=null,this.ondatachannel=null,this.localStreams=[],this.remoteStreams=[],this.getLocalStreams=function(){return t.localStreams},this.getRemoteStreams=function(){return t.remoteStreams},this.localDescription=new RTCSessionDescription({type:"",sdp:""}),this.remoteDescription=new RTCSessionDescription({type:"",sdp:""}),this.signalingState="stable",this.iceConnectionState="new",this.iceGatheringState="new",this.iceOptions={gatherPolicy:"all",iceServers:[]},e&&e.iceTransportPolicy)switch(e.iceTransportPolicy){case"all":case"relay":this.iceOptions.gatherPolicy=e.iceTransportPolicy;break;case"none":throw new TypeError('iceTransportPolicy "none" not supported')}if(this.usingBundle=e&&"max-bundle"===e.bundlePolicy,e&&e.iceServers){var r=JSON.parse(JSON.stringify(e.iceServers));this.iceOptions.iceServers=r.filter((function(e){if(e&&e.urls){var t=e.urls;return"string"===typeof t&&(t=[t]),!!(t=t.filter((function(e){return 0===e.indexOf("turn:")&&-1!==e.indexOf("transport=udp")}))[0])}return!1}))}this.transceivers=[],this._localIceCandidatesBuffer=[]},window.RTCPeerConnection.prototype._emitBufferedCandidates=function(){var e=this,t=r.splitSections(e.localDescription.sdp);this._localIceCandidatesBuffer.forEach((function(n){if(!n.candidate||0===Object.keys(n.candidate).length)for(var r=1;r<t.length;r++)-1===t[r].indexOf("\r\na=end-of-candidates\r\n")&&(t[r]+="a=end-of-candidates\r\n");else-1===n.candidate.candidate.indexOf("typ endOfCandidates")&&(t[n.candidate.sdpMLineIndex+1]+="a="+n.candidate.candidate+"\r\n");(e.localDescription.sdp=t.join(""),e.dispatchEvent(n),null!==e.onicecandidate&&e.onicecandidate(n),n.candidate||"complete"===e.iceGatheringState)||e.transceivers.every((function(e){return e.iceGatherer&&"completed"===e.iceGatherer.state}))&&(e.iceGatheringState="complete")})),this._localIceCandidatesBuffer=[]},window.RTCPeerConnection.prototype.addStream=function(e){this.localStreams.push(e.clone()),this._maybeFireNegotiationNeeded()},window.RTCPeerConnection.prototype.removeStream=function(e){var t=this.localStreams.indexOf(e);t>-1&&(this.localStreams.splice(t,1),this._maybeFireNegotiationNeeded())},window.RTCPeerConnection.prototype.getSenders=function(){return this.transceivers.filter((function(e){return!!e.rtpSender})).map((function(e){return e.rtpSender}))},window.RTCPeerConnection.prototype.getReceivers=function(){return this.transceivers.filter((function(e){return!!e.rtpReceiver})).map((function(e){return e.rtpReceiver}))},window.RTCPeerConnection.prototype._getCommonCapabilities=function(e,t){var n={codecs:[],headerExtensions:[],fecMechanisms:[]};return e.codecs.forEach((function(e){for(var r=0;r<t.codecs.length;r++){var i=t.codecs[r];if(e.name.toLowerCase()===i.name.toLowerCase()&&e.clockRate===i.clockRate&&e.numChannels===i.numChannels){n.codecs.push(i);break}}})),e.headerExtensions.forEach((function(e){for(var r=0;r<t.headerExtensions.length;r++){var i=t.headerExtensions[r];if(e.uri===i.uri){n.headerExtensions.push(i);break}}})),n},window.RTCPeerConnection.prototype._createIceAndDtlsTransports=function(e,t){var n=this,i=new RTCIceGatherer(n.iceOptions),o=new RTCIceTransport(i);i.onlocalcandidate=function(a){var s=new Event("icecandidate");s.candidate={sdpMid:e,sdpMLineIndex:t};var c=a.candidate,l=!c||0===Object.keys(c).length;l?(void 0===i.state&&(i.state="completed"),s.candidate.candidate="candidate:1 1 udp 1 0.0.0.0 9 typ endOfCandidates"):(c.component="RTCP"===o.component?2:1,s.candidate.candidate=r.writeCandidate(c));var u=r.splitSections(n.localDescription.sdp);-1===s.candidate.candidate.indexOf("typ endOfCandidates")?u[s.candidate.sdpMLineIndex+1]+="a="+s.candidate.candidate+"\r\n":u[s.candidate.sdpMLineIndex+1]+="a=end-of-candidates\r\n",n.localDescription.sdp=u.join("");var d=n.transceivers.every((function(e){return e.iceGatherer&&"completed"===e.iceGatherer.state}));switch(n.iceGatheringState){case"new":n._localIceCandidatesBuffer.push(s),l&&d&&n._localIceCandidatesBuffer.push(new Event("icecandidate"));break;case"gathering":n._emitBufferedCandidates(),n.dispatchEvent(s),null!==n.onicecandidate&&n.onicecandidate(s),d&&(n.dispatchEvent(new Event("icecandidate")),null!==n.onicecandidate&&n.onicecandidate(new Event("icecandidate")),n.iceGatheringState="complete")}},o.onicestatechange=function(){n._updateConnectionState()};var a=new RTCDtlsTransport(o);return a.ondtlsstatechange=function(){n._updateConnectionState()},a.onerror=function(){a.state="failed",n._updateConnectionState()},{iceGatherer:i,iceTransport:o,dtlsTransport:a}},window.RTCPeerConnection.prototype._transceive=function(e,t,n){var i=this._getCommonCapabilities(e.localCapabilities,e.remoteCapabilities);t&&e.rtpSender&&(i.encodings=e.sendEncodingParameters,i.rtcp={cname:r.localCName},e.recvEncodingParameters.length&&(i.rtcp.ssrc=e.recvEncodingParameters[0].ssrc),e.rtpSender.send(i)),n&&e.rtpReceiver&&(i.encodings=e.recvEncodingParameters,i.rtcp={cname:e.cname},e.sendEncodingParameters.length&&(i.rtcp.ssrc=e.sendEncodingParameters[0].ssrc),e.rtpReceiver.receive(i))},window.RTCPeerConnection.prototype.setLocalDescription=function(e){var t,n,i=this;if("offer"===e.type)this._pendingOffer&&(t=r.splitSections(e.sdp),n=t.shift(),t.forEach((function(e,t){var n=r.parseRtpParameters(e);i._pendingOffer[t].localCapabilities=n})),this.transceivers=this._pendingOffer,delete this._pendingOffer);else if("answer"===e.type){t=r.splitSections(i.remoteDescription.sdp),n=t.shift();var o=r.matchPrefix(n,"a=ice-lite").length>0;t.forEach((function(e,t){var a=i.transceivers[t],s=a.iceGatherer,c=a.iceTransport,l=a.dtlsTransport,u=a.localCapabilities,d=a.remoteCapabilities;if(!("0"===e.split("\n",1)[0].split(" ",2)[1])){var h=r.getIceParameters(e,n);if(o){var p=r.matchPrefix(e,"a=candidate:").map((function(e){return r.parseCandidate(e)})).filter((function(e){return"1"===e.component}));p.length&&c.setRemoteCandidates(p)}var f=r.getDtlsParameters(e,n);o&&(f.role="server"),i.usingBundle&&0!==t||(c.start(s,h,o?"controlling":"controlled"),l.start(f));var m=i._getCommonCapabilities(u,d);i._transceive(a,m.codecs.length>0,!1)}}))}switch(this.localDescription={type:e.type,sdp:e.sdp},e.type){case"offer":this._updateSignalingState("have-local-offer");break;case"answer":this._updateSignalingState("stable");break;default:throw new TypeError('unsupported type "'+e.type+'"')}var a=arguments.length>1&&"function"===typeof arguments[1];if(a){var s=arguments[1];window.setTimeout((function(){s(),"new"===i.iceGatheringState&&(i.iceGatheringState="gathering"),i._emitBufferedCandidates()}),0)}var c=Promise.resolve();return c.then((function(){a||("new"===i.iceGatheringState&&(i.iceGatheringState="gathering"),window.setTimeout(i._emitBufferedCandidates.bind(i),500))})),c},window.RTCPeerConnection.prototype.setRemoteDescription=function(e){var t=this,n=new MediaStream,i=[],o=r.splitSections(e.sdp),a=o.shift(),s=r.matchPrefix(a,"a=ice-lite").length>0;switch(this.usingBundle=r.matchPrefix(a,"a=group:BUNDLE ").length>0,o.forEach((function(o,c){var l,u,d,h,p,f,m,g,v,y,b,C,w=r.splitLines(o)[0].substr(2).split(" "),S=w[0],k="0"===w[1],x=r.getDirection(o,a),E=r.parseRtpParameters(o);k||(b=r.getIceParameters(o,a),(C=r.getDtlsParameters(o,a)).role="client"),g=r.parseRtpEncodingParameters(o);var T,_=r.matchPrefix(o,"a=mid:");_=_.length?_[0].substr(6):r.generateIdentifier();var O=r.matchPrefix(o,"a=ssrc:").map((function(e){return r.parseSsrcMedia(e)})).filter((function(e){return"cname"===e.attribute}))[0];O&&(T=O.value);var L=r.matchPrefix(o,"a=end-of-candidates").length>0,M=r.matchPrefix(o,"a=candidate:").map((function(e){return r.parseCandidate(e)})).filter((function(e){return"1"===e.component}));if("offer"!==e.type||k)"answer"!==e.type||k||(u=(l=t.transceivers[c]).iceGatherer,d=l.iceTransport,h=l.dtlsTransport,p=l.rtpSender,f=l.rtpReceiver,m=l.sendEncodingParameters,v=l.localCapabilities,t.transceivers[c].recvEncodingParameters=g,t.transceivers[c].remoteCapabilities=E,t.transceivers[c].cname=T,(s||L)&&M.length&&d.setRemoteCandidates(M),t.usingBundle&&0!==c||(d.start(u,b,"controlling"),h.start(C)),t._transceive(l,"sendrecv"===x||"recvonly"===x,"sendrecv"===x||"sendonly"===x),!f||"sendrecv"!==x&&"sendonly"!==x?delete l.rtpReceiver:(y=f.track,i.push([y,f]),n.addTrack(y)));else{var F=t.usingBundle&&c>0?{iceGatherer:t.transceivers[0].iceGatherer,iceTransport:t.transceivers[0].iceTransport,dtlsTransport:t.transceivers[0].dtlsTransport}:t._createIceAndDtlsTransports(_,c);if(L&&F.iceTransport.setRemoteCandidates(M),v=RTCRtpReceiver.getCapabilities(S),m=[{ssrc:1001*(2*c+2)}],y=(f=new RTCRtpReceiver(F.dtlsTransport,S)).track,i.push([y,f]),n.addTrack(y),t.localStreams.length>0&&t.localStreams[0].getTracks().length>=c){var R=t.localStreams[0].getTracks()[c];p=new RTCRtpSender(R,F.dtlsTransport)}t.transceivers[c]={iceGatherer:F.iceGatherer,iceTransport:F.iceTransport,dtlsTransport:F.dtlsTransport,localCapabilities:v,remoteCapabilities:E,rtpSender:p,rtpReceiver:f,kind:S,mid:_,cname:T,sendEncodingParameters:m,recvEncodingParameters:g},t._transceive(t.transceivers[c],!1,"sendrecv"===x||"sendonly"===x)}})),this.remoteDescription={type:e.type,sdp:e.sdp},e.type){case"offer":this._updateSignalingState("have-remote-offer");break;case"answer":this._updateSignalingState("stable");break;default:throw new TypeError('unsupported type "'+e.type+'"')}return n.getTracks().length&&(t.remoteStreams.push(n),window.setTimeout((function(){var e=new Event("addstream");e.stream=n,t.dispatchEvent(e),null!==t.onaddstream&&window.setTimeout((function(){t.onaddstream(e)}),0),i.forEach((function(r){var i=r[0],o=r[1],a=new Event("track");a.track=i,a.receiver=o,a.streams=[n],t.dispatchEvent(e),null!==t.ontrack&&window.setTimeout((function(){t.ontrack(a)}),0)}))}),0)),arguments.length>1&&"function"===typeof arguments[1]&&window.setTimeout(arguments[1],0),Promise.resolve()},window.RTCPeerConnection.prototype.close=function(){this.transceivers.forEach((function(e){e.iceTransport&&e.iceTransport.stop(),e.dtlsTransport&&e.dtlsTransport.stop(),e.rtpSender&&e.rtpSender.stop(),e.rtpReceiver&&e.rtpReceiver.stop()})),this._updateSignalingState("closed")},window.RTCPeerConnection.prototype._updateSignalingState=function(e){this.signalingState=e;var t=new Event("signalingstatechange");this.dispatchEvent(t),null!==this.onsignalingstatechange&&this.onsignalingstatechange(t)},window.RTCPeerConnection.prototype._maybeFireNegotiationNeeded=function(){var e=new Event("negotiationneeded");this.dispatchEvent(e),null!==this.onnegotiationneeded&&this.onnegotiationneeded(e)},window.RTCPeerConnection.prototype._updateConnectionState=function(){var e,t={new:0,closed:0,connecting:0,checking:0,connected:0,completed:0,failed:0};if(this.transceivers.forEach((function(e){t[e.iceTransport.state]++,t[e.dtlsTransport.state]++})),t.connected+=t.completed,e="new",t.failed>0?e="failed":t.connecting>0||t.checking>0?e="connecting":t.disconnected>0?e="disconnected":t.new>0?e="new":(t.connected>0||t.completed>0)&&(e="connected"),e!==this.iceConnectionState){this.iceConnectionState=e;var n=new Event("iceconnectionstatechange");this.dispatchEvent(n),null!==this.oniceconnectionstatechange&&this.oniceconnectionstatechange(n)}},window.RTCPeerConnection.prototype.createOffer=function(){var e,t=this;if(this._pendingOffer)throw new Error("createOffer called while there is a pending offer.");1===arguments.length&&"function"!==typeof arguments[0]?e=arguments[0]:3===arguments.length&&(e=arguments[2]);var n=[],i=0,o=0;if(this.localStreams.length&&(i=this.localStreams[0].getAudioTracks().length,o=this.localStreams[0].getVideoTracks().length),e){if(e.mandatory||e.optional)throw new TypeError("Legacy mandatory/optional constraints not supported.");void 0!==e.offerToReceiveAudio&&(i=e.offerToReceiveAudio),void 0!==e.offerToReceiveVideo&&(o=e.offerToReceiveVideo)}for(this.localStreams.length&&this.localStreams[0].getTracks().forEach((function(e){n.push({kind:e.kind,track:e,wantReceive:"audio"===e.kind?i>0:o>0}),"audio"===e.kind?i--:"video"===e.kind&&o--}));i>0||o>0;)i>0&&(n.push({kind:"audio",wantReceive:!0}),i--),o>0&&(n.push({kind:"video",wantReceive:!0}),o--);var a=r.writeSessionBoilerplate(),s=[];n.forEach((function(e,n){var i,o,a=e.track,c=e.kind,l=r.generateIdentifier(),u=t.usingBundle&&n>0?{iceGatherer:s[0].iceGatherer,iceTransport:s[0].iceTransport,dtlsTransport:s[0].dtlsTransport}:t._createIceAndDtlsTransports(l,n),d=RTCRtpSender.getCapabilities(c),h=[{ssrc:1001*(2*n+1)}];a&&(i=new RTCRtpSender(a,u.dtlsTransport)),e.wantReceive&&(o=new RTCRtpReceiver(u.dtlsTransport,c)),s[n]={iceGatherer:u.iceGatherer,iceTransport:u.iceTransport,dtlsTransport:u.dtlsTransport,localCapabilities:d,remoteCapabilities:null,rtpSender:i,rtpReceiver:o,kind:c,mid:l,sendEncodingParameters:h,recvEncodingParameters:null}})),this.usingBundle&&(a+="a=group:BUNDLE "+s.map((function(e){return e.mid})).join(" ")+"\r\n"),n.forEach((function(e,n){var i=s[n];a+=r.writeMediaSection(i,i.localCapabilities,"offer",t.localStreams[0])})),this._pendingOffer=s;var c=new RTCSessionDescription({type:"offer",sdp:a});return arguments.length&&"function"===typeof arguments[0]&&window.setTimeout(arguments[0],0,c),Promise.resolve(c)},window.RTCPeerConnection.prototype.createAnswer=function(){var e=this,t=r.writeSessionBoilerplate();this.usingBundle&&(t+="a=group:BUNDLE "+this.transceivers.map((function(e){return e.mid})).join(" ")+"\r\n"),this.transceivers.forEach((function(n){var i=e._getCommonCapabilities(n.localCapabilities,n.remoteCapabilities);t+=r.writeMediaSection(n,i,"answer",e.localStreams[0])}));var n=new RTCSessionDescription({type:"answer",sdp:t});return arguments.length&&"function"===typeof arguments[0]&&window.setTimeout(arguments[0],0,n),Promise.resolve(n)},window.RTCPeerConnection.prototype.addIceCandidate=function(e){if(null===e)this.transceivers.forEach((function(e){e.iceTransport.addRemoteCandidate({})}));else{var t=e.sdpMLineIndex;if(e.sdpMid)for(var n=0;n<this.transceivers.length;n++)if(this.transceivers[n].mid===e.sdpMid){t=n;break}var i=this.transceivers[t];if(i){var o=Object.keys(e.candidate).length>0?r.parseCandidate(e.candidate):{};if("tcp"===o.protocol&&0===o.port)return;if("1"!==o.component)return;"endOfCandidates"===o.type&&(o={}),i.iceTransport.addRemoteCandidate(o);var a=r.splitSections(this.remoteDescription.sdp);a[t+1]+=(o.type?e.candidate.trim():"a=end-of-candidates")+"\r\n",this.remoteDescription.sdp=a.join("")}}return arguments.length>1&&"function"===typeof arguments[1]&&window.setTimeout(arguments[1],0),Promise.resolve()},window.RTCPeerConnection.prototype.getStats=function(){var e=[];this.transceivers.forEach((function(t){["rtpSender","rtpReceiver","iceGatherer","iceTransport","dtlsTransport"].forEach((function(n){t[n]&&e.push(t[n].getStats())}))}));var t=arguments.length>1&&"function"===typeof arguments[1]&&arguments[1];return new Promise((function(n){var r=new Map;Promise.all(e).then((function(e){e.forEach((function(e){Object.keys(e).forEach((function(t){r.set(t,e[t]),r[t]=e[t]}))})),t&&window.setTimeout(t,0,r),n(r)}))}))}},attachMediaStream:function(e,t){i("DEPRECATED, attachMediaStream will soon be removed."),e.srcObject=t},reattachMediaStream:function(e,t){i("DEPRECATED, reattachMediaStream will soon be removed."),e.srcObject=t.srcObject}};e.exports={shimPeerConnection:o.shimPeerConnection,shimGetUserMedia:n("OEux"),attachMediaStream:o.attachMediaStream,reattachMediaStream:o.reattachMediaStream}},p7Ng:function(e,t){function n(){}e.exports=n,n.mixin=function(e){var t=e.prototype||e;t.isWildEmitter=!0,t.on=function(e,t,n){this.callbacks=this.callbacks||{};var r=3===arguments.length,i=r?arguments[1]:void 0,o=r?arguments[2]:arguments[1];return o._groupName=i,(this.callbacks[e]=this.callbacks[e]||[]).push(o),this},t.once=function(e,t,n){var r=this,i=3===arguments.length,o=i?arguments[1]:void 0,a=i?arguments[2]:arguments[1];function s(){r.off(e,s),a.apply(this,arguments)}return this.on(e,o,s),this},t.releaseGroup=function(e){var t,n,r,i;for(t in this.callbacks=this.callbacks||{},this.callbacks)for(n=0,r=(i=this.callbacks[t]).length;n<r;n++)i[n]._groupName===e&&(i.splice(n,1),n--,r--);return this},t.off=function(e,t){this.callbacks=this.callbacks||{};var n,r=this.callbacks[e];return r?1===arguments.length?(delete this.callbacks[e],this):(-1!==(n=r.indexOf(t))&&(r.splice(n,1),0===r.length&&delete this.callbacks[e]),this):this},t.emit=function(e){this.callbacks=this.callbacks||{};var t,n,r,i=[].slice.call(arguments,1),o=this.callbacks[e],a=this.getWildcardCallbacks(e);if(o)for(t=0,n=(r=o.slice()).length;t<n&&r[t];++t)r[t].apply(this,i);if(a)for(n=a.length,t=0,n=(r=a.slice()).length;t<n&&r[t];++t)r[t].apply(this,[e].concat(i));return this},t.getWildcardCallbacks=function(e){this.callbacks=this.callbacks||{};var t,n,r=[];for(t in this.callbacks)n=t.split("*"),("*"===t||2===n.length&&e.slice(0,n[0].length)===n[0])&&(r=r.concat(this.callbacks[t]));return r}},n.mixin(n)},pXin:function(e,t,n){"use strict";var r=n("lVut").log,i=n("lVut").browserDetails;e.exports=function(){var e=function(e){return{name:{SecurityError:"NotAllowedError",PermissionDeniedError:"NotAllowedError"}[e.name]||e.name,message:{"The operation is insecure.":"The request is not allowed by the user agent or the platform in the current context."}[e.message]||e.message,constraint:e.constraint,toString:function(){return this.name+(this.message&&": ")+this.message}}},t=function(t,n,o){var a=function(e){if("object"!==typeof e||e.require)return e;var t=[];return Object.keys(e).forEach((function(n){if("require"!==n&&"advanced"!==n&&"mediaSource"!==n){var r=e[n]="object"===typeof e[n]?e[n]:{ideal:e[n]};if(void 0===r.min&&void 0===r.max&&void 0===r.exact||t.push(n),void 0!==r.exact&&("number"===typeof r.exact?r.min=r.max=r.exact:e[n]=r.exact,delete r.exact),void 0!==r.ideal){e.advanced=e.advanced||[];var i={};"number"===typeof r.ideal?i[n]={min:r.ideal,max:r.ideal}:i[n]=r.ideal,e.advanced.push(i),delete r.ideal,Object.keys(r).length||delete e[n]}}})),t.length&&(e.require=t),e};return t=JSON.parse(JSON.stringify(t)),i.version<38&&(r("spec: "+JSON.stringify(t)),t.audio&&(t.audio=a(t.audio)),t.video&&(t.video=a(t.video)),r("ff37: "+JSON.stringify(t))),navigator.mozGetUserMedia(t,n,(function(t){o(e(t))}))};if(navigator.mediaDevices||(navigator.mediaDevices={getUserMedia:function(e){return new Promise((function(n,r){t(e,n,r)}))},addEventListener:function(){},removeEventListener:function(){}}),navigator.mediaDevices.enumerateDevices=navigator.mediaDevices.enumerateDevices||function(){return new Promise((function(e){e([{kind:"audioinput",deviceId:"default",label:"",groupId:""},{kind:"videoinput",deviceId:"default",label:"",groupId:""}])}))},i.version<41){var n=navigator.mediaDevices.enumerateDevices.bind(navigator.mediaDevices);navigator.mediaDevices.enumerateDevices=function(){return n().then(void 0,(function(e){if("NotFoundError"===e.name)return[];throw e}))}}if(i.version<49){var o=navigator.mediaDevices.getUserMedia.bind(navigator.mediaDevices);navigator.mediaDevices.getUserMedia=function(t){return o(t).then((function(e){if(t.audio&&!e.getAudioTracks().length||t.video&&!e.getVideoTracks().length)throw e.getTracks().forEach((function(e){e.stop()})),new DOMException("The object can not be found here.","NotFoundError");return e}),(function(t){return Promise.reject(e(t))}))}}navigator.getUserMedia=function(e,n,r){if(i.version<44)return t(e,n,r);console.warn("navigator.getUserMedia has been replaced by navigator.mediaDevices.getUserMedia"),navigator.mediaDevices.getUserMedia(e).then(n,r)}}},pqWs:function(e,t,n){"use strict";n.r(t);var r=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input",type:"CodeHistoryCreationsInput!"}],t=[{alias:null,args:[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"CodeHistoryCreationsPayload",kind:"LinkedField",name:"codeHistoryCreations",plural:!1,selections:[{alias:null,args:null,concreteType:"CodeHistoryEdge",kind:"LinkedField",name:"newCodeHistoryEdge",plural:!1,selections:[{alias:null,args:null,concreteType:"CodeHistory",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"codeshareId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"createdAt",storageKey:null},{alias:null,args:null,concreteType:"CreatedBy",kind:"LinkedField",name:"createdBy",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"me",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"userId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"clientId",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"historyId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"onCodeHistoryCreationsSubscription",selections:t,type:"Subscription"},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"onCodeHistoryCreationsSubscription",selections:t},params:{id:null,metadata:{},name:"onCodeHistoryCreationsSubscription",operationKind:"subscription",text:"subscription onCodeHistoryCreationsSubscription(\n  $input: CodeHistoryCreationsInput!\n) {\n  codeHistoryCreations(input: $input) {\n    newCodeHistoryEdge {\n      node {\n        id\n        codeshareId\n        createdAt\n        createdBy {\n          me\n          userId\n          clientId\n        }\n        historyId\n        value\n      }\n      cursor\n    }\n  }\n}\n"}}}();r.hash="f6d7c029ab638b9d8572870aacf131d9",t.default=r},psW0:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("mrSG"),i=n("zotm"),o=n("MGBS"),a=n("rPjj"),s=n("67Y/"),c=n("0/uQ");function l(e,t,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),"function"===typeof t?function(r){return r.pipe(l((function(n,r){return Object(c.a)(e(n,r)).pipe(Object(s.a)((function(e,i){return t(n,e,r,i)})))}),n))}:("number"===typeof t&&(n=t),function(t){return t.lift(new u(e,n))})}var u=function(){function e(e,t){void 0===t&&(t=Number.POSITIVE_INFINITY),this.project=e,this.concurrent=t}return e.prototype.call=function(e,t){return t.subscribe(new d(e,this.project,this.concurrent))},e}(),d=function(e){function t(t,n,r){void 0===r&&(r=Number.POSITIVE_INFINITY);var i=e.call(this,t)||this;return i.project=n,i.concurrent=r,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return r.c(t,e),t.prototype._next=function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)},t.prototype._tryNext=function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(t,e,n)},t.prototype._innerSub=function(e,t,n){var r=new a.a(this,t,n),o=this.destination;o.add(r);var s=Object(i.a)(this,e,void 0,void 0,r);s!==r&&o.add(s)},t.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()},t.prototype.notifyNext=function(e,t,n,r,i){this.destination.next(t)},t.prototype.notifyComplete=function(e){var t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},t}(o.a)},pugT:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("isby"),i=n("McSo"),o=n("2Bdj"),a=n("awvh"),s=function(){function e(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}var t;return e.prototype.unsubscribe=function(){var t;if(!this.closed){var n=this._parentOrParents,s=this._unsubscribe,l=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof e)n.remove(this);else if(null!==n)for(var u=0;u<n.length;++u){n[u].remove(this)}if(Object(o.a)(s))try{s.call(this)}catch(p){t=p instanceof a.a?c(p.errors):[p]}if(Object(r.a)(l)){u=-1;for(var d=l.length;++u<d;){var h=l[u];if(Object(i.a)(h))try{h.unsubscribe()}catch(p){t=t||[],p instanceof a.a?t=t.concat(c(p.errors)):t.push(p)}}}if(t)throw new a.a(t)}},e.prototype.add=function(t){var n=t;if(!t)return e.EMPTY;switch(typeof t){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!==typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof e)){var r=n;(n=new e)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}var i=n._parentOrParents;if(null===i)n._parentOrParents=this;else if(i instanceof e){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[n]:o.push(n),n},e.prototype.remove=function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}},e.EMPTY=((t=new e).closed=!0,t),e}();function c(e){return e.reduce((function(e,t){return e.concat(t instanceof a.a?t.errors:t)}),[])}},qkce:function(e,t,n){"use strict";n.r(t);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CodesharePageSubscription_me",selections:[{args:null,kind:"FragmentSpread",name:"CodeshareSidebarSubscription_me"}],type:"Me",hash:"b430bbd4c60741200f9e789f3e11762f"};t.default=r},qwGi:function(e,t,n){"use strict";n.r(t);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CodeshareSettingsForm_me",selections:[{alias:null,args:null,kind:"ScalarField",name:"anonymous",storageKey:null},{args:null,kind:"FragmentSpread",name:"CodeshareThemeFormField_me"},{args:null,kind:"FragmentSpread",name:"CodeshareKeymapFormField_me"}],type:"Me",hash:"7cb504ff1f8b586781c458eac03ecc0c"};t.default=r},qyZS:function(e,t,n){"use strict";n.r(t);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CodeshareLazyHead_me",selections:[{args:null,kind:"FragmentSpread",name:"useTheme_me"}],type:"Me",hash:"be892124d65c50a9fd05824e5bc65b17"};t.default=r},r57p:function(e,t,n){"use strict";n.r(t);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useCodeshareTabSize_codeshare",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"tabSize",storageKey:null}],type:"Codeshare",hash:"77e1232b25a84f949ec8bdb1cf2b0d7e"};t.default=r},rPjj:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("mrSG"),i=function(e){function t(t,n,r){var i=e.call(this)||this;return i.parent=t,i.outerValue=n,i.outerIndex=r,i.index=0,i}return r.c(t,e),t.prototype._next=function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)},t.prototype._error=function(e){this.parent.notifyError(e,this),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},t}(n("FFOo").a)},"rRQ+":function(e,t,n){"use strict";n.r(t);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CodesharePage_codeshare",selections:[{alias:null,args:null,kind:"ScalarField",name:"createdAt",storageKey:null},{alias:null,args:null,concreteType:"CreatedBy",kind:"LinkedField",name:"createdBy",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"isCodeshareProSubscriber_user"}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{args:null,kind:"FragmentSpread",name:"CodeshareHead_codeshare"},{args:null,kind:"FragmentSpread",name:"CodeshareNavbar_codeshare"},{args:null,kind:"FragmentSpread",name:"CodeshareEditor_codeshare"},{args:null,kind:"FragmentSpread",name:"CodeshareSidebar_codeshare"},{args:null,kind:"FragmentSpread",name:"NagModal_codeshare"}],type:"Codeshare",hash:"9cac4687d4737b7cd6f9adca114369c9"};t.default=r},s5NQ:function(e,t,n){"use strict";n.r(t);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CodeshareLazyHead_codeshare",selections:[{alias:null,args:null,kind:"ScalarField",name:"createdAt",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],type:"Codeshare",hash:"35d209d7aaf75310c379810fa84cfc6a"};t.default=r},sJPo:function(e,t,n){"use strict";var r=n("KCt4"),i=n("lVut").browserDetails,o={shimPeerConnection:function(){if(window.RTCIceGatherer){window.RTCIceCandidate||(window.RTCIceCandidate=function(e){return e}),window.RTCSessionDescription||(window.RTCSessionDescription=function(e){return e});var e=Object.getOwnPropertyDescriptor(MediaStreamTrack.prototype,"enabled");Object.defineProperty(MediaStreamTrack.prototype,"enabled",{set:function(t){e.set.call(this,t);var n=new Event("enabled");n.enabled=t,this.dispatchEvent(n)}})}window.RTCPeerConnection=function(e){var t=this,n=document.createDocumentFragment();if(["addEventListener","removeEventListener","dispatchEvent"].forEach((function(e){t[e]=n[e].bind(n)})),this.onicecandidate=null,this.onaddstream=null,this.ontrack=null,this.onremovestream=null,this.onsignalingstatechange=null,this.oniceconnectionstatechange=null,this.onnegotiationneeded=null,this.ondatachannel=null,this.localStreams=[],this.remoteStreams=[],this.getLocalStreams=function(){return t.localStreams},this.getRemoteStreams=function(){return t.remoteStreams},this.localDescription=new RTCSessionDescription({type:"",sdp:""}),this.remoteDescription=new RTCSessionDescription({type:"",sdp:""}),this.signalingState="stable",this.iceConnectionState="new",this.iceGatheringState="new",this.iceOptions={gatherPolicy:"all",iceServers:[]},e&&e.iceTransportPolicy)switch(e.iceTransportPolicy){case"all":case"relay":this.iceOptions.gatherPolicy=e.iceTransportPolicy;break;case"none":throw new TypeError('iceTransportPolicy "none" not supported')}if(this.usingBundle=e&&"max-bundle"===e.bundlePolicy,e&&e.iceServers){var r=JSON.parse(JSON.stringify(e.iceServers));this.iceOptions.iceServers=r.filter((function(e){if(e&&e.urls){var t=e.urls;return"string"===typeof t&&(t=[t]),!!(t=t.filter((function(e){return 0===e.indexOf("turn:")&&-1!==e.indexOf("transport=udp")&&-1===e.indexOf("turn:[")||0===e.indexOf("stun:")&&i.version>=14393}))[0])}return!1}))}this._config=e,this.transceivers=[],this._localIceCandidatesBuffer=[]},window.RTCPeerConnection.prototype._emitBufferedCandidates=function(){var e=this,t=r.splitSections(e.localDescription.sdp);this._localIceCandidatesBuffer.forEach((function(n){if(!n.candidate||0===Object.keys(n.candidate).length)for(var r=1;r<t.length;r++)-1===t[r].indexOf("\r\na=end-of-candidates\r\n")&&(t[r]+="a=end-of-candidates\r\n");else-1===n.candidate.candidate.indexOf("typ endOfCandidates")&&(t[n.candidate.sdpMLineIndex+1]+="a="+n.candidate.candidate+"\r\n");(e.localDescription.sdp=t.join(""),e.dispatchEvent(n),null!==e.onicecandidate&&e.onicecandidate(n),n.candidate||"complete"===e.iceGatheringState)||e.transceivers.every((function(e){return e.iceGatherer&&"completed"===e.iceGatherer.state}))&&(e.iceGatheringState="complete")})),this._localIceCandidatesBuffer=[]},window.RTCPeerConnection.prototype.getConfiguration=function(){return this._config},window.RTCPeerConnection.prototype.addStream=function(e){var t=e.clone();e.getTracks().forEach((function(e,n){var r=t.getTracks()[n];e.addEventListener("enabled",(function(e){r.enabled=e.enabled}))})),this.localStreams.push(t),this._maybeFireNegotiationNeeded()},window.RTCPeerConnection.prototype.removeStream=function(e){var t=this.localStreams.indexOf(e);t>-1&&(this.localStreams.splice(t,1),this._maybeFireNegotiationNeeded())},window.RTCPeerConnection.prototype.getSenders=function(){return this.transceivers.filter((function(e){return!!e.rtpSender})).map((function(e){return e.rtpSender}))},window.RTCPeerConnection.prototype.getReceivers=function(){return this.transceivers.filter((function(e){return!!e.rtpReceiver})).map((function(e){return e.rtpReceiver}))},window.RTCPeerConnection.prototype._getCommonCapabilities=function(e,t){var n={codecs:[],headerExtensions:[],fecMechanisms:[]};return e.codecs.forEach((function(e){for(var r=0;r<t.codecs.length;r++){var i=t.codecs[r];if(e.name.toLowerCase()===i.name.toLowerCase()&&e.clockRate===i.clockRate){i.numChannels=Math.min(e.numChannels,i.numChannels),n.codecs.push(i),i.rtcpFeedback=i.rtcpFeedback.filter((function(t){for(var n=0;n<e.rtcpFeedback.length;n++)if(e.rtcpFeedback[n].type===t.type&&e.rtcpFeedback[n].parameter===t.parameter)return!0;return!1}));break}}})),e.headerExtensions.forEach((function(e){for(var r=0;r<t.headerExtensions.length;r++){var i=t.headerExtensions[r];if(e.uri===i.uri){n.headerExtensions.push(i);break}}})),n},window.RTCPeerConnection.prototype._createIceAndDtlsTransports=function(e,t){var n=this,i=new RTCIceGatherer(n.iceOptions),o=new RTCIceTransport(i);i.onlocalcandidate=function(a){var s=new Event("icecandidate");s.candidate={sdpMid:e,sdpMLineIndex:t};var c=a.candidate,l=!c||0===Object.keys(c).length;l?(void 0===i.state&&(i.state="completed"),s.candidate.candidate="candidate:1 1 udp 1 0.0.0.0 9 typ endOfCandidates"):(c.component="RTCP"===o.component?2:1,s.candidate.candidate=r.writeCandidate(c));var u=r.splitSections(n.localDescription.sdp);-1===s.candidate.candidate.indexOf("typ endOfCandidates")?u[s.candidate.sdpMLineIndex+1]+="a="+s.candidate.candidate+"\r\n":u[s.candidate.sdpMLineIndex+1]+="a=end-of-candidates\r\n",n.localDescription.sdp=u.join("");var d=n.transceivers.every((function(e){return e.iceGatherer&&"completed"===e.iceGatherer.state}));switch(n.iceGatheringState){case"new":n._localIceCandidatesBuffer.push(s),l&&d&&n._localIceCandidatesBuffer.push(new Event("icecandidate"));break;case"gathering":n._emitBufferedCandidates(),n.dispatchEvent(s),null!==n.onicecandidate&&n.onicecandidate(s),d&&(n.dispatchEvent(new Event("icecandidate")),null!==n.onicecandidate&&n.onicecandidate(new Event("icecandidate")),n.iceGatheringState="complete")}},o.onicestatechange=function(){n._updateConnectionState()};var a=new RTCDtlsTransport(o);return a.ondtlsstatechange=function(){n._updateConnectionState()},a.onerror=function(){a.state="failed",n._updateConnectionState()},{iceGatherer:i,iceTransport:o,dtlsTransport:a}},window.RTCPeerConnection.prototype._transceive=function(e,t,n){var i=this._getCommonCapabilities(e.localCapabilities,e.remoteCapabilities);t&&e.rtpSender&&(i.encodings=e.sendEncodingParameters,i.rtcp={cname:r.localCName},e.recvEncodingParameters.length&&(i.rtcp.ssrc=e.recvEncodingParameters[0].ssrc),e.rtpSender.send(i)),n&&e.rtpReceiver&&("video"===e.kind&&e.recvEncodingParameters&&e.recvEncodingParameters.forEach((function(e){delete e.rtx})),i.encodings=e.recvEncodingParameters,i.rtcp={cname:e.cname},e.sendEncodingParameters.length&&(i.rtcp.ssrc=e.sendEncodingParameters[0].ssrc),e.rtpReceiver.receive(i))},window.RTCPeerConnection.prototype.setLocalDescription=function(e){var t,n,i=this;if("offer"===e.type)this._pendingOffer&&(t=r.splitSections(e.sdp),n=t.shift(),t.forEach((function(e,t){var n=r.parseRtpParameters(e);i._pendingOffer[t].localCapabilities=n})),this.transceivers=this._pendingOffer,delete this._pendingOffer);else if("answer"===e.type){t=r.splitSections(i.remoteDescription.sdp),n=t.shift();var o=r.matchPrefix(n,"a=ice-lite").length>0;t.forEach((function(e,t){var a=i.transceivers[t],s=a.iceGatherer,c=a.iceTransport,l=a.dtlsTransport,u=a.localCapabilities,d=a.remoteCapabilities;if(!("0"===e.split("\n",1)[0].split(" ",2)[1])&&!a.isDatachannel){var h=r.getIceParameters(e,n);if(o){var p=r.matchPrefix(e,"a=candidate:").map((function(e){return r.parseCandidate(e)})).filter((function(e){return"1"===e.component}));p.length&&c.setRemoteCandidates(p)}var f=r.getDtlsParameters(e,n);o&&(f.role="server"),i.usingBundle&&0!==t||(c.start(s,h,o?"controlling":"controlled"),l.start(f));var m=i._getCommonCapabilities(u,d);i._transceive(a,m.codecs.length>0,!1)}}))}switch(this.localDescription={type:e.type,sdp:e.sdp},e.type){case"offer":this._updateSignalingState("have-local-offer");break;case"answer":this._updateSignalingState("stable");break;default:throw new TypeError('unsupported type "'+e.type+'"')}var a=arguments.length>1&&"function"===typeof arguments[1];if(a){var s=arguments[1];window.setTimeout((function(){s(),"new"===i.iceGatheringState&&(i.iceGatheringState="gathering"),i._emitBufferedCandidates()}),0)}var c=Promise.resolve();return c.then((function(){a||("new"===i.iceGatheringState&&(i.iceGatheringState="gathering"),window.setTimeout(i._emitBufferedCandidates.bind(i),500))})),c},window.RTCPeerConnection.prototype.setRemoteDescription=function(e){var t=this,n=new MediaStream,i=[],o=r.splitSections(e.sdp),a=o.shift(),s=r.matchPrefix(a,"a=ice-lite").length>0;switch(this.usingBundle=r.matchPrefix(a,"a=group:BUNDLE ").length>0,o.forEach((function(o,c){var l=r.splitLines(o)[0].substr(2).split(" "),u=l[0],d="0"===l[1],h=r.getDirection(o,a),p=r.matchPrefix(o,"a=mid:");if(p=p.length?p[0].substr(6):r.generateIdentifier(),"application"!==u||"DTLS/SCTP"!==l[2]){var f,m,g,v,y,b,C,w,S,k,x,E,T,_=r.parseRtpParameters(o);d||(x=r.getIceParameters(o,a),(E=r.getDtlsParameters(o,a)).role="client"),w=r.parseRtpEncodingParameters(o);var O=r.matchPrefix(o,"a=ssrc:").map((function(e){return r.parseSsrcMedia(e)})).filter((function(e){return"cname"===e.attribute}))[0];O&&(T=O.value);var L=r.matchPrefix(o,"a=end-of-candidates",a).length>0,M=r.matchPrefix(o,"a=candidate:").map((function(e){return r.parseCandidate(e)})).filter((function(e){return"1"===e.component}));if("offer"!==e.type||d)"answer"!==e.type||d||(m=(f=t.transceivers[c]).iceGatherer,g=f.iceTransport,v=f.dtlsTransport,y=f.rtpSender,b=f.rtpReceiver,C=f.sendEncodingParameters,S=f.localCapabilities,t.transceivers[c].recvEncodingParameters=w,t.transceivers[c].remoteCapabilities=_,t.transceivers[c].cname=T,(s||L)&&M.length&&g.setRemoteCandidates(M),t.usingBundle&&0!==c||(g.start(m,x,"controlling"),v.start(E)),t._transceive(f,"sendrecv"===h||"recvonly"===h,"sendrecv"===h||"sendonly"===h),!b||"sendrecv"!==h&&"sendonly"!==h?delete f.rtpReceiver:(k=b.track,i.push([k,b]),n.addTrack(k)));else{var F,R=t.usingBundle&&c>0?{iceGatherer:t.transceivers[0].iceGatherer,iceTransport:t.transceivers[0].iceTransport,dtlsTransport:t.transceivers[0].dtlsTransport}:t._createIceAndDtlsTransports(p,c);if(L&&R.iceTransport.setRemoteCandidates(M),(S=RTCRtpReceiver.getCapabilities(u)).codecs=S.codecs.filter((function(e){return"rtx"!==e.name})),C=[{ssrc:1001*(2*c+2)}],k=(b=new RTCRtpReceiver(R.dtlsTransport,u)).track,i.push([k,b]),n.addTrack(k),t.localStreams.length>0&&t.localStreams[0].getTracks().length>=c)"audio"===u?F=t.localStreams[0].getAudioTracks()[0]:"video"===u&&(F=t.localStreams[0].getVideoTracks()[0]),F&&(y=new RTCRtpSender(F,R.dtlsTransport));t.transceivers[c]={iceGatherer:R.iceGatherer,iceTransport:R.iceTransport,dtlsTransport:R.dtlsTransport,localCapabilities:S,remoteCapabilities:_,rtpSender:y,rtpReceiver:b,kind:u,mid:p,cname:T,sendEncodingParameters:C,recvEncodingParameters:w},t._transceive(t.transceivers[c],!1,"sendrecv"===h||"sendonly"===h)}}else t.transceivers[c]={mid:p,isDatachannel:!0}})),this.remoteDescription={type:e.type,sdp:e.sdp},e.type){case"offer":this._updateSignalingState("have-remote-offer");break;case"answer":this._updateSignalingState("stable");break;default:throw new TypeError('unsupported type "'+e.type+'"')}return n.getTracks().length&&(t.remoteStreams.push(n),window.setTimeout((function(){var e=new Event("addstream");e.stream=n,t.dispatchEvent(e),null!==t.onaddstream&&window.setTimeout((function(){t.onaddstream(e)}),0),i.forEach((function(r){var i=r[0],o=r[1],a=new Event("track");a.track=i,a.receiver=o,a.streams=[n],t.dispatchEvent(e),null!==t.ontrack&&window.setTimeout((function(){t.ontrack(a)}),0)}))}),0)),arguments.length>1&&"function"===typeof arguments[1]&&window.setTimeout(arguments[1],0),Promise.resolve()},window.RTCPeerConnection.prototype.close=function(){this.transceivers.forEach((function(e){e.iceTransport&&e.iceTransport.stop(),e.dtlsTransport&&e.dtlsTransport.stop(),e.rtpSender&&e.rtpSender.stop(),e.rtpReceiver&&e.rtpReceiver.stop()})),this._updateSignalingState("closed")},window.RTCPeerConnection.prototype._updateSignalingState=function(e){this.signalingState=e;var t=new Event("signalingstatechange");this.dispatchEvent(t),null!==this.onsignalingstatechange&&this.onsignalingstatechange(t)},window.RTCPeerConnection.prototype._maybeFireNegotiationNeeded=function(){var e=new Event("negotiationneeded");this.dispatchEvent(e),null!==this.onnegotiationneeded&&this.onnegotiationneeded(e)},window.RTCPeerConnection.prototype._updateConnectionState=function(){var e,t={new:0,closed:0,connecting:0,checking:0,connected:0,completed:0,failed:0};if(this.transceivers.forEach((function(e){t[e.iceTransport.state]++,t[e.dtlsTransport.state]++})),t.connected+=t.completed,e="new",t.failed>0?e="failed":t.connecting>0||t.checking>0?e="connecting":t.disconnected>0?e="disconnected":t.new>0?e="new":(t.connected>0||t.completed>0)&&(e="connected"),e!==this.iceConnectionState){this.iceConnectionState=e;var n=new Event("iceconnectionstatechange");this.dispatchEvent(n),null!==this.oniceconnectionstatechange&&this.oniceconnectionstatechange(n)}},window.RTCPeerConnection.prototype.createOffer=function(){var e,t=this;if(this._pendingOffer)throw new Error("createOffer called while there is a pending offer.");1===arguments.length&&"function"!==typeof arguments[0]?e=arguments[0]:3===arguments.length&&(e=arguments[2]);var n=[],i=0,o=0;if(this.localStreams.length&&(i=this.localStreams[0].getAudioTracks().length,o=this.localStreams[0].getVideoTracks().length),e){if(e.mandatory||e.optional)throw new TypeError("Legacy mandatory/optional constraints not supported.");void 0!==e.offerToReceiveAudio&&(i=e.offerToReceiveAudio),void 0!==e.offerToReceiveVideo&&(o=e.offerToReceiveVideo)}for(this.localStreams.length&&this.localStreams[0].getTracks().forEach((function(e){n.push({kind:e.kind,track:e,wantReceive:"audio"===e.kind?i>0:o>0}),"audio"===e.kind?i--:"video"===e.kind&&o--}));i>0||o>0;)i>0&&(n.push({kind:"audio",wantReceive:!0}),i--),o>0&&(n.push({kind:"video",wantReceive:!0}),o--);var a=r.writeSessionBoilerplate(),s=[];n.forEach((function(e,n){var i,o,a=e.track,c=e.kind,l=r.generateIdentifier(),u=t.usingBundle&&n>0?{iceGatherer:s[0].iceGatherer,iceTransport:s[0].iceTransport,dtlsTransport:s[0].dtlsTransport}:t._createIceAndDtlsTransports(l,n),d=RTCRtpSender.getCapabilities(c);d.codecs=d.codecs.filter((function(e){return"rtx"!==e.name})),d.codecs.forEach((function(e){"H264"===e.name&&void 0===e.parameters["level-asymmetry-allowed"]&&(e.parameters["level-asymmetry-allowed"]="1")}));var h=[{ssrc:1001*(2*n+1)}];a&&(i=new RTCRtpSender(a,u.dtlsTransport)),e.wantReceive&&(o=new RTCRtpReceiver(u.dtlsTransport,c)),s[n]={iceGatherer:u.iceGatherer,iceTransport:u.iceTransport,dtlsTransport:u.dtlsTransport,localCapabilities:d,remoteCapabilities:null,rtpSender:i,rtpReceiver:o,kind:c,mid:l,sendEncodingParameters:h,recvEncodingParameters:null}})),this.usingBundle&&(a+="a=group:BUNDLE "+s.map((function(e){return e.mid})).join(" ")+"\r\n"),n.forEach((function(e,n){var i=s[n];a+=r.writeMediaSection(i,i.localCapabilities,"offer",t.localStreams[0])})),this._pendingOffer=s;var c=new RTCSessionDescription({type:"offer",sdp:a});return arguments.length&&"function"===typeof arguments[0]&&window.setTimeout(arguments[0],0,c),Promise.resolve(c)},window.RTCPeerConnection.prototype.createAnswer=function(){var e=this,t=r.writeSessionBoilerplate();this.usingBundle&&(t+="a=group:BUNDLE "+this.transceivers.map((function(e){return e.mid})).join(" ")+"\r\n"),this.transceivers.forEach((function(n){if(n.isDatachannel)t+="m=application 0 DTLS/SCTP 5000\r\nc=IN IP4 0.0.0.0\r\na=mid:"+n.mid+"\r\n";else{var i=e._getCommonCapabilities(n.localCapabilities,n.remoteCapabilities);t+=r.writeMediaSection(n,i,"answer",e.localStreams[0])}}));var n=new RTCSessionDescription({type:"answer",sdp:t});return arguments.length&&"function"===typeof arguments[0]&&window.setTimeout(arguments[0],0,n),Promise.resolve(n)},window.RTCPeerConnection.prototype.addIceCandidate=function(e){if(e){var t=e.sdpMLineIndex;if(e.sdpMid)for(var n=0;n<this.transceivers.length;n++)if(this.transceivers[n].mid===e.sdpMid){t=n;break}var i=this.transceivers[t];if(i){var o=Object.keys(e.candidate).length>0?r.parseCandidate(e.candidate):{};if("tcp"===o.protocol&&(0===o.port||9===o.port))return;if("1"!==o.component)return;"endOfCandidates"===o.type&&(o={}),i.iceTransport.addRemoteCandidate(o);var a=r.splitSections(this.remoteDescription.sdp);a[t+1]+=(o.type?e.candidate.trim():"a=end-of-candidates")+"\r\n",this.remoteDescription.sdp=a.join("")}}else this.transceivers.forEach((function(e){e.iceTransport.addRemoteCandidate({})}));return arguments.length>1&&"function"===typeof arguments[1]&&window.setTimeout(arguments[1],0),Promise.resolve()},window.RTCPeerConnection.prototype.getStats=function(){var e=[];this.transceivers.forEach((function(t){["rtpSender","rtpReceiver","iceGatherer","iceTransport","dtlsTransport"].forEach((function(n){t[n]&&e.push(t[n].getStats())}))}));var t=arguments.length>1&&"function"===typeof arguments[1]&&arguments[1];return new Promise((function(n){var r=new Map;Promise.all(e).then((function(e){e.forEach((function(e){Object.keys(e).forEach((function(t){r.set(t,e[t]),r[t]=e[t]}))})),t&&window.setTimeout(t,0,r),n(r)}))}))}}};e.exports={shimPeerConnection:o.shimPeerConnection,shimGetUserMedia:n("XmTq")}},sgSL:function(e,t,n){"use strict";var r=n("KCt4"),i=n("Ypoe").log,o={shimPeerConnection:function(){window.RTCIceGatherer&&(window.RTCIceCandidate||(window.RTCIceCandidate=function(e){return e}),window.RTCSessionDescription||(window.RTCSessionDescription=function(e){return e})),window.RTCPeerConnection=function(e){var t=this,n=document.createDocumentFragment();if(["addEventListener","removeEventListener","dispatchEvent"].forEach((function(e){t[e]=n[e].bind(n)})),this.onicecandidate=null,this.onaddstream=null,this.ontrack=null,this.onremovestream=null,this.onsignalingstatechange=null,this.oniceconnectionstatechange=null,this.onnegotiationneeded=null,this.ondatachannel=null,this.localStreams=[],this.remoteStreams=[],this.getLocalStreams=function(){return t.localStreams},this.getRemoteStreams=function(){return t.remoteStreams},this.localDescription=new RTCSessionDescription({type:"",sdp:""}),this.remoteDescription=new RTCSessionDescription({type:"",sdp:""}),this.signalingState="stable",this.iceConnectionState="new",this.iceGatheringState="new",this.iceOptions={gatherPolicy:"all",iceServers:[]},e&&e.iceTransportPolicy)switch(e.iceTransportPolicy){case"all":case"relay":this.iceOptions.gatherPolicy=e.iceTransportPolicy;break;case"none":throw new TypeError('iceTransportPolicy "none" not supported')}if(this.usingBundle=e&&"max-bundle"===e.bundlePolicy,e&&e.iceServers){var r=JSON.parse(JSON.stringify(e.iceServers));this.iceOptions.iceServers=r.filter((function(e){if(e&&e.urls){var t=e.urls;return"string"===typeof t&&(t=[t]),!!(t=t.filter((function(e){return 0===e.indexOf("turn:")&&-1!==e.indexOf("transport=udp")}))[0])}return!1}))}this.transceivers=[],this._localIceCandidatesBuffer=[]},window.RTCPeerConnection.prototype._emitBufferedCandidates=function(){var e=this,t=r.splitSections(e.localDescription.sdp);this._localIceCandidatesBuffer.forEach((function(n){if(!n.candidate||0===Object.keys(n.candidate).length)for(var r=1;r<t.length;r++)-1===t[r].indexOf("\r\na=end-of-candidates\r\n")&&(t[r]+="a=end-of-candidates\r\n");else-1===n.candidate.candidate.indexOf("typ endOfCandidates")&&(t[n.candidate.sdpMLineIndex+1]+="a="+n.candidate.candidate+"\r\n");(e.localDescription.sdp=t.join(""),e.dispatchEvent(n),null!==e.onicecandidate&&e.onicecandidate(n),n.candidate||"complete"===e.iceGatheringState)||e.transceivers.every((function(e){return e.iceGatherer&&"completed"===e.iceGatherer.state}))&&(e.iceGatheringState="complete")})),this._localIceCandidatesBuffer=[]},window.RTCPeerConnection.prototype.addStream=function(e){this.localStreams.push(e.clone()),this._maybeFireNegotiationNeeded()},window.RTCPeerConnection.prototype.removeStream=function(e){var t=this.localStreams.indexOf(e);t>-1&&(this.localStreams.splice(t,1),this._maybeFireNegotiationNeeded())},window.RTCPeerConnection.prototype.getSenders=function(){return this.transceivers.filter((function(e){return!!e.rtpSender})).map((function(e){return e.rtpSender}))},window.RTCPeerConnection.prototype.getReceivers=function(){return this.transceivers.filter((function(e){return!!e.rtpReceiver})).map((function(e){return e.rtpReceiver}))},window.RTCPeerConnection.prototype._getCommonCapabilities=function(e,t){var n={codecs:[],headerExtensions:[],fecMechanisms:[]};return e.codecs.forEach((function(e){for(var r=0;r<t.codecs.length;r++){var i=t.codecs[r];if(e.name.toLowerCase()===i.name.toLowerCase()&&e.clockRate===i.clockRate&&e.numChannels===i.numChannels){n.codecs.push(i);break}}})),e.headerExtensions.forEach((function(e){for(var r=0;r<t.headerExtensions.length;r++){var i=t.headerExtensions[r];if(e.uri===i.uri){n.headerExtensions.push(i);break}}})),n},window.RTCPeerConnection.prototype._createIceAndDtlsTransports=function(e,t){var n=this,i=new RTCIceGatherer(n.iceOptions),o=new RTCIceTransport(i);i.onlocalcandidate=function(a){var s=new Event("icecandidate");s.candidate={sdpMid:e,sdpMLineIndex:t};var c=a.candidate,l=!c||0===Object.keys(c).length;l?(void 0===i.state&&(i.state="completed"),s.candidate.candidate="candidate:1 1 udp 1 0.0.0.0 9 typ endOfCandidates"):(c.component="RTCP"===o.component?2:1,s.candidate.candidate=r.writeCandidate(c));var u=r.splitSections(n.localDescription.sdp);-1===s.candidate.candidate.indexOf("typ endOfCandidates")?u[s.candidate.sdpMLineIndex+1]+="a="+s.candidate.candidate+"\r\n":u[s.candidate.sdpMLineIndex+1]+="a=end-of-candidates\r\n",n.localDescription.sdp=u.join("");var d=n.transceivers.every((function(e){return e.iceGatherer&&"completed"===e.iceGatherer.state}));switch(n.iceGatheringState){case"new":n._localIceCandidatesBuffer.push(s),l&&d&&n._localIceCandidatesBuffer.push(new Event("icecandidate"));break;case"gathering":n._emitBufferedCandidates(),n.dispatchEvent(s),null!==n.onicecandidate&&n.onicecandidate(s),d&&(n.dispatchEvent(new Event("icecandidate")),null!==n.onicecandidate&&n.onicecandidate(new Event("icecandidate")),n.iceGatheringState="complete")}},o.onicestatechange=function(){n._updateConnectionState()};var a=new RTCDtlsTransport(o);return a.ondtlsstatechange=function(){n._updateConnectionState()},a.onerror=function(){a.state="failed",n._updateConnectionState()},{iceGatherer:i,iceTransport:o,dtlsTransport:a}},window.RTCPeerConnection.prototype._transceive=function(e,t,n){var i=this._getCommonCapabilities(e.localCapabilities,e.remoteCapabilities);t&&e.rtpSender&&(i.encodings=e.sendEncodingParameters,i.rtcp={cname:r.localCName},e.recvEncodingParameters.length&&(i.rtcp.ssrc=e.recvEncodingParameters[0].ssrc),e.rtpSender.send(i)),n&&e.rtpReceiver&&(i.encodings=e.recvEncodingParameters,i.rtcp={cname:e.cname},e.sendEncodingParameters.length&&(i.rtcp.ssrc=e.sendEncodingParameters[0].ssrc),e.rtpReceiver.receive(i))},window.RTCPeerConnection.prototype.setLocalDescription=function(e){var t,n,i=this;if("offer"===e.type)this._pendingOffer&&(t=r.splitSections(e.sdp),n=t.shift(),t.forEach((function(e,t){var n=r.parseRtpParameters(e);i._pendingOffer[t].localCapabilities=n})),this.transceivers=this._pendingOffer,delete this._pendingOffer);else if("answer"===e.type){t=r.splitSections(i.remoteDescription.sdp),n=t.shift();var o=r.matchPrefix(n,"a=ice-lite").length>0;t.forEach((function(e,t){var a=i.transceivers[t],s=a.iceGatherer,c=a.iceTransport,l=a.dtlsTransport,u=a.localCapabilities,d=a.remoteCapabilities;if(!("0"===e.split("\n",1)[0].split(" ",2)[1])){var h=r.getIceParameters(e,n);if(o){var p=r.matchPrefix(e,"a=candidate:").map((function(e){return r.parseCandidate(e)})).filter((function(e){return"1"===e.component}));p.length&&c.setRemoteCandidates(p)}var f=r.getDtlsParameters(e,n);o&&(f.role="server"),i.usingBundle&&0!==t||(c.start(s,h,o?"controlling":"controlled"),l.start(f));var m=i._getCommonCapabilities(u,d);i._transceive(a,m.codecs.length>0,!1)}}))}switch(this.localDescription={type:e.type,sdp:e.sdp},e.type){case"offer":this._updateSignalingState("have-local-offer");break;case"answer":this._updateSignalingState("stable");break;default:throw new TypeError('unsupported type "'+e.type+'"')}var a=arguments.length>1&&"function"===typeof arguments[1];if(a){var s=arguments[1];window.setTimeout((function(){s(),"new"===i.iceGatheringState&&(i.iceGatheringState="gathering"),i._emitBufferedCandidates()}),0)}var c=Promise.resolve();return c.then((function(){a||("new"===i.iceGatheringState&&(i.iceGatheringState="gathering"),window.setTimeout(i._emitBufferedCandidates.bind(i),500))})),c},window.RTCPeerConnection.prototype.setRemoteDescription=function(e){var t=this,n=new MediaStream,i=[],o=r.splitSections(e.sdp),a=o.shift(),s=r.matchPrefix(a,"a=ice-lite").length>0;switch(this.usingBundle=r.matchPrefix(a,"a=group:BUNDLE ").length>0,o.forEach((function(o,c){var l,u,d,h,p,f,m,g,v,y,b,C,w=r.splitLines(o)[0].substr(2).split(" "),S=w[0],k="0"===w[1],x=r.getDirection(o,a),E=r.parseRtpParameters(o);k||(b=r.getIceParameters(o,a),(C=r.getDtlsParameters(o,a)).role="client"),g=r.parseRtpEncodingParameters(o);var T,_=r.matchPrefix(o,"a=mid:");_=_.length?_[0].substr(6):r.generateIdentifier();var O=r.matchPrefix(o,"a=ssrc:").map((function(e){return r.parseSsrcMedia(e)})).filter((function(e){return"cname"===e.attribute}))[0];O&&(T=O.value);var L=r.matchPrefix(o,"a=end-of-candidates").length>0,M=r.matchPrefix(o,"a=candidate:").map((function(e){return r.parseCandidate(e)})).filter((function(e){return"1"===e.component}));if("offer"!==e.type||k)"answer"!==e.type||k||(u=(l=t.transceivers[c]).iceGatherer,d=l.iceTransport,h=l.dtlsTransport,p=l.rtpSender,f=l.rtpReceiver,m=l.sendEncodingParameters,v=l.localCapabilities,t.transceivers[c].recvEncodingParameters=g,t.transceivers[c].remoteCapabilities=E,t.transceivers[c].cname=T,(s||L)&&M.length&&d.setRemoteCandidates(M),t.usingBundle&&0!==c||(d.start(u,b,"controlling"),h.start(C)),t._transceive(l,"sendrecv"===x||"recvonly"===x,"sendrecv"===x||"sendonly"===x),!f||"sendrecv"!==x&&"sendonly"!==x?delete l.rtpReceiver:(y=f.track,i.push([y,f]),n.addTrack(y)));else{var F=t.usingBundle&&c>0?{iceGatherer:t.transceivers[0].iceGatherer,iceTransport:t.transceivers[0].iceTransport,dtlsTransport:t.transceivers[0].dtlsTransport}:t._createIceAndDtlsTransports(_,c);if(L&&F.iceTransport.setRemoteCandidates(M),v=RTCRtpReceiver.getCapabilities(S),m=[{ssrc:1001*(2*c+2)}],y=(f=new RTCRtpReceiver(F.dtlsTransport,S)).track,i.push([y,f]),n.addTrack(y),t.localStreams.length>0&&t.localStreams[0].getTracks().length>=c){var R=t.localStreams[0].getTracks()[c];p=new RTCRtpSender(R,F.dtlsTransport)}t.transceivers[c]={iceGatherer:F.iceGatherer,iceTransport:F.iceTransport,dtlsTransport:F.dtlsTransport,localCapabilities:v,remoteCapabilities:E,rtpSender:p,rtpReceiver:f,kind:S,mid:_,cname:T,sendEncodingParameters:m,recvEncodingParameters:g},t._transceive(t.transceivers[c],!1,"sendrecv"===x||"sendonly"===x)}})),this.remoteDescription={type:e.type,sdp:e.sdp},e.type){case"offer":this._updateSignalingState("have-remote-offer");break;case"answer":this._updateSignalingState("stable");break;default:throw new TypeError('unsupported type "'+e.type+'"')}return n.getTracks().length&&(t.remoteStreams.push(n),window.setTimeout((function(){var e=new Event("addstream");e.stream=n,t.dispatchEvent(e),null!==t.onaddstream&&window.setTimeout((function(){t.onaddstream(e)}),0),i.forEach((function(r){var i=r[0],o=r[1],a=new Event("track");a.track=i,a.receiver=o,a.streams=[n],t.dispatchEvent(e),null!==t.ontrack&&window.setTimeout((function(){t.ontrack(a)}),0)}))}),0)),arguments.length>1&&"function"===typeof arguments[1]&&window.setTimeout(arguments[1],0),Promise.resolve()},window.RTCPeerConnection.prototype.close=function(){this.transceivers.forEach((function(e){e.iceTransport&&e.iceTransport.stop(),e.dtlsTransport&&e.dtlsTransport.stop(),e.rtpSender&&e.rtpSender.stop(),e.rtpReceiver&&e.rtpReceiver.stop()})),this._updateSignalingState("closed")},window.RTCPeerConnection.prototype._updateSignalingState=function(e){this.signalingState=e;var t=new Event("signalingstatechange");this.dispatchEvent(t),null!==this.onsignalingstatechange&&this.onsignalingstatechange(t)},window.RTCPeerConnection.prototype._maybeFireNegotiationNeeded=function(){var e=new Event("negotiationneeded");this.dispatchEvent(e),null!==this.onnegotiationneeded&&this.onnegotiationneeded(e)},window.RTCPeerConnection.prototype._updateConnectionState=function(){var e,t={new:0,closed:0,connecting:0,checking:0,connected:0,completed:0,failed:0};if(this.transceivers.forEach((function(e){t[e.iceTransport.state]++,t[e.dtlsTransport.state]++})),t.connected+=t.completed,e="new",t.failed>0?e="failed":t.connecting>0||t.checking>0?e="connecting":t.disconnected>0?e="disconnected":t.new>0?e="new":(t.connected>0||t.completed>0)&&(e="connected"),e!==this.iceConnectionState){this.iceConnectionState=e;var n=new Event("iceconnectionstatechange");this.dispatchEvent(n),null!==this.oniceconnectionstatechange&&this.oniceconnectionstatechange(n)}},window.RTCPeerConnection.prototype.createOffer=function(){var e,t=this;if(this._pendingOffer)throw new Error("createOffer called while there is a pending offer.");1===arguments.length&&"function"!==typeof arguments[0]?e=arguments[0]:3===arguments.length&&(e=arguments[2]);var n=[],i=0,o=0;if(this.localStreams.length&&(i=this.localStreams[0].getAudioTracks().length,o=this.localStreams[0].getVideoTracks().length),e){if(e.mandatory||e.optional)throw new TypeError("Legacy mandatory/optional constraints not supported.");void 0!==e.offerToReceiveAudio&&(i=e.offerToReceiveAudio),void 0!==e.offerToReceiveVideo&&(o=e.offerToReceiveVideo)}for(this.localStreams.length&&this.localStreams[0].getTracks().forEach((function(e){n.push({kind:e.kind,track:e,wantReceive:"audio"===e.kind?i>0:o>0}),"audio"===e.kind?i--:"video"===e.kind&&o--}));i>0||o>0;)i>0&&(n.push({kind:"audio",wantReceive:!0}),i--),o>0&&(n.push({kind:"video",wantReceive:!0}),o--);var a=r.writeSessionBoilerplate(),s=[];n.forEach((function(e,n){var i,o,a=e.track,c=e.kind,l=r.generateIdentifier(),u=t.usingBundle&&n>0?{iceGatherer:s[0].iceGatherer,iceTransport:s[0].iceTransport,dtlsTransport:s[0].dtlsTransport}:t._createIceAndDtlsTransports(l,n),d=RTCRtpSender.getCapabilities(c),h=[{ssrc:1001*(2*n+1)}];a&&(i=new RTCRtpSender(a,u.dtlsTransport)),e.wantReceive&&(o=new RTCRtpReceiver(u.dtlsTransport,c)),s[n]={iceGatherer:u.iceGatherer,iceTransport:u.iceTransport,dtlsTransport:u.dtlsTransport,localCapabilities:d,remoteCapabilities:null,rtpSender:i,rtpReceiver:o,kind:c,mid:l,sendEncodingParameters:h,recvEncodingParameters:null}})),this.usingBundle&&(a+="a=group:BUNDLE "+s.map((function(e){return e.mid})).join(" ")+"\r\n"),n.forEach((function(e,n){var i=s[n];a+=r.writeMediaSection(i,i.localCapabilities,"offer",t.localStreams[0])})),this._pendingOffer=s;var c=new RTCSessionDescription({type:"offer",sdp:a});return arguments.length&&"function"===typeof arguments[0]&&window.setTimeout(arguments[0],0,c),Promise.resolve(c)},window.RTCPeerConnection.prototype.createAnswer=function(){var e=this,t=r.writeSessionBoilerplate();this.usingBundle&&(t+="a=group:BUNDLE "+this.transceivers.map((function(e){return e.mid})).join(" ")+"\r\n"),this.transceivers.forEach((function(n){var i=e._getCommonCapabilities(n.localCapabilities,n.remoteCapabilities);t+=r.writeMediaSection(n,i,"answer",e.localStreams[0])}));var n=new RTCSessionDescription({type:"answer",sdp:t});return arguments.length&&"function"===typeof arguments[0]&&window.setTimeout(arguments[0],0,n),Promise.resolve(n)},window.RTCPeerConnection.prototype.addIceCandidate=function(e){if(null===e)this.transceivers.forEach((function(e){e.iceTransport.addRemoteCandidate({})}));else{var t=e.sdpMLineIndex;if(e.sdpMid)for(var n=0;n<this.transceivers.length;n++)if(this.transceivers[n].mid===e.sdpMid){t=n;break}var i=this.transceivers[t];if(i){var o=Object.keys(e.candidate).length>0?r.parseCandidate(e.candidate):{};if("tcp"===o.protocol&&0===o.port)return;if("1"!==o.component)return;"endOfCandidates"===o.type&&(o={}),i.iceTransport.addRemoteCandidate(o);var a=r.splitSections(this.remoteDescription.sdp);a[t+1]+=(o.type?e.candidate.trim():"a=end-of-candidates")+"\r\n",this.remoteDescription.sdp=a.join("")}}return arguments.length>1&&"function"===typeof arguments[1]&&window.setTimeout(arguments[1],0),Promise.resolve()},window.RTCPeerConnection.prototype.getStats=function(){var e=[];this.transceivers.forEach((function(t){["rtpSender","rtpReceiver","iceGatherer","iceTransport","dtlsTransport"].forEach((function(n){t[n]&&e.push(t[n].getStats())}))}));var t=arguments.length>1&&"function"===typeof arguments[1]&&arguments[1];return new Promise((function(n){var r=new Map;Promise.all(e).then((function(e){e.forEach((function(e){Object.keys(e).forEach((function(t){r.set(t,e[t]),r[t]=e[t]}))})),t&&window.setTimeout(t,0,r),n(r)}))}))}},attachMediaStream:function(e,t){i("DEPRECATED, attachMediaStream will soon be removed."),e.srcObject=t},reattachMediaStream:function(e,t){i("DEPRECATED, reattachMediaStream will soon be removed."),e.srcObject=t.srcObject}};e.exports={shimPeerConnection:o.shimPeerConnection,shimGetUserMedia:n("IrEX"),attachMediaStream:o.attachMediaStream,reattachMediaStream:o.reattachMediaStream}},siIJ:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){function e(t,n){void 0===n&&(n=e.now),this.SchedulerAction=t,this.now=n}return e.prototype.schedule=function(e,t,n){return void 0===t&&(t=0),new this.SchedulerAction(this,e).schedule(n,t)},e.now=function(){return Date.now()},e}()},taVt:function(e,t){var n,r;window.mozRTCPeerConnection||navigator.mozGetUserMedia?(n="moz",r=parseInt(navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1],10)):(window.webkitRTCPeerConnection||navigator.webkitGetUserMedia)&&(n="webkit",r=navigator.userAgent.match(/Chrom(e|ium)/)&&parseInt(navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./)[2],10));var i=window.RTCPeerConnection||window.mozRTCPeerConnection||window.webkitRTCPeerConnection,o=window.mozRTCIceCandidate||window.RTCIceCandidate,a=window.mozRTCSessionDescription||window.RTCSessionDescription,s=window.webkitMediaStream||window.MediaStream,c="https:"===window.location.protocol&&("webkit"===n&&r>=26||"moz"===n&&r>=33),l=window.AudioContext||window.webkitAudioContext,u=document.createElement("video"),d=u&&u.canPlayType&&"probably"===u.canPlayType('video/webm; codecs="vp8", vorbis'),h=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.msGetUserMedia||navigator.mozGetUserMedia;e.exports={prefix:n,browserVersion:r,support:!!i&&!!h,supportRTCPeerConnection:!!i,supportVp8:d,supportGetUserMedia:!!h,supportDataChannel:!!(i&&i.prototype&&i.prototype.createDataChannel),supportWebAudio:!(!l||!l.prototype.createMediaStreamSource),supportMediaStream:!(!s||!s.prototype.removeTrack),supportScreenSharing:!!c,AudioContext:l,PeerConnection:i,SessionDescription:a,IceCandidate:o,MediaStream:s,getUserMedia:h}},uDUn:function(e,t){var n=1e3,r=6e4,i=60*r,o=24*i,a=365.25*o;function s(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}e.exports=function(e,t){return t=t||{},"string"==typeof e?function(e){if((e=""+e).length>1e4)return;var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(!t)return;var s=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return s*a;case"days":case"day":case"d":return s*o;case"hours":case"hour":case"hrs":case"hr":case"h":return s*i;case"minutes":case"minute":case"mins":case"min":case"m":return s*r;case"seconds":case"second":case"secs":case"sec":case"s":return s*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s}}(e):t.long?s(c=e,o,"day")||s(c,i,"hour")||s(c,r,"minute")||s(c,n,"second")||c+" ms":function(e){return e>=o?Math.round(e/o)+"d":e>=i?Math.round(e/i)+"h":e>=r?Math.round(e/r)+"m":e>=n?Math.round(e/n)+"s":e+"ms"}(e);var c}},uTKG:function(e,t,n){var r,i,o,a;o=function(){var e;return(e=e||{}).utils={},e.utils.makeEventEmitter=function(e,t){e.prototype.allowedEvents_=t,e.prototype.on=function(e,t,n){this.validateEventType_(e),this.eventListeners_=this.eventListeners_||{},this.eventListeners_[e]=this.eventListeners_[e]||[],this.eventListeners_[e].push({callback:t,context:n})},e.prototype.off=function(e,t){this.validateEventType_(e),this.eventListeners_=this.eventListeners_||{};for(var n=this.eventListeners_[e]||[],r=0;r<n.length;r++)if(n[r].callback===t)return void n.splice(r,1)},e.prototype.trigger=function(e){this.eventListeners_=this.eventListeners_||{};for(var t=this.eventListeners_[e]||[],n=0;n<t.length;n++)t[n].callback.apply(t[n].context,Array.prototype.slice.call(arguments,1))},e.prototype.validateEventType_=function(e){if(this.allowedEvents_){for(var t=!1,n=0;n<this.allowedEvents_.length;n++)if(this.allowedEvents_[n]===e){t=!0;break}if(!t)throw new Error('Unknown event "'+e+'"')}}},e.utils.elt=function(t,n,r){var i=document.createElement(t);if("string"==typeof n)e.utils.setTextContent(i,n);else if(n)for(var o=0;o<n.length;++o)i.appendChild(n[o]);for(var a in r||{})i.setAttribute(a,r[a]);return i},e.utils.setTextContent=function(e,t){e.innerHTML="",e.appendChild(document.createTextNode(t))},e.utils.on=function(e,t,n,r){e.addEventListener?e.addEventListener(t,n,r||!1):e.attachEvent&&e.attachEvent("on"+t,n)},e.utils.off=function(e,t,n,r){e.removeEventListener?e.removeEventListener(t,n,r||!1):e.detachEvent&&e.detachEvent("on"+t,n)},e.utils.preventDefault=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},e.utils.stopPropagation=function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},e.utils.stopEvent=function(t){e.utils.preventDefault(t),e.utils.stopPropagation(t)},e.utils.stopEventAnd=function(t){return function(n){return t(n),e.utils.stopEvent(n),!1}},e.utils.trim=function(e){return e.replace(/^\s+/g,"").replace(/\s+$/g,"")},e.utils.stringEndsWith=function(e,t){for(var n="string"==typeof t?[t]:t,r=0;r<n.length;r++)if(t=n[r],-1!==e.indexOf(t,e.length-t.length))return!0;return!1},e.utils.assert=function(e,t){if(!e)throw new Error(t||"assertion error")},e.utils.log=function(){if("undefined"!=typeof console&&void 0!==console.log){for(var e=["Firepad:"],t=0;t<arguments.length;t++)e.push(arguments[t]);console.log.apply(console,e)}},(e=e||{}).Span=function(){function e(e,t){this.pos=e,this.length=t}return e.prototype.end=function(){return this.pos+this.length},e}(),(e=e||{}).TextOp=function(){var t=e.utils;function n(e){this.type=e,this.chars=null,this.text=null,this.attributes=null,"insert"===e?(this.text=arguments[1],t.assert("string"==typeof this.text),this.attributes=arguments[2]||{},t.assert("object"==typeof this.attributes)):"delete"===e?(this.chars=arguments[1],t.assert("number"==typeof this.chars)):"retain"===e&&(this.chars=arguments[1],t.assert("number"==typeof this.chars),this.attributes=arguments[2]||{},t.assert("object"==typeof this.attributes))}return n.prototype.isInsert=function(){return"insert"===this.type},n.prototype.isDelete=function(){return"delete"===this.type},n.prototype.isRetain=function(){return"retain"===this.type},n.prototype.equals=function(e){return this.type===e.type&&this.text===e.text&&this.chars===e.chars&&this.attributesEqual(e.attributes)},n.prototype.attributesEqual=function(e){for(var t in this.attributes)if(this.attributes[t]!==e[t])return!1;for(t in e)if(this.attributes[t]!==e[t])return!1;return!0},n.prototype.hasEmptyAttributes=function(){var e=!0;for(var t in this.attributes){e=!1;break}return e},n}(),(e=e||{}).TextOperation=function(){"use strict";var t=e.TextOp,n=e.utils;function r(){if(!this||this.constructor!==r)return new r;this.ops=[],this.baseLength=0,this.targetLength=0}function i(e){var t=e.ops;switch(t.length){case 1:return t[0];case 2:return t[0].isRetain()?t[1]:t[1].isRetain()?t[0]:null;case 3:if(t[0].isRetain()&&t[2].isRetain())return t[1]}return null}function o(e){return e.ops[0].isRetain()?e.ops[0].chars:0}return r.prototype.equals=function(e){if(this.baseLength!==e.baseLength)return!1;if(this.targetLength!==e.targetLength)return!1;if(this.ops.length!==e.ops.length)return!1;for(var t=0;t<this.ops.length;t++)if(!this.ops[t].equals(e.ops[t]))return!1;return!0},r.prototype.retain=function(e,n){if("number"!=typeof e||e<0)throw new Error("retain expects a positive integer.");if(0===e)return this;this.baseLength+=e,this.targetLength+=e,n=n||{};var r=this.ops.length>0?this.ops[this.ops.length-1]:null;return r&&r.isRetain()&&r.attributesEqual(n)?r.chars+=e:this.ops.push(new t("retain",e,n)),this},r.prototype.insert=function(e,n){if("string"!=typeof e)throw new Error("insert expects a string");if(""===e)return this;n=n||{},this.targetLength+=e.length;var r=this.ops.length>0?this.ops[this.ops.length-1]:null,i=this.ops.length>1?this.ops[this.ops.length-2]:null;return r&&r.isInsert()&&r.attributesEqual(n)?r.text+=e:r&&r.isDelete()?i&&i.isInsert()&&i.attributesEqual(n)?i.text+=e:(this.ops[this.ops.length-1]=new t("insert",e,n),this.ops.push(r)):this.ops.push(new t("insert",e,n)),this},r.prototype.delete=function(e){if("string"==typeof e&&(e=e.length),"number"!=typeof e||e<0)throw new Error("delete expects a positive integer or a string");if(0===e)return this;this.baseLength+=e;var n=this.ops.length>0?this.ops[this.ops.length-1]:null;return n&&n.isDelete()?n.chars+=e:this.ops.push(new t("delete",e)),this},r.prototype.isNoop=function(){return 0===this.ops.length||1===this.ops.length&&this.ops[0].isRetain()&&this.ops[0].hasEmptyAttributes()},r.prototype.clone=function(){for(var e=new r,t=0;t<this.ops.length;t++)this.ops[t].isRetain()?e.retain(this.ops[t].chars,this.ops[t].attributes):this.ops[t].isInsert()?e.insert(this.ops[t].text,this.ops[t].attributes):e.delete(this.ops[t].chars);return e},r.prototype.toString=function(){return(Array.prototype.map||function(e){for(var t=[],n=0,r=this.length;n<r;n++)t[n]=e(this[n]);return t}).call(this.ops,(function(e){return e.isRetain()?"retain "+e.chars:e.isInsert()?"insert '"+e.text+"'":"delete "+e.chars})).join(", ")},r.prototype.toJSON=function(){for(var e=[],t=0;t<this.ops.length;t++)this.ops[t].hasEmptyAttributes()||e.push(this.ops[t].attributes),"retain"===this.ops[t].type?e.push(this.ops[t].chars):"insert"===this.ops[t].type?e.push(this.ops[t].text):"delete"===this.ops[t].type&&e.push(-this.ops[t].chars);return 0===e.length&&e.push(0),e},r.fromJSON=function(e){for(var t=new r,i=0,o=e.length;i<o;i++){var a=e[i],s={};"object"==typeof a&&(s=a,a=e[++i]),"number"==typeof a?a>0?t.retain(a,s):t.delete(-a):(n.assert("string"==typeof a),t.insert(a,s))}return t},r.prototype.apply=function(e,t,r){if(t=t||[],r=r||[],e.length!==this.baseLength)throw new Error("The operation's base length must be equal to the string's length.");for(var i,o,a=[],s=0,c=0,l=this.ops,u=0,d=l.length;u<d;u++){var h=l[u];if(h.isRetain()){if(c+h.chars>e.length)throw new Error("Operation can't retain more characters than are left in the string.");for(a[s++]=e.slice(c,c+h.chars),i=0;i<h.chars;i++){var p=t[c+i]||{},f={};for(o in p)f[o]=p[o],n.assert(!1!==f[o]);for(o in h.attributes)!1===h.attributes[o]?delete f[o]:f[o]=h.attributes[o],n.assert(!1!==f[o]);r.push(f)}c+=h.chars}else if(h.isInsert())for(a[s++]=h.text,i=0;i<h.text.length;i++){var m={};for(o in h.attributes)m[o]=h.attributes[o],n.assert(!1!==m[o]);r.push(m)}else c+=h.chars}if(c!==e.length)throw new Error("The operation didn't operate on the whole string.");var g=a.join("");return n.assert(g.length===r.length),g},r.prototype.invert=function(e){for(var t=0,n=new r,i=this.ops,o=0,a=i.length;o<a;o++){var s=i[o];s.isRetain()?(n.retain(s.chars),t+=s.chars):s.isInsert()?n.delete(s.text.length):(n.insert(e.slice(t,t+s.chars)),t+=s.chars)}return n},r.prototype.compose=function(e){if(this.targetLength!==e.baseLength)throw new Error("The base length of the second operation has to be the target length of the first operation");function t(e,t,n){var r,i={};for(r in e)i[r]=e[r];for(r in t)n&&!1===t[r]?delete i[r]:i[r]=t[r];return i}for(var n,i=new r,o=this.clone().ops,a=e.clone().ops,s=0,c=0,l=o[s++],u=a[c++];void 0!==l||void 0!==u;)if(l&&l.isDelete())i.delete(l.chars),l=o[s++];else if(u&&u.isInsert())i.insert(u.text,u.attributes),u=a[c++];else{if(void 0===l)throw new Error("Cannot compose operations: first operation is too short.");if(void 0===u)throw new Error("Cannot compose operations: first operation is too long.");if(l.isRetain()&&u.isRetain())n=t(l.attributes,u.attributes),l.chars>u.chars?(i.retain(u.chars,n),l.chars-=u.chars,u=a[c++]):l.chars===u.chars?(i.retain(l.chars,n),l=o[s++],u=a[c++]):(i.retain(l.chars,n),u.chars-=l.chars,l=o[s++]);else if(l.isInsert()&&u.isDelete())l.text.length>u.chars?(l.text=l.text.slice(u.chars),u=a[c++]):l.text.length===u.chars?(l=o[s++],u=a[c++]):(u.chars-=l.text.length,l=o[s++]);else if(l.isInsert()&&u.isRetain())n=t(l.attributes,u.attributes,!0),l.text.length>u.chars?(i.insert(l.text.slice(0,u.chars),n),l.text=l.text.slice(u.chars),u=a[c++]):l.text.length===u.chars?(i.insert(l.text,n),l=o[s++],u=a[c++]):(i.insert(l.text,n),u.chars-=l.text.length,l=o[s++]);else{if(!l.isRetain()||!u.isDelete())throw new Error("This shouldn't happen: op1: "+JSON.stringify(l)+", op2: "+JSON.stringify(u));l.chars>u.chars?(i.delete(u.chars),l.chars-=u.chars,u=a[c++]):l.chars===u.chars?(i.delete(u.chars),l=o[s++],u=a[c++]):(i.delete(l.chars),u.chars-=l.chars,l=o[s++])}}return i},r.prototype.shouldBeComposedWith=function(e){if(this.isNoop()||e.isNoop())return!0;var t=o(this),n=o(e),r=i(this),a=i(e);return!(!r||!a)&&(r.isInsert()&&a.isInsert()?t+r.text.length===n:!(!r.isDelete()||!a.isDelete())&&(n+a.chars===t||t===n))},r.prototype.shouldBeComposedWithInverted=function(e){if(this.isNoop()||e.isNoop())return!0;var t=o(this),n=o(e),r=i(this),a=i(e);return!(!r||!a)&&(r.isInsert()&&a.isInsert()?t+r.text.length===n||t===n:!(!r.isDelete()||!a.isDelete())&&n+a.chars===t)},r.transformAttributes=function(e,t){var r,i={},o={},a={};for(r in e)a[r]=!0;for(r in t)a[r]=!0;for(r in a){var s=e[r],c=t[r];n.assert(null!=s||null!=c),null==s?o[r]=c:null==c?i[r]=s:s===c||(i[r]=s)}return[i,o]},r.transform=function(e,t){if(e.baseLength!==t.baseLength)throw new Error("Both operations have to have the same base length");for(var n=new r,i=new r,o=e.clone().ops,a=t.clone().ops,s=0,c=0,l=o[s++],u=a[c++];void 0!==l||void 0!==u;)if(l&&l.isInsert())n.insert(l.text,l.attributes),i.retain(l.text.length),l=o[s++];else if(u&&u.isInsert())n.retain(u.text.length),i.insert(u.text,u.attributes),u=a[c++];else{if(void 0===l)throw new Error("Cannot transform operations: first operation is too short.");if(void 0===u)throw new Error("Cannot transform operations: first operation is too long.");var d;if(l.isRetain()&&u.isRetain()){var h=r.transformAttributes(l.attributes,u.attributes);l.chars>u.chars?(d=u.chars,l.chars-=u.chars,u=a[c++]):l.chars===u.chars?(d=u.chars,l=o[s++],u=a[c++]):(d=l.chars,u.chars-=l.chars,l=o[s++]),n.retain(d,h[0]),i.retain(d,h[1])}else if(l.isDelete()&&u.isDelete())l.chars>u.chars?(l.chars-=u.chars,u=a[c++]):l.chars===u.chars?(l=o[s++],u=a[c++]):(u.chars-=l.chars,l=o[s++]);else if(l.isDelete()&&u.isRetain())l.chars>u.chars?(d=u.chars,l.chars-=u.chars,u=a[c++]):l.chars===u.chars?(d=u.chars,l=o[s++],u=a[c++]):(d=l.chars,u.chars-=l.chars,l=o[s++]),n.delete(d);else{if(!l.isRetain()||!u.isDelete())throw new Error("The two operations aren't compatible");l.chars>u.chars?(d=u.chars,l.chars-=u.chars,u=a[c++]):l.chars===u.chars?(d=l.chars,l=o[s++],u=a[c++]):(d=l.chars,u.chars-=l.chars,l=o[s++]),i.delete(d)}}return[n,i]},r.prototype.transform=function(e){return r.transform(this,e)},r}(),(e=e||{}).AnnotationList=function(){var t=e.Span;function n(e,t){if(!e)throw new Error("AnnotationList assertion failed"+(t?": "+t:""))}function r(e,t){this.pos=e,this.length=t.length,this.annotation=t.annotation,this.attachedObject_=t.attachedObject}function i(e,t){this.pos=e,this.length=t.length,this.annotation=t.annotation,this.node_=t}r.prototype.getAttachedObject=function(){return this.attachedObject_},i.prototype.attachObject=function(e){this.node_.attachedObject=e};var o={equals:function(){return!1}};function a(e){this.head_=new s(0,o),this.changeHandler_=e}function s(e,t){this.length=e,this.annotation=t,this.attachedObject=null,this.next=null}return a.prototype.insertAnnotatedSpan=function(e,r){this.wrapOperation_(new t(e.pos,0),(function(t,i){n(!i||null===i.next);var a=new s(e.length,r);if(i){n(e.pos>t&&e.pos<t+i.length);var c=new s(0,o);return c.next=new s(e.pos-t,i.annotation),c.next.next=a,a.next=new s(t+i.length-e.pos,i.annotation),c.next}return a}))},a.prototype.removeSpan=function(e){0!==e.length&&this.wrapOperation_(e,(function(t,r){n(null!==r);var i=new s(0,o),a=i;for(e.pos>t&&(a.next=new s(e.pos-t,r.annotation),a=a.next);e.end()>t+r.length;)t+=r.length,r=r.next;var c=t+r.length-e.end();return c>0&&(a.next=new s(c,r.annotation)),i.next}))},a.prototype.updateSpan=function(e,t){0!==e.length&&this.wrapOperation_(e,(function(r,i){n(null!==i);var a=new s(0,o),c=a,l=r,u=e.pos-l;for(n(u<i.length),u>0&&(c.next=new s(u,i.annotation),l+=(c=c.next).length);null!==i&&e.end()>=r+i.length;){var d=r+i.length-l;c.next=new s(d,t(i.annotation,d)),c=c.next,r+=i.length,i=i.next,l=r}var h=e.end()-l;return h>0&&(n(h<i.length),c.next=new s(h,t(i.annotation,h)),l+=(c=c.next).length,c.next=new s(r+i.length-l,i.annotation)),a.next}))},a.prototype.wrapOperation_=function(e,t){if(e.pos<0)throw new Error("Span start cannot be negative.");var n,o=[],a=[],c=this.getAffectedNodes_(e);null!==c.start?(n=c.end.next,c.end.next=null):n=c.succ;var l=t(c.startPos,c.start),u=!1,d=!1;if(l){var h;for(this.mergeNodesWithSameAnnotations_(l),c.pred&&c.pred.annotation.equals(l.annotation)?(u=!0,l.length+=c.pred.length,c.beforePred.next=l,h=c.predPos):(c.beforeStart.next=l,h=c.startPos);l.next;)a.push(new i(h,l)),h+=l.length,l=l.next;c.succ&&c.succ.annotation.equals(l.annotation)?(l.length+=c.succ.length,d=!0,l.next=c.succ.next):l.next=n,a.push(new i(h,l))}else c.pred&&c.succ&&c.pred.annotation.equals(c.succ.annotation)?(u=!0,d=!0,l=new s(c.pred.length+c.succ.length,c.pred.annotation),c.beforePred.next=l,l.next=c.succ.next,a.push(new i(c.startPos-c.pred.length,l))):c.beforeStart.next=n;u&&o.push(new r(c.predPos,c.pred));for(var p=c.startPos,f=c.start;null!==f;)o.push(new r(p,f)),p+=f.length,f=f.next;d&&o.push(new r(p,c.succ)),this.changeHandler_(o,a)},a.prototype.getAffectedNodes_=function(e){for(var t={},n=null,r=this.head_,i=r.next,o=0;null!==i&&e.pos>=o+i.length;)o+=i.length,n=r,r=i,i=i.next;if(null===i&&(0!==e.length||e.pos!==o))throw new Error("Span start exceeds the bounds of the AnnotationList.");for(t.startPos=o,0===e.length&&e.pos===o?t.start=null:t.start=i,t.beforeStart=r,o===e.pos&&o>0?(t.pred=r,t.predPos=o-r.length,t.beforePred=n):t.pred=null;null!==i&&e.end()>o;)o+=i.length,r=i,i=i.next;if(e.end()>o)throw new Error("Span end exceeds the bounds of the AnnotationList.");return 0===e.length&&e.end()===o?t.end=null:t.end=r,t.succ=o===e.end()?i:null,t},a.prototype.mergeNodesWithSameAnnotations_=function(e){if(e)for(var t=null,n=e;n;)t&&t.annotation.equals(n.annotation)?(t.length+=n.length,t.next=n.next):t=n,n=n.next},a.prototype.forEach=function(e){for(var t=this.head_.next;null!==t;)e(t.length,t.annotation,t.attachedObject),t=t.next},a.prototype.getAnnotatedSpansForPos=function(e){for(var t=0,n=this.head_.next,i=null;null!==n&&t+n.length<=e;)t+=n.length,i=n,n=n.next;if(null===n&&t!==e)throw new Error("pos exceeds the bounds of the AnnotationList");var o=[];return t===e&&i&&o.push(new r(t-i.length,i)),n&&o.push(new r(t,n)),o},a.prototype.getAnnotatedSpansForSpan=function(e){if(0===e.length)return[];for(var n=[],r=this.getAffectedNodes_(e),i=r.startPos,o=r.start;null!==o&&i<e.end();){var a=Math.max(i,e.pos),s=Math.min(i+o.length,e.end()),c=new t(a,s-a);c.annotation=o.annotation,n.push(c),i+=o.length,o=o.next}return n},a.prototype.count=function(){for(var e=0,t=this.head_.next,r=null;null!==t;)r&&n(!r.annotation.equals(t.annotation)),r=t,t=t.next,e++;return e},s.prototype.clone=function(){var e=new s(this.spanLength,this.annotation);return e.next=this.next,e},a}(),(e=e||{}).Cursor=function(){"use strict";function e(e,t){this.position=e,this.selectionEnd=t}return e.fromJSON=function(t){return new e(t.position,t.selectionEnd)},e.prototype.equals=function(e){return this.position===e.position&&this.selectionEnd===e.selectionEnd},e.prototype.compose=function(e){return e},e.prototype.transform=function(t){function n(e){for(var n=e,r=t.ops,i=0,o=t.ops.length;i<o&&(r[i].isRetain()?e-=r[i].chars:r[i].isInsert()?n+=r[i].text.length:(n-=Math.min(e,r[i].chars),e-=r[i].chars),!(e<0));i++);return n}var r=n(this.position);return this.position===this.selectionEnd?new e(r,r):new e(r,n(this.selectionEnd))},e}(),(e=e||{}).WrappedOperation=function(e){"use strict";function t(e,t){this.wrapped=e,this.meta=t}function n(e,t){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])}function r(e,t){return e&&"object"==typeof e&&"function"==typeof e.transform?e.transform(t):e}return t.prototype.apply=function(){return this.wrapped.apply.apply(this.wrapped,arguments)},t.prototype.invert=function(){var e=this.meta;return new t(this.wrapped.invert.apply(this.wrapped,arguments),e&&"object"==typeof e&&"function"==typeof e.invert?e.invert.apply(e,arguments):e)},t.prototype.compose=function(e){return new t(this.wrapped.compose(e.wrapped),function(e,t){if(e&&"object"==typeof e){if("function"==typeof e.compose)return e.compose(t);var r={};return n(e,r),n(t,r),r}return t}(this.meta,e.meta))},t.transform=function(e,n){var i=e.wrapped.transform(n.wrapped);return[new t(i[0],r(e.meta,n.wrapped)),new t(i[1],r(n.meta,e.wrapped))]},t.prototype.transform=function(e){return t.transform(this,e)},t}(),(e=e||{}).UndoManager=function(){"use strict";var e="normal";function t(t){this.maxItems=t||50,this.state=e,this.dontCompose=!1,this.undoStack=[],this.redoStack=[]}function n(e,t){for(var n=[],r=t.constructor,i=e.length-1;i>=0;i--){var o=r.transform(e[i],t);"function"==typeof o[0].isNoop&&o[0].isNoop()||n.push(o[0]),t=o[1]}return n.reverse()}return t.prototype.add=function(e,t){if("undoing"===this.state)this.redoStack.push(e),this.dontCompose=!0;else if("redoing"===this.state)this.undoStack.push(e),this.dontCompose=!0;else{var n=this.undoStack;!this.dontCompose&&t&&n.length>0?n.push(e.compose(n.pop())):(n.push(e),n.length>this.maxItems&&n.shift()),this.dontCompose=!1,this.redoStack=[]}},t.prototype.transform=function(e){this.undoStack=n(this.undoStack,e),this.redoStack=n(this.redoStack,e)},t.prototype.performUndo=function(t){if(this.state="undoing",0===this.undoStack.length)throw new Error("undo not possible");t(this.undoStack.pop()),this.state=e},t.prototype.performRedo=function(t){if(this.state="redoing",0===this.redoStack.length)throw new Error("redo not possible");t(this.redoStack.pop()),this.state=e},t.prototype.canUndo=function(){return 0!==this.undoStack.length},t.prototype.canRedo=function(){return 0!==this.redoStack.length},t.prototype.isUndoing=function(){return"undoing"===this.state},t.prototype.isRedoing=function(){return"redoing"===this.state},t}(),(e=e||{}).Client=function(){"use strict";function e(){this.state=n}function t(){}e.prototype.setState=function(e){this.state=e},e.prototype.applyClient=function(e){this.setState(this.state.applyClient(this,e))},e.prototype.applyServer=function(e){this.setState(this.state.applyServer(this,e))},e.prototype.serverAck=function(){this.setState(this.state.serverAck(this))},e.prototype.serverRetry=function(){this.setState(this.state.serverRetry(this))},e.prototype.sendOperation=function(e){throw new Error("sendOperation must be defined in child class")},e.prototype.applyOperation=function(e){throw new Error("applyOperation must be defined in child class")},e.Synchronized=t,t.prototype.applyClient=function(e,t){return e.sendOperation(t),new r(t)},t.prototype.applyServer=function(e,t){return e.applyOperation(t),this},t.prototype.serverAck=function(e){throw new Error("There is no pending operation.")},t.prototype.serverRetry=function(e){throw new Error("There is no pending operation.")};var n=new t;function r(e){this.outstanding=e}function i(e,t){this.outstanding=e,this.buffer=t}return e.AwaitingConfirm=r,r.prototype.applyClient=function(e,t){return new i(this.outstanding,t)},r.prototype.applyServer=function(e,t){var n=this.outstanding.transform(t);return e.applyOperation(n[1]),new r(n[0])},r.prototype.serverAck=function(e){return n},r.prototype.serverRetry=function(e){return e.sendOperation(this.outstanding),this},e.AwaitingWithBuffer=i,i.prototype.applyClient=function(e,t){var n=this.buffer.compose(t);return new i(this.outstanding,n)},i.prototype.applyServer=function(e,t){var n=this.outstanding.transform(t),r=this.buffer.transform(n[1]);return e.applyOperation(r[1]),new i(n[0],r[0])},i.prototype.serverRetry=function(e){var t=this.outstanding.compose(this.buffer);return e.sendOperation(t),new r(t)},i.prototype.serverAck=function(e){return e.sendOperation(this.buffer),new r(this.buffer)},e}(),(e=e||{}).EditorClient=function(){"use strict";var t=e.Client,n=e.Cursor,r=e.UndoManager,i=e.WrappedOperation;function o(e,t){this.cursorBefore=e,this.cursorAfter=t}function a(e,t){this.id=e,this.editorAdapter=t}function s(e,i){t.call(this),this.serverAdapter=e,this.editorAdapter=i,this.undoManager=new r,this.clients={};var o=this;this.editorAdapter.registerCallbacks({change:function(e,t){o.onChange(e,t)},cursorActivity:function(){o.onCursorActivity()},blur:function(){o.onBlur()},focus:function(){o.onFocus()}}),this.editorAdapter.registerUndo((function(){o.undo()})),this.editorAdapter.registerRedo((function(){o.redo()})),this.serverAdapter.registerCallbacks({ack:function(){o.serverAck(),o.focused&&o.state instanceof t.Synchronized&&(o.updateCursor(),o.sendCursor(o.cursor)),o.emitStatus()},retry:function(){o.serverRetry()},operation:function(e){o.applyServer(e)},cursor:function(e,r,i){if(o.serverAdapter.userId_!==e&&o.state instanceof t.Synchronized){var a=o.getClientObject(e);r?(i&&a.setColor(i),a.updateCursor(n.fromJSON(r))):a.removeCursor()}}})}return o.prototype.invert=function(){return new o(this.cursorAfter,this.cursorBefore)},o.prototype.compose=function(e){return new o(this.cursorBefore,e.cursorAfter)},o.prototype.transform=function(e){return new o(this.cursorBefore?this.cursorBefore.transform(e):null,this.cursorAfter?this.cursorAfter.transform(e):null)},a.prototype.setColor=function(e){this.color=e},a.prototype.updateCursor=function(e){this.removeCursor(),this.cursor=e,this.mark=this.editorAdapter.setOtherCursor(e,this.color,this.id)},a.prototype.removeCursor=function(){this.mark&&this.mark.clear()},function(e,t){function n(){}n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}(s,t),s.prototype.getClientObject=function(e){return this.clients[e]||(this.clients[e]=new a(e,this.editorAdapter))},s.prototype.applyUnredo=function(e){this.undoManager.add(this.editorAdapter.invertOperation(e)),this.editorAdapter.applyOperation(e.wrapped),this.cursor=e.meta.cursorAfter,this.cursor&&this.editorAdapter.setCursor(this.cursor),this.applyClient(e.wrapped)},s.prototype.undo=function(){var e=this;this.undoManager.canUndo()&&this.undoManager.performUndo((function(t){e.applyUnredo(t)}))},s.prototype.redo=function(){var e=this;this.undoManager.canRedo()&&this.undoManager.performRedo((function(t){e.applyUnredo(t)}))},s.prototype.onChange=function(e,t){var n=this.cursor;this.updateCursor();var r,a=this.undoManager.undoStack.length>0&&t.shouldBeComposedWithInverted((r=this.undoManager.undoStack,r[r.length-1]).wrapped),s=new o(this.cursor,n);this.undoManager.add(new i(t,s),a),this.applyClient(e)},s.prototype.updateCursor=function(){this.cursor=this.editorAdapter.getCursor()},s.prototype.onCursorActivity=function(){var e=this.cursor;this.updateCursor(),!this.focused||e&&this.cursor.equals(e)||this.sendCursor(this.cursor)},s.prototype.onBlur=function(){this.cursor=null,this.sendCursor(null),this.focused=!1},s.prototype.onFocus=function(){this.focused=!0,this.onCursorActivity()},s.prototype.sendCursor=function(e){this.state instanceof t.AwaitingWithBuffer||this.serverAdapter.sendCursor(e)},s.prototype.sendOperation=function(e){this.serverAdapter.sendOperation(e),this.emitStatus()},s.prototype.applyOperation=function(e){this.editorAdapter.applyOperation(e),this.updateCursor(),this.undoManager.transform(new i(e,null))},s.prototype.emitStatus=function(){var e=this;setTimeout((function(){e.trigger("synced",e.state instanceof t.Synchronized)}),0)},s}(),e.utils.makeEventEmitter(e.EditorClient,["synced"]),(e=e||{}).AttributeConstants={BOLD:"b",ITALIC:"i",UNDERLINE:"u",STRIKE:"s",FONT:"f",FONT_SIZE:"fs",COLOR:"c",BACKGROUND_COLOR:"bc",ENTITY_SENTINEL:"ent",LINE_SENTINEL:"l",LINE_INDENT:"li",LINE_ALIGN:"la",LIST_TYPE:"lt"},e.sentinelConstants={LINE_SENTINEL_CHARACTER:"\ue000",ENTITY_SENTINEL_CHARACTER:"\ue001"},(e=e||{}).EntityManager=function(){var t=e.utils;function n(){this.entities_={};var e=["src","alt","width","height","style","class"];this.register("img",{render:function(e){t.assert(e.src,"image entity should have 'src'!");for(var n=["src","alt","width","height","style","class"],r="<img ",i=0;i<n.length;i++){var o=n[i];o in e&&(r+=" "+o+'="'+e[o]+'"')}return r+">"},fromElement:function(t){for(var n={},r=0;r<e.length;r++){var i=e[r];t.hasAttribute(i)&&(n[i]=t.getAttribute(i))}return n}})}return n.prototype.register=function(t,n){e.utils.assert(n.render,"Entity options should include a 'render' function!"),e.utils.assert(n.fromElement,"Entity options should include a 'fromElement' function!"),this.entities_[t]=n},n.prototype.renderToElement=function(e,t){return this.tryRenderToElement_(e,"render",t)},n.prototype.exportToElement=function(e){var t=this.tryRenderToElement_(e,"export")||this.tryRenderToElement_(e,"getHtml")||this.tryRenderToElement_(e,"render");return t.setAttribute("data-firepad-entity",e.type),t},n.prototype.updateElement=function(e,t){var n=e.type,r=e.info;this.entities_[n]&&void 0!==this.entities_[n].update&&this.entities_[n].update(r,t)},n.prototype.fromElement=function(t){var n=t.getAttribute("data-firepad-entity");if(n||(n=t.nodeName.toLowerCase()),n&&this.entities_[n]){var r=this.entities_[n].fromElement(t);return new e.Entity(n,r)}},n.prototype.tryRenderToElement_=function(t,n,r){var i=t.type,o=t.info;if(this.entities_[i]&&this.entities_[i][n]){var a=e.document||window&&window.document,s=this.entities_[i][n](o,r,a);if(s){if("string"==typeof s){var c=(e.document||document).createElement("div");return c.innerHTML=s,c.childNodes[0]}if("object"==typeof s)return e.utils.assert(void 0!==s.nodeType,"Error rendering "+i+" entity.  render() function must return an html string or a DOM element."),s}}},n.prototype.entitySupportsUpdate=function(e){return this.entities_[e]&&this.entities_[e].update},n}(),(e=e||{}).Entity=function(){var t=e.AttributeConstants.ENTITY_SENTINEL,n=t+"_";function r(e,t){if(!(this instanceof r))return new r(e,t);this.type=e,this.info=t||{}}return r.prototype.toAttributes=function(){var e={};for(var r in e[t]=this.type,this.info)e[n+r]=this.info[r];return e},r.fromAttributes=function(e){var i=e[t],o={};for(var a in e)0===a.indexOf(n)&&(o[a.substr(n.length)]=e[a]);return new r(i,o)},r}(),(e=e||{}).RichTextCodeMirror=function(){var t=e.AnnotationList,n=e.Span,r=e.utils,i=e.AttributeConstants,o={c:"color",bc:"background-color",fs:"font-size",li:function(e){return"padding-left: "+40*e+"px"}},a={};function s(e,n,r){this.codeMirror=e,this.options_=r||{},this.entityManager_=n,this.currentAttributes_=null;var i=this;this.annotationList_=new t((function(e,t){i.onAnnotationsChanged_(e,t)})),this.initAnnotationList_(),p(this,"onCodeMirrorBeforeChange_"),p(this,"onCodeMirrorChange_"),p(this,"onCursorActivity_"),parseInt(CodeMirror.version)>=4?this.codeMirror.on("changes",this.onCodeMirrorChange_):this.codeMirror.on("change",this.onCodeMirrorChange_),this.codeMirror.on("beforeChange",this.onCodeMirrorBeforeChange_),this.codeMirror.on("cursorActivity",this.onCursorActivity_),this.changeId_=0,this.outstandingChanges_={},this.dirtyLines_=[]}r.makeEventEmitter(s,["change","attributesChange","newLine"]);var c=e.sentinelConstants.LINE_SENTINEL_CHARACTER,l=e.sentinelConstants.ENTITY_SENTINEL_CHARACTER;function u(e,t){return function(e,t){return e.line-t.line||e.ch-t.ch}(e,t)<=0}function d(e){if(0===e.length)return 0;for(var t=0,n=0;n<e.length;n++)t+=e[n].length;return t+e.length-1}function h(e){this.attributes=e||{}}function p(e,t){var n=e[t];e[t]=function(){n.apply(e,arguments)}}return s.prototype.detach=function(){this.codeMirror.off("beforeChange",this.onCodeMirrorBeforeChange_),this.codeMirror.off("change",this.onCodeMirrorChange_),this.codeMirror.off("changes",this.onCodeMirrorChange_),this.codeMirror.off("cursorActivity",this.onCursorActivity_),this.clearAnnotations_()},s.prototype.toggleAttribute=function(e,t){var n=t||!0;if(this.emptySelection_()){var r=this.getCurrentAttributes_();r[e]===n?delete r[e]:r[e]=n,this.currentAttributes_=r}else{var i=this.getCurrentAttributes_()[e]!==n&&n;this.setAttribute(e,i)}},s.prototype.setAttribute=function(e,t){var n=this.codeMirror;if(this.emptySelection_()){var r=this.getCurrentAttributes_();!1===t?delete r[e]:r[e]=t,this.currentAttributes_=r}else this.updateTextAttributes(n.indexFromPos(n.getCursor("start")),n.indexFromPos(n.getCursor("end")),(function(n){!1===t?delete n[e]:n[e]=t})),this.updateCurrentAttributes_()},s.prototype.updateTextAttributes=function(e,t,r,o,a){var s=[],c=e,l=this;this.annotationList_.updateSpan(new n(e,t-e),(function(e,t){var n={};for(var u in e.attributes)n[u]=e.attributes[u];n[i.LINE_SENTINEL]&&!a||r(n);var d={},p={};return l.computeChangedAttributes_(e.attributes,n,d,p),function(e){for(var t in e)return!1;return!0}(d)||s.push({start:c,end:c+t,attributes:d,attributesInverse:p,origin:o}),c+=t,new h(n)})),s.length>0&&this.trigger("attributesChange",this,s)},s.prototype.computeChangedAttributes_=function(e,t,n,r){var i,o={};for(i in e)o[i]=!0;for(i in t)o[i]=!0;for(i in o)i in t?i in e?e[i]!==t[i]&&(n[i]=t[i],r[i]=e[i]):(n[i]=t[i],r[i]=!1):(n[i]=!1,r[i]=e[i])},s.prototype.toggleLineAttribute=function(e,t){var n,r=this.getCurrentLineAttributes_();n=!(e in r&&r[e]===t)&&t,this.setLineAttribute(e,n)},s.prototype.setLineAttribute=function(e,t){this.updateLineAttributesForSelection((function(n){!1===t?delete n[e]:n[e]=t}))},s.prototype.updateLineAttributesForSelection=function(e){var t=this.codeMirror,n=t.getCursor("start"),r=t.getCursor("end"),i=n.line,o=r.line,a=t.getLine(o),s=this.areLineSentinelCharacters_(a.substr(0,r.ch));o>i&&s&&o--,this.updateLineAttributes(i,o,e)},s.prototype.updateLineAttributes=function(e,t,n){for(var r=e;r<=t;r++){var o=this.codeMirror.getLine(r),a=this.codeMirror.indexFromPos({line:r,ch:0});if(o[0]!==c){var s={};s[i.LINE_SENTINEL]=!0,n(s),this.insertText(a,c,s)}else this.updateTextAttributes(a,a+1,n,null,!0)}},s.prototype.replaceText=function(e,t,n,r,i){this.changeId_++;var o="cmrt-"+this.changeId_;this.outstandingChanges_[o]={origOrigin:i,attributes:r};var a=this.codeMirror,s=a.posFromIndex(e),c="number"==typeof t?a.posFromIndex(t):null;a.replaceRange(n,s,c,o)},s.prototype.insertText=function(e,t,n,r){var i=this.codeMirror,o=i.getCursor(),a="RTCMADAPTER"==r&&!i.somethingSelected()&&e==i.indexFromPos(o);this.replaceText(e,null,t,n,r),a&&i.setCursor(o)},s.prototype.removeText=function(e,t,n){var r=this.codeMirror;r.replaceRange("",r.posFromIndex(e),r.posFromIndex(t),n)},s.prototype.insertEntityAtCursor=function(e,t,n){var r=this.codeMirror,i=r.indexFromPos(r.getCursor("head"));this.insertEntityAt(i,e,t,n)},s.prototype.insertEntityAt=function(t,n,r,i){this.codeMirror,this.insertEntity_(t,new e.Entity(n,r),i)},s.prototype.insertEntity_=function(e,t,n){this.replaceText(e,null,l,t.toAttributes(),n)},s.prototype.getAttributeSpans=function(e,t){for(var r=[],i=this.annotationList_.getAnnotatedSpansForSpan(new n(e,t-e)),o=0;o<i.length;o++)r.push({length:i[o].length,attributes:i[o].annotation.attributes});return r},s.prototype.end=function(){var e=this.codeMirror.lineCount()-1;return this.codeMirror.indexFromPos({line:e,ch:this.codeMirror.getLine(e).length})},s.prototype.getRange=function(e,t){var n=this.codeMirror.posFromIndex(e),r=this.codeMirror.posFromIndex(t);return this.codeMirror.getRange(n,r)},s.prototype.initAnnotationList_=function(){var e=this.end();0!==e&&this.annotationList_.insertAnnotatedSpan(new n(0,e),new h)},s.prototype.onAnnotationsChanged_=function(e,t){var n,r={};this.tryToUpdateEntitiesInPlace(e,t);for(var o=0;o<e.length;o++){var a=e[o].annotation.attributes;i.LINE_SENTINEL in a&&(r[this.codeMirror.posFromIndex(e[o].pos).line]=!0),(n=e[o].getAttachedObject())&&n.clear()}for(o=0;o<t.length;o++){var s=t[o].annotation,c=i.LINE_SENTINEL in s.attributes,l=i.ENTITY_SENTINEL in s.attributes,u=this.codeMirror.posFromIndex(t[o].pos);if(c)r[u.line]=!0;else if(l)this.markEntity_(t[o]);else{var d=this.getClassNameForAttributes_(s.attributes);if(""!==d){var h=this.codeMirror.posFromIndex(t[o].pos+t[o].length);n=this.codeMirror.markText(u,h,{className:d}),t[o].attachObject(n)}}}for(var p in r)this.dirtyLines_.push(this.codeMirror.getLineHandle(Number(p))),this.queueLineMarking_()},s.prototype.tryToUpdateEntitiesInPlace=function(e,t){for(var n=e.length;n--;)for(var r=e[n],i=t.length;i--;){var o=t[i];if(r.pos==o.pos&&r.length==o.length&&r.annotation.attributes.ent&&r.annotation.attributes.ent==o.annotation.attributes.ent){var a=o.annotation.attributes.ent;if(this.entityManager_.entitySupportsUpdate(a)){e.splice(n,1),t.splice(i,1);var s=r.getAttachedObject();s.update(o.annotation.attributes),o.attachObject(s)}}}},s.prototype.queueLineMarking_=function(){if(null==this.lineMarkTimeout_){var e=this;this.lineMarkTimeout_=setTimeout((function(){e.lineMarkTimeout_=null;for(var t=[],n=0;n<e.dirtyLines_.length;n++){var r=e.codeMirror.getLineNumber(e.dirtyLines_[n]);t.push(Number(r))}e.dirtyLines_=[],t.sort((function(e,t){return e-t}));var i=-1;for(n=0;n<t.length;n++){var o=t[n];o>i&&(i=e.markLineSentinelCharactersForChangedLines_(o,o))}}),0)}},s.prototype.addStyleWithCSS_=function(e){var t=document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e)),t.appendChild(n)},s.prototype.getClassNameForAttributes_=function(t){var n="";for(var r in t){var s=t[r];if(r===i.LINE_SENTINEL)e.utils.assert(!0===s,"LINE_SENTINEL attribute should be true if it exists.");else{var c=(this.options_.cssPrefix||"cmrt-")+r;if(!0!==s){r===i.FONT_SIZE&&"string"!=typeof s&&(s+="px");var l=s.toString().toLowerCase().replace(/[^a-z0-9-_]/g,"-");if(c+="-"+l,o[r]&&(a[r]||(a[r]={}),!a[r][l])){a[r][l]=!0;var u=o[r],d="function"==typeof u?u(s):u+": "+s,h=r==i.LINE_INDENT?"pre."+c:"."+c;this.addStyleWithCSS_(h+" { "+d+" }"),r===i.LINE_INDENT&&(h="pre.CodeMirror-line."+c,this.addStyleWithCSS_(h+" { "+d+" }"))}}n=n+" "+c}}return n},s.prototype.markEntity_=function(t){for(var n=t.annotation.attributes,r=e.Entity.fromAttributes(n),i=this.codeMirror,o=this,a=[],s=0;s<t.length;s++){var c=i.posFromIndex(t.pos+s),l=i.posFromIndex(t.pos+s+1),u={collapsed:!0,atomic:!0,inclusiveLeft:!1,inclusiveRight:!1},d=this.createEntityHandle_(r,t.pos),h=this.entityManager_.renderToElement(r,d);h&&(u.replacedWith=h);var p=i.markText(c,l,u);a.push(p),d.setMarker(p)}t.attachObject({clear:function(){for(var e=0;e<a.length;e++)a[e].clear()},update:function(t){for(var n=e.Entity.fromAttributes(t),r=0;r<a.length;r++)o.entityManager_.updateElement(n,a[r].replacedWith)}}),this.queueRefresh_()},s.prototype.queueRefresh_=function(){var e=this;this.refreshTimer_||(this.refreshTimer_=setTimeout((function(){e.codeMirror.refresh(),e.refreshTimer_=null}),0))},s.prototype.createEntityHandle_=function(t,n){var r=null,i=this;function o(){if(r){var e=r.find();return e?i.codeMirror.indexFromPos(e.from):null}return n}return{find:o,remove:function(){var e=o();null!=e&&(i.codeMirror.focus(),i.removeText(e,e+1))},replace:function(n){var r=e.AttributeConstants.ENTITY_SENTINEL,a=r+"_",s=o();i.updateTextAttributes(s,s+1,(function(e){for(var i in e)delete e[i];for(var o in e[r]=t.type,n)e[a+o]=n[o]}))},setMarker:function(e){r=e}}},s.prototype.lineClassRemover_=function(e){var t=this.codeMirror,n=t.getLineHandle(e);return{clear:function(){t.removeLineClass(n,"text",".*")}}},s.prototype.emptySelection_=function(){var e=this.codeMirror.getCursor("start"),t=this.codeMirror.getCursor("end");return e.line===t.line&&e.ch===t.ch},s.prototype.onCodeMirrorBeforeChange_=function(e,t){if("+input"===t.origin||"paste"===t.origin){for(var n=[],r=0;r<t.text.length;r++){var i=t.text[r];i=i.replace(new RegExp("["+c+l+"]","g"),""),n.push(i)}t.update(t.from,t.to,n)}},s.prototype.onCodeMirrorChange_=function(e,t){if("object"==typeof t.from){for(var r=[];t;)r.push(t),t=t.next;t=r}for(var i=this.convertCoordinateSystemForChanges_(t),o=[],a=0;a<i.length;a++){var s,c=i[a],l=c.start,u=(c.end,c.text),d=c.removed,p=c.origin;if(d.length>0){for(var f=this.annotationList_.getAnnotatedSpansForSpan(new n(l,d.length)),m=0,g=0;g<f.length;g++){var v=f[g];o.push({start:l,end:l+v.length,removedAttributes:v.annotation.attributes,removed:d.substr(m,v.length),attributes:{},text:"",origin:c.origin}),m+=v.length}this.annotationList_.removeSpan(new n(l,d.length))}u.length>0&&("+input"===c.origin||"paste"===c.origin?s=this.currentAttributes_||{}:p in this.outstandingChanges_?(s=this.outstandingChanges_[p].attributes,p=this.outstandingChanges_[p].origOrigin,delete this.outstandingChanges_[p]):s={},this.annotationList_.insertAnnotatedSpan(new n(l,u.length),new h(s)),o.push({start:l,end:l,removedAttributes:{},removed:"",text:u,attributes:s,origin:p}))}this.markLineSentinelCharactersForChanges_(t),o.length>0&&this.trigger("change",this,o)},s.prototype.convertCoordinateSystemForChanges_=function(e){var t=this,n=function(e){return t.codeMirror.indexFromPos(e)};function r(e,t){return function(n){return u(n,t.from)?e(n):u(t.to,n)?e({line:n.line+t.text.length-1-(t.to.line-t.from.line),ch:t.to.line<n.line?n.ch:t.text.length<=1?n.ch-(t.to.ch-t.from.ch)+d(t.text):n.ch-t.to.ch+(r=t.text,r[r.length-1]).length})+d(t.removed)-d(t.text):t.from.line===n.line?e(t.from)+n.ch-t.from.ch:e(t.from)+d(t.removed.slice(0,n.line-t.from.line))+1+n.ch;var r}}for(var i=[],o=e.length-1;o>=0;o--){var a=e[o],s=(n=r(n,a))(a.from),c=a.removed.join("\n"),l=a.text.join("\n");i.unshift({start:s,end:s+c.length,removed:c,text:l,origin:a.origin})}return i},s.prototype.markLineSentinelCharactersForChanges_=function(e){for(var t=Number.MAX_VALUE,n=-1,r=0;r<e.length;r++){var i=e[r],o=i.from.line;i.from.ch,(i.removed.length>1||i.removed[0].indexOf(c)>=0)&&(t=Math.min(t,o),n=Math.max(n,o)),i.text.length>1?(t=Math.min(t,o),n=Math.max(n,o+i.text.length-1)):i.text[0].indexOf(c)>=0&&(t=Math.min(t,o),n=Math.max(n,o))}n=Math.min(n,this.codeMirror.lineCount()-1),this.markLineSentinelCharactersForChangedLines_(t,n)},s.prototype.markLineSentinelCharactersForChangedLines_=function(e,t){if(e<Number.MAX_VALUE)for(;e>0&&this.lineIsListItemOrIndented_(e-1);)e--;if(t>-1)for(var n=this.codeMirror.lineCount();t+1<n&&this.lineIsListItemOrIndented_(t+1);)t++;for(var r=[],i=this.codeMirror,o=e;o<=t;o++){var a=i.getLine(o),s=i.getLineHandle(o);if(i.removeLineClass(s,"text",".*"),a.length>0)for(var l=a.indexOf(c);l>=0;){for(var u=l;l<a.length&&a[l]===c;){for(var d=i.findMarksAt({line:o,ch:l}),h=0;h<d.length;h++)d[h].isForLineSentinel&&d[h].clear();l++}this.markLineSentinelCharacters_(o,u,l,r),l=a.indexOf(c,l)}else r=[]}return t},s.prototype.markLineSentinelCharacters_=function(e,t,n,r){var o=this.codeMirror,a=null,s=null,c=function(){var e=s.find();return e?e.from.line:null};if(0===t){var l=this.getLineAttributes_(e),u=l[i.LIST_TYPE],d=l[i.LINE_INDENT]||0;for(u&&0===d&&(d=1);d>=r.length;)r.push(1);"o"===u?(a=this.makeOrderedListElement_(r[d]),r[d]++):"u"===u?(a=this.makeUnorderedListElement_(),r[d]=1):"t"===u?(a=this.makeTodoListElement_(!1,c),r[d]=1):"tc"===u&&(a=this.makeTodoListElement_(!0,c),r[d]=1);var h=this.getClassNameForAttributes_(l);""!==h&&this.codeMirror.addLineClass(e,"text",h),r[d+1]=1}var p={inclusiveLeft:!0,collapsed:!0};a&&(p.replacedWith=a),(s=o.markText({line:e,ch:t},{line:e,ch:n},p)).isForLineSentinel=!0},s.prototype.makeOrderedListElement_=function(e){return r.elt("div",e+".",{class:"firepad-list-left"})},s.prototype.makeUnorderedListElement_=function(){return r.elt("div","\u2022",{class:"firepad-list-left"})},s.prototype.toggleTodo=function(e){var t,n=i.LIST_TYPE,r=this.getCurrentLineAttributes_();!(n in r)||"t"!==r[n]&&"tc"!==r[n]?t="t":"t"===r[n]?t="tc":"tc"===r[n]&&(t=!!e&&"t"),this.setLineAttribute(n,t)},s.prototype.makeTodoListElement_=function(e,t){var n={type:"checkbox",class:"firepad-todo-left"};e&&(n.checked=!0);var i=r.elt("input",!1,n),o=this;return r.on(i,"click",r.stopEventAnd((function(e){o.codeMirror.setCursor({line:t(),ch:1}),o.toggleTodo(!0)}))),i},s.prototype.lineIsListItemOrIndented_=function(e){var t=this.getLineAttributes_(e);return!1!==(t[i.LIST_TYPE]||!1)||0!==(t[i.LINE_INDENT]||0)},s.prototype.onCursorActivity_=function(){var e=this;setTimeout((function(){e.updateCurrentAttributes_()}),1)},s.prototype.getCurrentAttributes_=function(){return this.currentAttributes_||this.updateCurrentAttributes_(),this.currentAttributes_},s.prototype.updateCurrentAttributes_=function(){var t=this.codeMirror,n=t.indexFromPos(t.getCursor("anchor")),r=t.indexFromPos(t.getCursor("head")),o=r;if(n>r){for(;o<this.end();){var a=this.getRange(o,o+1);if("\n"!==a&&a!==c)break;o++}o<this.end()&&o++}else for(;o>0&&("\n"===(a=this.getRange(o-1,o))||a===c);)o--;var s=this.annotationList_.getAnnotatedSpansForPos(o);this.currentAttributes_={};var l={};for(var u in s.length>0&&!(i.LINE_SENTINEL in s[0].annotation.attributes)?l=s[0].annotation.attributes:s.length>1&&(e.utils.assert(!(i.LINE_SENTINEL in s[1].annotation.attributes),"Cursor can't be between two line sentinel characters."),l=s[1].annotation.attributes),l)"l"!==u&&"lt"!==u&&"li"!==u&&0!==u.indexOf(i.ENTITY_SENTINEL)&&(this.currentAttributes_[u]=l[u])},s.prototype.getCurrentLineAttributes_=function(){var e=this.codeMirror,t=e.getCursor("anchor"),n=e.getCursor("head"),r=n.line;return 0===n.ch&&t.line<n.line&&r--,this.getLineAttributes_(r)},s.prototype.getLineAttributes_=function(t){var r={},i=this.codeMirror.getLine(t);if(i.length>0&&i[0]===c){var o=this.codeMirror.indexFromPos({line:t,ch:0}),a=this.annotationList_.getAnnotatedSpansForSpan(new n(o,1));for(var s in e.utils.assert(1===a.length),a[0].annotation.attributes)r[s]=a[0].annotation.attributes[s]}return r},s.prototype.clearAnnotations_=function(){this.annotationList_.updateSpan(new n(0,this.end()),(function(e,t){return new h({})}))},s.prototype.newline=function(){var e=this.codeMirror,t=this;if(this.emptySelection_()){var n=e.getCursor("head").line,r=this.getLineAttributes_(n),o=r[i.LIST_TYPE];o&&1===e.getLine(n).length?this.updateLineAttributes(n,n,(function(e){delete e[i.LIST_TYPE],delete e[i.LINE_INDENT]})):(e.replaceSelection("\n","end","+input"),this.updateLineAttributes(n+1,n+1,(function(e){for(var a in r)e[a]=r[a];"tc"===o&&(e[i.LIST_TYPE]="t"),t.trigger("newLine",{line:n+1,attr:e})})))}else e.replaceSelection("\n","end","+input")},s.prototype.deleteLeft=function(){var e=this.codeMirror,t=e.getCursor("head"),n=this.getLineAttributes_(t.line),r=n[i.LIST_TYPE],o=n[i.LINE_INDENT],a=this.emptySelection_()&&1===t.ch;a&&r?this.updateLineAttributes(t.line,t.line,(function(e){delete e[i.LIST_TYPE],delete e[i.LINE_INDENT]})):a&&o&&o>0?this.unindent():e.deleteH(-1,"char")},s.prototype.deleteRight=function(){var e=this.codeMirror,t=e.getCursor("head"),n=e.getLine(t.line),r=this.areLineSentinelCharacters_(n),i=t.line+1<e.lineCount()?e.getLine(t.line+1):"";this.emptySelection_()&&r&&i[0]===c?(e.replaceRange("",{line:t.line,ch:0},{line:t.line+1,ch:0},"+input"),e.setCursor({line:t.line,ch:0})):e.deleteH(1,"char")},s.prototype.indent=function(){this.updateLineAttributesForSelection((function(e){var t=e[i.LINE_INDENT],n=e[i.LIST_TYPE];t?e[i.LINE_INDENT]++:e[i.LINE_INDENT]=n?2:1}))},s.prototype.unindent=function(){this.updateLineAttributesForSelection((function(e){var t=e[i.LINE_INDENT];t&&t>1?e[i.LINE_INDENT]=t-1:(delete e[i.LIST_TYPE],delete e[i.LINE_INDENT])}))},s.prototype.getText=function(){return this.codeMirror.getValue().replace(new RegExp(c,"g"),"")},s.prototype.areLineSentinelCharacters_=function(e){for(var t=0;t<e.length;t++)if(e[t]!==c)return!1;return!0},h.prototype.equals=function(e){if(!(e instanceof h))return!1;var t;for(t in this.attributes)if(e.attributes[t]!==this.attributes[t])return!1;for(t in e.attributes)if(e.attributes[t]!==this.attributes[t])return!1;return!0},s}(),(e=e||{}).RichTextCodeMirrorAdapter=function(){"use strict";var t=e.TextOperation,n=e.WrappedOperation,r=e.Cursor;function i(e){this.rtcm=e,this.cm=e.codeMirror,s(this,"onChange"),s(this,"onAttributesChange"),s(this,"onCursorActivity"),s(this,"onFocus"),s(this,"onBlur"),this.rtcm.on("change",this.onChange),this.rtcm.on("attributesChange",this.onAttributesChange),this.cm.on("cursorActivity",this.onCursorActivity),this.cm.on("focus",this.onFocus),this.cm.on("blur",this.onBlur)}function o(e){var t=e.lineCount()-1;return e.indexFromPos({line:t,ch:e.getLine(t).length})}function a(e,t){if(!e)throw new Error(t||"assertion error")}function s(e,t){var n=e[t];e[t]=function(){n.apply(e,arguments)}}function c(e){for(var t in e)return!1;return!0}function l(e,t){if("string"!=typeof e)throw new TypeError("Expected a string");3===(e=e.replace(/^#/,"")).length&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]);var n,r=parseInt(e,16),i=[r>>16,r>>8&255,255&r],o="rgb";return null!==(n=t)&&void 0!==n&&(o="rgba",i.push(t)),o+"("+i.join(",")+")"}return i.prototype.detach=function(){this.rtcm.off("change",this.onChange),this.rtcm.off("attributesChange",this.onAttributesChange),this.cm.off("cursorActivity",this.onCursorActivity),this.cm.off("focus",this.onFocus),this.cm.off("blur",this.onBlur)},i.operationFromCodeMirrorChanges=function(e,n){for(var r=o(n),i=(new t).retain(r),a=(new t).retain(r),s=e.length-1;s>=0;s--){var c=e[s],l=c.start,u=r-l-c.text.length;i=(new t).retain(l).delete(c.removed.length).insert(c.text,c.attributes).retain(u).compose(i),a=a.compose((new t).retain(l).delete(c.text.length).insert(c.removed,c.removedAttributes).retain(u)),r+=c.removed.length-c.text.length}return[i,a]},i.operationFromAttributesChanges=function(e,n){for(var r=o(n),i=new t,s=new t,c=0,l=0;l<e.length;l++){var u=e[l],d=u.start-c;a(d>=0),i.retain(d),s.retain(d);var h=u.end-u.start;i.retain(h,u.attributes),s.retain(h,u.attributesInverse),c=u.start+h}return i.retain(r-c),s.retain(r-c),[i,s]},i.prototype.registerCallbacks=function(e){this.callbacks=e},i.prototype.onChange=function(e,t){if("RTCMADAPTER"!==t[0].origin){var n=i.operationFromCodeMirrorChanges(t,this.cm);this.trigger("change",n[0],n[1])}},i.prototype.onAttributesChange=function(e,t){if("RTCMADAPTER"!==t[0].origin){var n=i.operationFromAttributesChanges(t,this.cm);this.trigger("change",n[0],n[1])}},i.prototype.onCursorActivity=function(){var e=this;setTimeout((function(){e.trigger("cursorActivity")}),1)},i.prototype.onFocus=function(){this.trigger("focus")},i.prototype.onBlur=function(){this.cm.somethingSelected()||this.trigger("blur")},i.prototype.getValue=function(){return this.cm.getValue()},i.prototype.getCursor=function(){var e,t=this.cm,n=t.getCursor(),i=t.indexFromPos(n);if(t.somethingSelected()){var o=t.getCursor(!0),a=0===function(e,t){return e.line<t.line?-1:e.line>t.line?1:e.ch<t.ch?-1:e.ch>t.ch?1:0}(n,o)?t.getCursor(!1):o;e=t.indexFromPos(a)}else e=i;return new r(i,e)},i.prototype.setCursor=function(e){this.cm.setSelection(this.cm.posFromIndex(e.position),this.cm.posFromIndex(e.selectionEnd))},i.prototype.addStyleRule=function(e){if("undefined"!=typeof document&&null!==document){if(!this.addedStyleRules){this.addedStyleRules={};var t=document.createElement("style");document.documentElement.getElementsByTagName("head")[0].appendChild(t),this.addedStyleSheet=t.sheet}if(!this.addedStyleRules[e])return this.addedStyleRules[e]=!0,this.addedStyleSheet.insertRule(e,0)}},i.prototype.setOtherCursor=function(e,t,n){var r=this.cm.posFromIndex(e.position);if("string"==typeof t&&t.match(/^#[a-fA-F0-9]{3,6}$/)){var i=this.rtcm.end();if("object"==typeof e&&"number"==typeof e.position&&"number"==typeof e.selectionEnd&&!(e.position<0||e.position>i||e.selectionEnd<0||e.selectionEnd>i)){if(e.position===e.selectionEnd){var o=this.cm.cursorCoords(r),a=document.createElement("span");return a.className="other-client",a.style.borderLeftWidth="2px",a.style.borderLeftStyle="solid",a.style.borderLeftColor=t,a.style.marginLeft=a.style.marginRight="-1px",a.style.height=.9*(o.bottom-o.top)+"px",a.setAttribute("data-clientid",n),a.style.zIndex=0,this.cm.setBookmark(r,{widget:a,insertLeft:!0})}var s,c,u="selection-"+t.replace("#",""),d="."+u+" { background: "+l(t)+";\n background: "+l(t,.4)+";}";return this.addStyleRule(d),e.selectionEnd>e.position?(s=r,c=this.cm.posFromIndex(e.selectionEnd)):(s=this.cm.posFromIndex(e.selectionEnd),c=r),this.cm.markText(s,c,{className:u})}}},i.prototype.trigger=function(e){var t=Array.prototype.slice.call(arguments,1),n=this.callbacks&&this.callbacks[e];n&&n.apply(this,t)},i.prototype.applyOperation=function(e){e.ops.length>10&&this.rtcm.codeMirror.getWrapperElement().setAttribute("style","display: none");for(var t=e.ops,n=0,r=0,i=t.length;r<i;r++){var o=t[r];o.isRetain()?(c(o.attributes)||this.rtcm.updateTextAttributes(n,n+o.chars,(function(e){for(var t in o.attributes)!1===o.attributes[t]?delete e[t]:e[t]=o.attributes[t]}),"RTCMADAPTER",!0),n+=o.chars):o.isInsert()?(this.rtcm.insertText(n,o.text,o.attributes,"RTCMADAPTER"),n+=o.text.length):o.isDelete()&&this.rtcm.removeText(n,n+o.chars,"RTCMADAPTER")}e.ops.length>10&&(this.rtcm.codeMirror.getWrapperElement().setAttribute("style",""),this.rtcm.codeMirror.refresh())},i.prototype.registerUndo=function(e){this.cm.undo=e},i.prototype.registerRedo=function(e){this.cm.redo=e},i.prototype.invertOperation=function(e){for(var r,i,o=0,a=this.rtcm.codeMirror,s=new t,l=0;l<e.wrapped.ops.length;l++){var u=e.wrapped.ops[l];if(u.isRetain())if(c(u.attributes))s.retain(u.chars),o+=u.chars;else for(r=this.rtcm.getAttributeSpans(o,o+u.chars),i=0;i<r.length;i++){var d={};for(var h in u.attributes){var p=u.attributes[h],f=r[i].attributes[h];!1===p?f&&(d[h]=f):p!==f&&(d[h]=f||!1)}s.retain(r[i].length,d),o+=r[i].length}else if(u.isInsert())s.delete(u.text.length);else if(u.isDelete()){var m=a.getRange(a.posFromIndex(o),a.posFromIndex(o+u.chars));r=this.rtcm.getAttributeSpans(o,o+u.chars);var g=0;for(i=0;i<r.length;i++)s.insert(m.substr(g,r[i].length),r[i].attributes),g+=r[i].length;o+=u.chars}}return new n(s,e.meta.invert())},i}(),(e=e||{}).Formatting=function(){var t=e.AttributeConstants;function n(e){if(!(this instanceof n))return new n(e);this.attributes=e||{}}return n.prototype.cloneWithNewAttribute_=function(e,t){var r={};for(var i in this.attributes)r[i]=this.attributes[i];return!1===t?delete r[e]:r[e]=t,new n(r)},n.prototype.bold=function(e){return this.cloneWithNewAttribute_(t.BOLD,e)},n.prototype.italic=function(e){return this.cloneWithNewAttribute_(t.ITALIC,e)},n.prototype.underline=function(e){return this.cloneWithNewAttribute_(t.UNDERLINE,e)},n.prototype.strike=function(e){return this.cloneWithNewAttribute_(t.STRIKE,e)},n.prototype.font=function(e){return this.cloneWithNewAttribute_(t.FONT,e)},n.prototype.fontSize=function(e){return this.cloneWithNewAttribute_(t.FONT_SIZE,e)},n.prototype.color=function(e){return this.cloneWithNewAttribute_(t.COLOR,e)},n.prototype.backgroundColor=function(e){return this.cloneWithNewAttribute_(t.BACKGROUND_COLOR,e)},n}(),(e=e||{}).Text=function t(n,r){if(!(this instanceof t))return new t(n,r);this.text=n,this.formatting=r||e.Formatting()},(e=e||{}).LineFormatting=function(){var t=e.AttributeConstants;function n(e){if(!(this instanceof n))return new n(e);this.attributes=e||{},this.attributes[t.LINE_SENTINEL]=!0}return n.LIST_TYPE={NONE:!1,ORDERED:"o",UNORDERED:"u",TODO:"t",TODOCHECKED:"tc"},n.prototype.cloneWithNewAttribute_=function(e,t){var r={};for(var i in this.attributes)r[i]=this.attributes[i];return!1===t?delete r[e]:r[e]=t,new n(r)},n.prototype.indent=function(e){return this.cloneWithNewAttribute_(t.LINE_INDENT,e)},n.prototype.align=function(e){return this.cloneWithNewAttribute_(t.LINE_ALIGN,e)},n.prototype.listItem=function(n){return e.utils.assert(!1===n||"u"===n||"o"===n||"t"===n||"tc"===n),this.cloneWithNewAttribute_(t.LIST_TYPE,n)},n.prototype.getIndent=function(){return this.attributes[t.LINE_INDENT]||0},n.prototype.getAlign=function(){return this.attributes[t.LINE_ALIGN]||0},n.prototype.getListItem=function(){return this.attributes[t.LIST_TYPE]||!1},n}(),(e=e||{}).Line=function t(n,r){if(!(this instanceof t))return new t(n,r);"[object Array]"!==Object.prototype.toString.call(n)&&(n=void 0===n?[]:[n]),this.textPieces=n,this.formatting=r||e.LineFormatting()},(e=e||{}).ParseHtml=function(){var t,n=e.LineFormatting.LIST_TYPE;function r(t,r,i){this.listType=t||n.UNORDERED,this.lineFormatting=r||e.LineFormatting(),this.textFormatting=i||e.Formatting()}function i(){this.lines=[],this.currentLine=[],this.currentLineListItemType=null}r.prototype.withTextFormatting=function(e){return new r(this.listType,this.lineFormatting,e)},r.prototype.withLineFormatting=function(e){return new r(this.listType,e,this.textFormatting)},r.prototype.withListType=function(e){return new r(e,this.lineFormatting,this.textFormatting)},r.prototype.withIncreasedIndent=function(){var e=this.lineFormatting.indent(this.lineFormatting.getIndent()+1);return new r(this.listType,e,this.textFormatting)},r.prototype.withAlign=function(e){var t=this.lineFormatting.align(e);return new r(this.listType,t,this.textFormatting)},i.prototype.newlineIfNonEmpty=function(e){this.cleanLine_(),this.currentLine.length>0&&this.newline(e)},i.prototype.newlineIfNonEmptyOrListItem=function(e){this.cleanLine_(),(this.currentLine.length>0||null!==this.currentLineListItemType)&&this.newline(e)},i.prototype.newline=function(t){this.cleanLine_();var n=t.lineFormatting;null!==this.currentLineListItemType&&(n=n.listItem(this.currentLineListItemType),this.currentLineListItemType=null),this.lines.push(e.Line(this.currentLine,n)),this.currentLine=[]},i.prototype.makeListItem=function(e){this.currentLineListItemType=e},i.prototype.cleanLine_=function(){if(this.currentLine.length>0){var e=this.currentLine.length-1;this.currentLine[0].text=this.currentLine[0].text.replace(/^ +/,""),this.currentLine[e].text=this.currentLine[e].text.replace(/ +$/g,"");for(var t=0;t<this.currentLine.length;t++)this.currentLine[t].text=this.currentLine[t].text.replace(/\u00a0/g," ")}1===this.currentLine.length&&""===this.currentLine[0].text&&(this.currentLine=[])};var o=o||{ELEMENT_NODE:1,TEXT_NODE:3};function a(r,i,a){if(r.nodeType===o.ELEMENT_NODE){var c=t.fromElement(r);if(c)return void a.currentLine.push(new e.Text(e.sentinelConstants.ENTITY_SENTINEL_CHARACTER,new e.Formatting(c.toAttributes())))}switch(r.nodeType){case o.TEXT_NODE:var l=r.nodeValue.replace(/[ \n\t]+/g," ");a.currentLine.push(e.Text(l,i.textFormatting));break;case o.ELEMENT_NODE:switch(i=function(t,n){for(var r=t.textFormatting,i=t.lineFormatting,o=n.split(";"),a=0;a<o.length;a++){var s=o[a].split(":");if(2===s.length){var c=e.utils.trim(s[0]).toLowerCase(),l=e.utils.trim(s[1]).toLowerCase();switch(c){case"text-decoration":var u=l.indexOf("underline")>=0,d=l.indexOf("line-through")>=0;r=r.underline(u).strike(d);break;case"font-weight":var h="bold"===l||parseInt(l)>=600;r=r.bold(h);break;case"font-style":var p="italic"===l||"oblique"===l;r=r.italic(p);break;case"color":r=r.color(l);break;case"background-color":r=r.backgroundColor(l);break;case"text-align":i=i.align(l);break;case"font-size":var f=null;e.utils.stringEndsWith(l,["px","pt","%","em","xx-small","x-small","small","medium","large","x-large","xx-large","smaller","larger"])?f=l:parseInt(l)&&(f=parseInt(l)+"px"),f&&(r=r.fontSize(f));break;case"font-family":var m=e.utils.trim(l.split(",")[0]);m=(m=m.replace(/['"]/g,"")).replace(/\w\S*/g,(function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})),r=r.font(m)}}}return t.withLineFormatting(i).withTextFormatting(r)}(i,r.getAttribute("style")||""),r.nodeName.toLowerCase()){case"div":case"h1":case"h2":case"h3":case"p":a.newlineIfNonEmpty(i),s(r,i,a),a.newlineIfNonEmpty(i);break;case"center":i=i.withAlign("center"),a.newlineIfNonEmpty(i),s(r,i.withAlign("center"),a),a.newlineIfNonEmpty(i);break;case"b":case"strong":s(r,i.withTextFormatting(i.textFormatting.bold(!0)),a);break;case"u":s(r,i.withTextFormatting(i.textFormatting.underline(!0)),a);break;case"i":case"em":s(r,i.withTextFormatting(i.textFormatting.italic(!0)),a);break;case"s":s(r,i.withTextFormatting(i.textFormatting.strike(!0)),a);break;case"font":var u=r.getAttribute("face"),d=r.getAttribute("color"),h=parseInt(r.getAttribute("size"));u&&(i=i.withTextFormatting(i.textFormatting.font(u))),d&&(i=i.withTextFormatting(i.textFormatting.color(d))),h&&(i=i.withTextFormatting(i.textFormatting.fontSize(h))),s(r,i,a);break;case"br":a.newline(i);break;case"ul":a.newlineIfNonEmptyOrListItem(i);var p="firepad-todo"===r.getAttribute("class")?n.TODO:n.UNORDERED;s(r,i.withListType(p).withIncreasedIndent(),a),a.newlineIfNonEmpty(i);break;case"ol":a.newlineIfNonEmptyOrListItem(i),s(r,i.withListType(n.ORDERED).withIncreasedIndent(),a),a.newlineIfNonEmpty(i);break;case"li":!function(e,t,r){r.newlineIfNonEmptyOrListItem(t);var i="firepad-checked"===e.getAttribute("class")?n.TODOCHECKED:t.listType;r.makeListItem(i);var o=r.currentLine;s(e,t,r),(o===r.currentLine||r.currentLine.length>0)&&r.newline(t)}(r,i,a);break;case"style":break;default:s(r,i,a)}}}function s(e,t,n){if(e.hasChildNodes())for(var r=0;r<e.childNodes.length;r++)a(e.childNodes[r],t,n)}return function(n,o){var s=(e.document||document).createElement("div");s.innerHTML=n,t=o;var c=new i;return a(s,new r,c),c.lines}}(),(e=e||{}).textPiecesToInserts=function(t,n){var r=[];function i(n,i){n instanceof e.Text&&(i=n.formatting.attributes,n=n.text),r.push({string:n,attributes:i}),t="\n"===n[n.length-1]}function o(n,r){t&&i(e.sentinelConstants.LINE_SENTINEL_CHARACTER,n.formatting.attributes);for(var o=0;o<n.textPieces.length;o++)i(n.textPieces[o]);r&&i("\n")}for(var a=0;a<n.length;a++)n[a]instanceof e.Line?o(n[a],a<n.length-1):i(n[a]);return r},(e=e||{}).Firepad=function(t){if(!e.RichTextCodeMirrorAdapter)throw new Error("Oops! It looks like you're trying to include lib/firepad.js directly.  This is actually one of many source files that make up firepad.  You want dist/firepad.js instead.");var n=e.RichTextCodeMirrorAdapter,r=e.RichTextCodeMirror,i=e.RichTextToolbar,o=e.ACEAdapter,a=e.MonacoAdapter,s=(e.FirebaseAdapter,e.EditorClient),c=e.EntityManager,l=e.AttributeConstants,u=e.utils,d=(e.LineFormatting.LIST_TYPE,t.ace);function h(e,i,l){if(!(this instanceof h))return new h(e,i,l);if(!t.CodeMirror&&!d&&!t.monaco)throw new Error("Couldn't find CodeMirror, ACE or Monaco.  Did you forget to include codemirror.js/ace.js or import monaco?");if(this.zombie_=!1,t.CodeMirror&&i instanceof t.CodeMirror){this.codeMirror_=this.editor_=i;var f=this.codeMirror_.getValue();if(""!==f)throw new Error("Can't initialize Firepad with a CodeMirror instance that already contains text.")}else if(d&&i&&i.session instanceof d.EditSession){if(this.ace_=this.editor_=i,""!==(f=this.ace_.getValue()))throw new Error("Can't initialize Firepad with an ACE instance that already contains text.")}else if(t.monaco&&i&&i instanceof t.monaco.constructor){if(t.monaco,this.monaco_=this.editor_=i,""!==(f=this.monaco_.getValue()))throw new Error("Can't initialize Firepad with a Monaco instance that already contains text.")}else this.codeMirror_=this.editor_=new t.CodeMirror(i);var m;m=this.codeMirror_?this.codeMirror_.getWrapperElement():this.ace_?this.ace_.container:this.monaco_.getDomNode(),this.firepadWrapper_=u.elt("div",null,{class:"firepad"}),m.parentNode.replaceChild(this.firepadWrapper_,m),this.firepadWrapper_.appendChild(m),u.on(m,"dragstart",u.stopEvent),this.editor_.firepad=this,this.options_=l||{},this.getOption("richTextShortcuts",!1)&&(t.CodeMirror.keyMap.richtext||this.initializeKeyMap_(),this.codeMirror_.setOption("keyMap","richtext"),this.firepadWrapper_.className+=" firepad-richtext"),this.imageInsertionUI=this.getOption("imageInsertionUI",!0),this.getOption("richTextToolbar",!1)&&(this.addToolbar_(),this.firepadWrapper_.className+=" firepad-richtext firepad-with-toolbar"),this.codeMirror_&&this.codeMirror_.refresh();var g=this.getOption("userId",e.push().key),v=this.getOption("userColor",function(e){for(var t=1,n=0;n<e.length;n++)t=17*(t+e.charCodeAt(n))%360;return function(e,t,n){var r=.5,i=function(e){return e<0&&(e+=1),e>1&&(e-=1),6*e<1?r+3*e:2*e<1?1:3*e<2?r+3*(2/3-e):r};return p(i(e+1/3),i(e),i(e-1/3))}(t/360)}(g));this.entityManager_=new c,this.firebaseAdapter_=new h.FirebaseAdapter(e,g,v),this.codeMirror_?(this.richTextCodeMirror_=new r(this.codeMirror_,this.entityManager_,{cssPrefix:"firepad-"}),this.editorAdapter_=new n(this.richTextCodeMirror_)):this.ace_?this.editorAdapter_=new o(this.ace_):this.editorAdapter_=new a(this.monaco_),this.client_=new s(this.firebaseAdapter_,this.editorAdapter_);var y=this;this.firebaseAdapter_.on("cursor",(function(){y.trigger.apply(y,["cursor"].concat([].slice.call(arguments)))})),this.codeMirror_&&this.richTextCodeMirror_.on("newLine",(function(){y.trigger.apply(y,["newLine"].concat([].slice.call(arguments)))})),this.firebaseAdapter_.on("ready",(function(){y.ready_=!0,this.ace_&&this.editorAdapter_.grabDocumentState(),this.monaco_&&this.editorAdapter_.grabDocumentState();var e=y.getOption("defaultText",null);e&&y.isHistoryEmpty()&&y.setText(e),y.trigger("ready")})),this.client_.on("synced",(function(e){y.trigger("synced",e)})),"Microsoft Internet Explorer"==navigator.appName&&navigator.userAgent.match(/MSIE 8\./)&&(window.onload=function(){var e=document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",t.styleSheet.cssText=":before,:after{content:none !important;}",e.appendChild(t),setTimeout((function(){e.removeChild(t)}),0)})}function p(e,t,n){function r(e){var t=Math.round(255*e).toString(16);return 1===t.length?"0"+t:t}return"#"+r(e)+r(t)+r(n)}return t.monaco,u.makeEventEmitter(h),h.fromCodeMirror=h,h.fromACE=h,h.fromMonaco=h,h.prototype.dispose=function(){this.zombie_=!0,this.codeMirror_?editorWrapper=this.codeMirror_.getWrapperElement():this.ace_?editorWrapper=this.ace_.container:editorWrapper=this.monaco_.getDomNode(),this.firepadWrapper_.removeChild(editorWrapper),this.firepadWrapper_.parentNode.replaceChild(editorWrapper,this.firepadWrapper_),this.editor_.firepad=null,this.codeMirror_&&"richtext"===this.codeMirror_.getOption("keyMap")&&this.codeMirror_.setOption("keyMap","default"),this.firebaseAdapter_.dispose(),this.editorAdapter_.detach(),this.richTextCodeMirror_&&this.richTextCodeMirror_.detach()},h.prototype.setUserId=function(e){this.firebaseAdapter_.setUserId(e)},h.prototype.setUserColor=function(e){this.firebaseAdapter_.setColor(e)},h.prototype.getText=function(){return this.assertReady_("getText"),this.codeMirror_?this.richTextCodeMirror_.getText():this.ace_?this.ace_.getSession().getDocument().getValue():this.monaco_.getModel().getValue()},h.prototype.setText=function(e){return this.assertReady_("setText"),this.monaco_?this.monaco_.getModel().setValue(e):this.ace_?this.ace_.getSession().getDocument().setValue(e):(this.codeMirror_.getWrapperElement().setAttribute("style","display: none"),this.codeMirror_.setValue(""),this.insertText(0,e),this.codeMirror_.getWrapperElement().setAttribute("style",""),this.codeMirror_.refresh(),void this.editorAdapter_.setCursor({position:0,selectionEnd:0}))},h.prototype.insertTextAtCursor=function(e){this.insertText(this.codeMirror_.indexFromPos(this.codeMirror_.getCursor()),e)},h.prototype.insertText=function(t,n){u.assert(!this.ace_,"Not supported for ace yet."),u.assert(!this.monaco_,"Not supported for monaco yet."),this.assertReady_("insertText"),"[object Array]"!==Object.prototype.toString.call(n)&&(n=[n]);var r=this;r.codeMirror_.operation((function(){for(var i=0===t,o=e.textPiecesToInserts(i,n),a=0;a<o.length;a++){var s=o[a].string,c=o[a].attributes;r.richTextCodeMirror_.insertText(t,s,c),t+=s.length}}))},h.prototype.getOperationForSpan=function(t,n){for(var r=this.richTextCodeMirror_.getRange(t,n),i=this.richTextCodeMirror_.getAttributeSpans(t,n),o=0,a=new e.TextOperation,s=0;s<i.length;s++)a.insert(r.substr(o,i[s].length),i[s].attributes),o+=i[s].length;return a},h.prototype.getHtml=function(){return this.getHtmlFromRange(null,null)},h.prototype.getHtmlFromSelection=function(){var e=this.codeMirror_.getCursor("start"),t=this.codeMirror_.getCursor("end"),n=this.codeMirror_.indexFromPos(e),r=this.codeMirror_.indexFromPos(t);return this.getHtmlFromRange(n,r)},h.prototype.getHtmlFromRange=function(t,n){this.assertReady_("getHtmlFromRange");var r=null!=t&&null!=n?this.getOperationForSpan(t,n):this.getOperationForSpan(0,this.codeMirror_.getValue().length);return e.SerializeHtml(r,this.entityManager_)},h.prototype.insertHtml=function(t,n){var r=e.ParseHtml(n,this.entityManager_);this.insertText(t,r)},h.prototype.insertHtmlAtCursor=function(e){this.insertHtml(this.codeMirror_.indexFromPos(this.codeMirror_.getCursor()),e)},h.prototype.setHtml=function(t){var n=e.ParseHtml(t,this.entityManager_);this.setText(n)},h.prototype.isHistoryEmpty=function(){return this.assertReady_("isHistoryEmpty"),this.firebaseAdapter_.isHistoryEmpty()},h.prototype.bold=function(){this.richTextCodeMirror_.toggleAttribute(l.BOLD),this.codeMirror_.focus()},h.prototype.italic=function(){this.richTextCodeMirror_.toggleAttribute(l.ITALIC),this.codeMirror_.focus()},h.prototype.underline=function(){this.richTextCodeMirror_.toggleAttribute(l.UNDERLINE),this.codeMirror_.focus()},h.prototype.strike=function(){this.richTextCodeMirror_.toggleAttribute(l.STRIKE),this.codeMirror_.focus()},h.prototype.fontSize=function(e){this.richTextCodeMirror_.setAttribute(l.FONT_SIZE,e),this.codeMirror_.focus()},h.prototype.font=function(e){this.richTextCodeMirror_.setAttribute(l.FONT,e),this.codeMirror_.focus()},h.prototype.color=function(e){this.richTextCodeMirror_.setAttribute(l.COLOR,e),this.codeMirror_.focus()},h.prototype.highlight=function(){this.richTextCodeMirror_.toggleAttribute(l.BACKGROUND_COLOR,"rgba(255,255,0,.65)"),this.codeMirror_.focus()},h.prototype.align=function(e){if("left"!==e&&"center"!==e&&"right"!==e)throw new Error('align() must be passed "left", "center", or "right".');this.richTextCodeMirror_.setLineAttribute(l.LINE_ALIGN,e),this.codeMirror_.focus()},h.prototype.orderedList=function(){this.richTextCodeMirror_.toggleLineAttribute(l.LIST_TYPE,"o"),this.codeMirror_.focus()},h.prototype.unorderedList=function(){this.richTextCodeMirror_.toggleLineAttribute(l.LIST_TYPE,"u"),this.codeMirror_.focus()},h.prototype.todo=function(){this.richTextCodeMirror_.toggleTodo(),this.codeMirror_.focus()},h.prototype.newline=function(){this.richTextCodeMirror_.newline()},h.prototype.deleteLeft=function(){this.richTextCodeMirror_.deleteLeft()},h.prototype.deleteRight=function(){this.richTextCodeMirror_.deleteRight()},h.prototype.indent=function(){this.richTextCodeMirror_.indent(),this.codeMirror_.focus()},h.prototype.unindent=function(){this.richTextCodeMirror_.unindent(),this.codeMirror_.focus()},h.prototype.undo=function(){this.codeMirror_.undo()},h.prototype.redo=function(){this.codeMirror_.redo()},h.prototype.insertEntity=function(e,t,n){this.richTextCodeMirror_.insertEntityAtCursor(e,t,n)},h.prototype.insertEntityAt=function(e,t,n,r){this.richTextCodeMirror_.insertEntityAt(e,t,n,r)},h.prototype.registerEntity=function(e,t){this.entityManager_.register(e,t)},h.prototype.getOption=function(e,t){return e in this.options_?this.options_[e]:t},h.prototype.assertReady_=function(e){if(!this.ready_)throw new Error('You must wait for the "ready" event before calling '+e+".");if(this.zombie_)throw new Error("You can't use a Firepad after calling dispose()!  [called "+e+"]")},h.prototype.makeImageDialog_=function(){this.makeDialog_("img","Insert image url")},h.prototype.makeDialog_=function(e,t){var n=this,r=u.elt("input",null,{class:"firepad-dialog-input",id:e,type:"text",placeholder:t,autofocus:"autofocus"}),i=u.elt("a","Submit",{class:"firepad-btn",id:"submitbtn"});u.on(i,"click",u.stopEventAnd((function(){var t=document.getElementById("overlay");t.style.visibility="hidden";var r=document.getElementById(e).value;null!==r&&n.insertEntity(e,{src:r}),n.firepadWrapper_.removeChild(t)})));var o=u.elt("a","Cancel",{class:"firepad-btn"});u.on(o,"click",u.stopEventAnd((function(){var e=document.getElementById("overlay");e.style.visibility="hidden",n.firepadWrapper_.removeChild(e)})));var a=u.elt("div",[i,o],{class:"firepad-btn-group"}),s=u.elt("div",[r,a],{class:"firepad-dialog-div"}),c=u.elt("div",[s],{class:"firepad-dialog",id:"overlay"});this.firepadWrapper_.appendChild(c)},h.prototype.addToolbar_=function(){this.toolbar=new i(this.imageInsertionUI),this.toolbar.on("undo",this.undo,this),this.toolbar.on("redo",this.redo,this),this.toolbar.on("bold",this.bold,this),this.toolbar.on("italic",this.italic,this),this.toolbar.on("underline",this.underline,this),this.toolbar.on("strike",this.strike,this),this.toolbar.on("font-size",this.fontSize,this),this.toolbar.on("font",this.font,this),this.toolbar.on("color",this.color,this),this.toolbar.on("left",(function(){this.align("left")}),this),this.toolbar.on("center",(function(){this.align("center")}),this),this.toolbar.on("right",(function(){this.align("right")}),this),this.toolbar.on("ordered-list",this.orderedList,this),this.toolbar.on("unordered-list",this.unorderedList,this),this.toolbar.on("todo-list",this.todo,this),this.toolbar.on("indent-increase",this.indent,this),this.toolbar.on("indent-decrease",this.unindent,this),this.toolbar.on("insert-image",this.makeImageDialog_,this),this.firepadWrapper_.insertBefore(this.toolbar.element(),this.firepadWrapper_.firstChild)},h.prototype.addPoweredByLogo_=function(){var e=u.elt("a",null,{class:"powered-by-firepad"});e.setAttribute("href","http://www.firepad.io/"),e.setAttribute("target","_blank"),this.firepadWrapper_.appendChild(e)},h.prototype.initializeKeyMap_=function(){function e(e){return function(t){setTimeout((function(){e.call(t.firepad)}),0)}}t.CodeMirror.keyMap.richtext={"Ctrl-B":e(this.bold),"Cmd-B":e(this.bold),"Ctrl-I":e(this.italic),"Cmd-I":e(this.italic),"Ctrl-U":e(this.underline),"Cmd-U":e(this.underline),"Ctrl-H":e(this.highlight),"Cmd-H":e(this.highlight),Enter:e(this.newline),Delete:e(this.deleteRight),Backspace:e(this.deleteLeft),Tab:e(this.indent),"Shift-Tab":e(this.unindent),fallthrough:["default"]}},h}(this),e.Firepad.Formatting=e.Formatting,e.Firepad.Text=e.Text,e.Firepad.Entity=e.Entity,e.Firepad.LineFormatting=e.LineFormatting,e.Firepad.Line=e.Line,e.Firepad.TextOperation=e.TextOperation,e.Firepad.Headless=e.Headless,e.Firepad.RichTextCodeMirrorAdapter=e.RichTextCodeMirrorAdapter,e.Firepad.ACEAdapter=e.ACEAdapter,e.Firepad.MonacoAdapter=e.MonacoAdapter,e.Firepad},a=this,e.exports?e.exports=o():"function"==typeof a.define&&a.define.amd?void 0===(i="function"===typeof(r=o)?r.call(t,n,t,e):r)||(e.exports=i):a.Firepad=o()},uTOq:function(e,t,n){!function(e){"use strict";var t,n,r=e.Pos;function i(e){var t=e.flags;return null!=t?t:(e.ignoreCase?"i":"")+(e.global?"g":"")+(e.multiline?"m":"")}function o(e,t){for(var n=i(e),r=n,o=0;o<t.length;o++)-1==r.indexOf(t.charAt(o))&&(r+=t.charAt(o));return n==r?e:new RegExp(e.source,r)}function a(e){return/\\s|\\n|\n|\\W|\\D|\[\^/.test(e.source)}function s(e,t,n){t=o(t,"g");for(var i=n.line,a=n.ch,s=e.lastLine();i<=s;i++,a=0){t.lastIndex=a;var c=e.getLine(i),l=t.exec(c);if(l)return{from:r(i,l.index),to:r(i,l.index+l[0].length),match:l}}}function c(e,t,n){if(!a(t))return s(e,t,n);t=o(t,"gm");for(var i,c=1,l=n.line,u=e.lastLine();l<=u;){for(var d=0;d<c&&!(l>u);d++){var h=e.getLine(l++);i=null==i?h:i+"\n"+h}c*=2,t.lastIndex=n.ch;var p=t.exec(i);if(p){var f=i.slice(0,p.index).split("\n"),m=p[0].split("\n"),g=n.line+f.length-1,v=f[f.length-1].length;return{from:r(g,v),to:r(g+m.length-1,1==m.length?v+m[0].length:m[m.length-1].length),match:p}}}}function l(e,t,n){for(var r,i=0;i<=e.length;){t.lastIndex=i;var o=t.exec(e);if(!o)break;var a=o.index+o[0].length;if(a>e.length-n)break;(!r||a>r.index+r[0].length)&&(r=o),i=o.index+1}return r}function u(e,t,n){t=o(t,"g");for(var i=n.line,a=n.ch,s=e.firstLine();i>=s;i--,a=-1){var c=e.getLine(i),u=l(c,t,a<0?0:c.length-a);if(u)return{from:r(i,u.index),to:r(i,u.index+u[0].length),match:u}}}function d(e,t,n){if(!a(t))return u(e,t,n);t=o(t,"gm");for(var i,s=1,c=e.getLine(n.line).length-n.ch,d=n.line,h=e.firstLine();d>=h;){for(var p=0;p<s&&d>=h;p++){var f=e.getLine(d--);i=null==i?f:f+"\n"+i}s*=2;var m=l(i,t,c);if(m){var g=i.slice(0,m.index).split("\n"),v=m[0].split("\n"),y=d+g.length,b=g[g.length-1].length;return{from:r(y,b),to:r(y+v.length-1,1==v.length?b+v[0].length:v[v.length-1].length),match:m}}}}function h(e,t,n,r){if(e.length==t.length)return n;for(var i=0,o=n+Math.max(0,e.length-t.length);;){if(i==o)return i;var a=i+o>>1,s=r(e.slice(0,a)).length;if(s==n)return a;s>n?o=a:i=a+1}}function p(e,i,o,a){if(!i.length)return null;var s=a?t:n,c=s(i).split(/\r|\n\r?/);e:for(var l=o.line,u=o.ch,d=e.lastLine()+1-c.length;l<=d;l++,u=0){var p=e.getLine(l).slice(u),f=s(p);if(1==c.length){var m=f.indexOf(c[0]);if(-1==m)continue e;return o=h(p,f,m,s)+u,{from:r(l,h(p,f,m,s)+u),to:r(l,h(p,f,m+c[0].length,s)+u)}}var g=f.length-c[0].length;if(f.slice(g)==c[0]){for(var v=1;v<c.length-1;v++)if(s(e.getLine(l+v))!=c[v])continue e;var y=e.getLine(l+c.length-1),b=s(y),C=c[c.length-1];if(b.slice(0,C.length)==C)return{from:r(l,h(p,f,g,s)+u),to:r(l+c.length-1,h(y,b,C.length,s))}}}}function f(e,i,o,a){if(!i.length)return null;var s=a?t:n,c=s(i).split(/\r|\n\r?/);e:for(var l=o.line,u=o.ch,d=e.firstLine()-1+c.length;l>=d;l--,u=-1){var p=e.getLine(l);u>-1&&(p=p.slice(0,u));var f=s(p);if(1==c.length){var m=f.lastIndexOf(c[0]);if(-1==m)continue e;return{from:r(l,h(p,f,m,s)),to:r(l,h(p,f,m+c[0].length,s))}}var g=c[c.length-1];if(f.slice(0,g.length)==g){var v=1;for(o=l-c.length+1;v<c.length-1;v++)if(s(e.getLine(o+v))!=c[v])continue e;var y=e.getLine(l+1-c.length),b=s(y);if(b.slice(b.length-c[0].length)==c[0])return{from:r(l+1-c.length,h(y,b,y.length-c[0].length,s)),to:r(l,h(p,f,g.length,s))}}}}function m(e,t,n,i){var a;this.atOccurrence=!1,this.doc=e,n=n?e.clipPos(n):r(0,0),this.pos={from:n,to:n},"object"==typeof i?a=i.caseFold:(a=i,i=null),"string"==typeof t?(null==a&&(a=!1),this.matches=function(n,r){return(n?f:p)(e,t,r,a)}):(t=o(t,"gm"),i&&!1===i.multiline?this.matches=function(n,r){return(n?u:s)(e,t,r)}:this.matches=function(n,r){return(n?d:c)(e,t,r)})}String.prototype.normalize?(t=function(e){return e.normalize("NFD").toLowerCase()},n=function(e){return e.normalize("NFD")}):(t=function(e){return e.toLowerCase()},n=function(e){return e}),m.prototype={findNext:function(){return this.find(!1)},findPrevious:function(){return this.find(!0)},find:function(t){for(var n=this.matches(t,this.doc.clipPos(t?this.pos.from:this.pos.to));n&&0==e.cmpPos(n.from,n.to);)t?n.from.ch?n.from=r(n.from.line,n.from.ch-1):n=n.from.line==this.doc.firstLine()?null:this.matches(t,this.doc.clipPos(r(n.from.line-1))):n.to.ch<this.doc.getLine(n.to.line).length?n.to=r(n.to.line,n.to.ch+1):n=n.to.line==this.doc.lastLine()?null:this.matches(t,r(n.to.line+1,0));if(n)return this.pos=n,this.atOccurrence=!0,this.pos.match||!0;var i=r(t?this.doc.firstLine():this.doc.lastLine()+1,0);return this.pos={from:i,to:i},this.atOccurrence=!1},from:function(){if(this.atOccurrence)return this.pos.from},to:function(){if(this.atOccurrence)return this.pos.to},replace:function(t,n){if(this.atOccurrence){var i=e.splitLines(t);this.doc.replaceRange(i,this.pos.from,this.pos.to,n),this.pos.to=r(this.pos.from.line+i.length-1,i[i.length-1].length+(1==i.length?this.pos.from.ch:0))}}},e.defineExtension("getSearchCursor",(function(e,t,n){return new m(this.doc,e,t,n)})),e.defineDocExtension("getSearchCursor",(function(e,t,n){return new m(this,e,t,n)})),e.defineExtension("selectMatches",(function(t,n){for(var r=[],i=this.getSearchCursor(t,this.getCursor("from"),n);i.findNext()&&!(e.cmpPos(i.to(),this.getCursor("to"))>0);)r.push({anchor:i.from(),head:i.to()});r.length&&this.setSelections(r,0)}))}(n("VrN/"))},uXX2:function(e,t,n){"use strict";n.r(t);var r=function(){var e={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CodeshareViewOnlyCheckbox_codeshare",selections:[e,{alias:null,args:null,concreteType:"CreatedBy",kind:"LinkedField",name:"createdBy",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"me",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"userId",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[e,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"isCodeshareViewOnly_codeshare"}],type:"Codeshare"}}();r.hash="5bb3dfb73cd62eaf5f318b5be1f2fff6",t.default=r},uffb:function(e,t,n){(function(r){function i(){try{return t.storage.debug}catch(e){}if("undefined"!==typeof r&&"env"in r)return r.env.DEBUG}(t=e.exports=n("PAlc")).log=function(){return"object"===typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(){var e=arguments,n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),!n)return e;var r="color: "+this.color;e=[e[0],r,"color: inherit"].concat(Array.prototype.slice.call(e,1));var i=0,o=0;return e[0].replace(/%[a-z%]/g,(function(e){"%%"!==e&&(i++,"%c"===e&&(o=i))})),e.splice(o,0,r),e},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(n){}},t.load=i,t.useColors=function(){return"undefined"!==typeof document&&"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31},t.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},t.enable(i())}).call(this,n("8oxB"))},vWXW:function(e,t,n){var r=n("7tlc"),i=n("taVt"),o=n("6O97"),a=n("p7Ng"),s=n("0nnn");function c(e){var t=this;a.call(this),this.id=e.id,this.parent=e.parent,this.type=e.type||"video",this.oneway=e.oneway||!1,this.sharemyscreen=e.sharemyscreen||!1,this.browserPrefix=e.prefix,this.stream=e.stream,this.enableDataChannels=void 0===e.enableDataChannels?this.parent.config.enableDataChannels:e.enableDataChannels,this.receiveMedia=e.receiveMedia||this.parent.config.receiveMedia,this.channels={},this.sid=e.sid||Date.now().toString(),this.pc=new o(this.parent.config.peerConnectionConfig,this.parent.config.peerConnectionConstraints),this.pc.on("ice",this.onIceCandidate.bind(this)),this.pc.on("endOfCandidates",(function(e){t.send("endOfCandidates",e)})),this.pc.on("offer",(function(e){t.parent.config.nick&&(e.nick=t.parent.config.nick),t.send("offer",e)})),this.pc.on("answer",(function(e){t.parent.config.nick&&(e.nick=t.parent.config.nick),t.send("answer",e)})),this.pc.on("addStream",this.handleRemoteStreamAdded.bind(this)),this.pc.on("addChannel",this.handleDataChannelAdded.bind(this)),this.pc.on("removeStream",this.handleStreamRemoved.bind(this)),this.pc.on("negotiationNeeded",this.emit.bind(this,"negotiationNeeded")),this.pc.on("iceConnectionStateChange",this.emit.bind(this,"iceConnectionStateChange")),this.pc.on("iceConnectionStateChange",(function(){switch(t.pc.iceConnectionState){case"failed":"offer"===t.pc.pc.peerconnection.localDescription.type&&(t.parent.emit("iceFailed",t),t.send("connectivityError"))}})),this.pc.on("signalingStateChange",this.emit.bind(this,"signalingStateChange")),this.logger=this.parent.logger,"screen"===e.type?this.parent.localScreen&&this.sharemyscreen&&(this.logger.log("adding local screen stream to peer connection"),this.pc.addStream(this.parent.localScreen),this.broadcaster=e.broadcaster):this.parent.localStreams.forEach((function(e){t.pc.addStream(e)})),this.on("channelOpen",(function(e){"https://simplewebrtc.com/protocol/filetransfer#inband-v1"===e.protocol&&(e.onmessage=function(n){var r=JSON.parse(n.data),i=new s.Receiver;i.receive(r,e),t.emit("fileTransfer",r,i),i.on("receivedFile",(function(e,t){i.channel.close()}))})})),this.on("*",(function(){t.parent.emit.apply(t.parent,arguments)}))}r.inherits(c,a),c.prototype.handleMessage=function(e){var t=this;if(this.logger.log("getting",e.type,e),e.prefix&&(this.browserPrefix=e.prefix),"offer"===e.type)this.nick||(this.nick=e.payload.nick),delete e.payload.nick,this.pc.handleOffer(e.payload,(function(e){e||t.pc.answer((function(e,t){}))}));else if("answer"===e.type)this.nick||(this.nick=e.payload.nick),delete e.payload.nick,this.pc.handleAnswer(e.payload);else if("candidate"===e.type)this.pc.processIce(e.payload);else if("connectivityError"===e.type)this.parent.emit("connectivityError",t);else if("mute"===e.type)this.parent.emit("mute",{id:e.from,name:e.payload.name});else if("unmute"===e.type)this.parent.emit("unmute",{id:e.from,name:e.payload.name});else if("endOfCandidates"===e.type){(this.pc.pc.peerconnection.transceivers||[]).forEach((function(e){e.iceTransport&&e.iceTransport.addRemoteCandidate({})}))}},c.prototype.send=function(e,t){var n={to:this.id,sid:this.sid,broadcaster:this.broadcaster,roomType:this.type,type:e,payload:t,prefix:i.prefix};this.logger.log("sending",e,n),this.parent.emit("message",n)},c.prototype.sendDirectly=function(e,t,n){var r={type:t,payload:n};this.logger.log("sending via datachannel",e,t,r);var i=this.getDataChannel(e);return"open"==i.readyState&&(i.send(JSON.stringify(r)),!0)},c.prototype._observeDataChannel=function(e){var t=this;e.onclose=this.emit.bind(this,"channelClose",e),e.onerror=this.emit.bind(this,"channelError",e),e.onmessage=function(n){t.emit("channelMessage",t,e.label,JSON.parse(n.data),e,n)},e.onopen=this.emit.bind(this,"channelOpen",e)},c.prototype.getDataChannel=function(e,t){if(!i.supportDataChannel)return this.emit("error",new Error("createDataChannel not supported"));var n=this.channels[e];return t||(t={}),n||(n=this.channels[e]=this.pc.createDataChannel(e,t),this._observeDataChannel(n),n)},c.prototype.onIceCandidate=function(e){if(!this.closed)if(e){var t=this.parent.config.peerConnectionConfig;"moz"===i.prefix&&t&&t.iceTransports&&e.candidate&&e.candidate.candidate&&e.candidate.candidate.indexOf(t.iceTransports)<0?this.logger.log("Ignoring ice candidate not matching pcConfig iceTransports type: ",t.iceTransports):this.send("candidate",e)}else this.logger.log("End of candidates.")},c.prototype.start=function(){this.enableDataChannels&&this.getDataChannel("simplewebrtc"),this.pc.offer(this.receiveMedia,(function(e,t){}))},c.prototype.icerestart=function(){var e=this.receiveMedia;e.mandatory.IceRestart=!0,this.pc.offer(e,(function(e,t){}))},c.prototype.end=function(){this.closed||(this.pc.close(),this.handleStreamRemoved())},c.prototype.handleRemoteStreamAdded=function(e){var t=this;this.stream?this.logger.warn("Already have a remote stream"):(this.stream=e.stream,this.stream.getTracks().forEach((function(e){e.addEventListener("ended",(function(){(function(e){var t=!0;return e.getTracks().forEach((function(e){t="ended"===e.readyState&&t})),t})(t.stream)&&t.end()}))})),this.parent.emit("peerStreamAdded",this))},c.prototype.handleStreamRemoved=function(){var e=this.parent.peers.indexOf(this);e>-1&&(this.parent.peers.splice(e,1),this.closed=!0,this.parent.emit("peerStreamRemoved",this))},c.prototype.handleDataChannelAdded=function(e){this.channels[e.label]=e,this._observeDataChannel(e)},c.prototype.sendFile=function(e){var t=new s.Sender,n=this.getDataChannel("filetransfer"+(new Date).getTime(),{protocol:"https://simplewebrtc.com/protocol/filetransfer#inband-v1"});return n.onopen=function(){n.send(JSON.stringify({size:e.size,name:e.name})),t.send(e,n)},n.onclose=function(){console.log("sender received transfer"),t.emit("complete")},t},e.exports=c},vvSG:function(e,t,n){n("Be4E");e.exports=function(e,t){var n,r=2===arguments.length,i={video:!0,audio:!0},o="PermissionDeniedError",a="PERMISSION_DENIED",s="ConstraintNotSatisfiedError";return r||(t=e,e=i),"undefined"!==typeof navigator&&navigator.getUserMedia?e.audio||e.video?(localStorage&&"true"===localStorage.useFirefoxFakeDevice&&(e.fake=!0),void navigator.mediaDevices.getUserMedia(e).then((function(e){t(null,e)})).catch((function(e){var n;"string"===typeof e?(n=new Error("MediaStreamError")).name=e===o||e===a?o:s:(n=e).name||(n[o]?e.name=o:e.name=s),t(n)}))):((n=new Error("MediaStreamError")).name="NoMediaRequestedError",setTimeout((function(){t(n)}),0)):((n=new Error("MediaStreamError")).name="NotSupportedError",setTimeout((function(){t(n)}),0))}},vwHn:function(e,t,n){"use strict";var r=n("lVut").log;e.exports=function(){var e=function(e){if("object"!==typeof e||e.mandatory||e.optional)return e;var t={};return Object.keys(e).forEach((function(n){if("require"!==n&&"advanced"!==n&&"mediaSource"!==n){var r="object"===typeof e[n]?e[n]:{ideal:e[n]};void 0!==r.exact&&"number"===typeof r.exact&&(r.min=r.max=r.exact);var i=function(e,t){return e?e+t.charAt(0).toUpperCase()+t.slice(1):"deviceId"===t?"sourceId":t};if(void 0!==r.ideal){t.optional=t.optional||[];var o={};"number"===typeof r.ideal?(o[i("min",n)]=r.ideal,t.optional.push(o),(o={})[i("max",n)]=r.ideal,t.optional.push(o)):(o[i("",n)]=r.ideal,t.optional.push(o))}void 0!==r.exact&&"number"!==typeof r.exact?(t.mandatory=t.mandatory||{},t.mandatory[i("",n)]=r.exact):["min","max"].forEach((function(e){void 0!==r[e]&&(t.mandatory=t.mandatory||{},t.mandatory[i(e,n)]=r[e])}))}})),e.advanced&&(t.optional=(t.optional||[]).concat(e.advanced)),t},t=function(t,n){if((t=JSON.parse(JSON.stringify(t)))&&t.audio&&(t.audio=e(t.audio)),t&&"object"===typeof t.video){var i=t.video.facingMode;if((i=i&&("object"===typeof i?i:{ideal:i}))&&("user"===i.exact||"environment"===i.exact||"user"===i.ideal||"environment"===i.ideal)&&(!navigator.mediaDevices.getSupportedConstraints||!navigator.mediaDevices.getSupportedConstraints().facingMode)&&(delete t.video.facingMode,"environment"===i.exact||"environment"===i.ideal))return navigator.mediaDevices.enumerateDevices().then((function(o){var a=(o=o.filter((function(e){return"videoinput"===e.kind}))).find((function(e){return-1!==e.label.toLowerCase().indexOf("back")}))||o.length&&o[o.length-1];return a&&(t.video.deviceId=i.exact?{exact:a.deviceId}:{ideal:a.deviceId}),t.video=e(t.video),r("chrome: "+JSON.stringify(t)),n(t)}));t.video=e(t.video)}return r("chrome: "+JSON.stringify(t)),n(t)},n=function(e){return{name:{PermissionDeniedError:"NotAllowedError",ConstraintNotSatisfiedError:"OverconstrainedError"}[e.name]||e.name,message:e.message,constraint:e.constraintName,toString:function(){return this.name+(this.message&&": ")+this.message}}};navigator.getUserMedia=function(e,r,i){t(e,(function(e){navigator.webkitGetUserMedia(e,r,(function(e){i(n(e))}))}))};var i=function(e){return new Promise((function(t,n){navigator.getUserMedia(e,t,n)}))};if(navigator.mediaDevices||(navigator.mediaDevices={getUserMedia:i,enumerateDevices:function(){return new Promise((function(e){var t={audio:"audioinput",video:"videoinput"};return MediaStreamTrack.getSources((function(n){e(n.map((function(e){return{label:e.label,kind:t[e.kind],deviceId:e.id,groupId:""}})))}))}))}}),navigator.mediaDevices.getUserMedia){var o=navigator.mediaDevices.getUserMedia.bind(navigator.mediaDevices);navigator.mediaDevices.getUserMedia=function(e){return t(e,(function(e){return o(e).then((function(t){if(e.audio&&!t.getAudioTracks().length||e.video&&!t.getVideoTracks().length)throw t.getTracks().forEach((function(e){e.stop()})),new DOMException("","NotFoundError");return t}),(function(e){return Promise.reject(n(e))}))}))}}else navigator.mediaDevices.getUserMedia=function(e){return i(e)};"undefined"===typeof navigator.mediaDevices.addEventListener&&(navigator.mediaDevices.addEventListener=function(){r("Dummy mediaDevices.addEventListener called.")}),"undefined"===typeof navigator.mediaDevices.removeEventListener&&(navigator.mediaDevices.removeEventListener=function(){r("Dummy mediaDevices.removeEventListener called.")})}},wmV7:function(e,t,n){"use strict";n.r(t);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CodesharePageSubscription_codeshare",selections:[{args:null,kind:"FragmentSpread",name:"CodeshareSidebarSubscription_codeshare"}],type:"Codeshare",hash:"eb3a72bb3b22014ddc4e4488a9de0087"};t.default=r},x0Ab:function(e,t,n){n("0JNz");e.exports=function(e,t){var n,r=2===arguments.length,i={video:!0,audio:!0},o="PermissionDeniedError",a="PERMISSION_DENIED",s="ConstraintNotSatisfiedError";return r||(t=e,e=i),"undefined"!==typeof navigator&&navigator.getUserMedia?e.audio||e.video?void navigator.mediaDevices.getUserMedia(e).then((function(e){t(null,e)})).catch((function(e){var n;"string"===typeof e?(n=new Error("MediaStreamError")).name=e===o||e===a?o:s:(n=e).name||(n[o]?e.name=o:e.name=s),t(n)})):((n=new Error("MediaStreamError")).name="NoMediaRequestedError",setTimeout((function(){t(n)}),0)):((n=new Error("MediaStreamError")).name="NotSupportedError",setTimeout((function(){t(n)}),0))}},xTla:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){return"function"===typeof Symbol&&Symbol.observable||"@@observable"}()},y3By:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));var r=n("mChF");function i(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return o(e)}function o(e){return 0===e.length?r.a:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}}},ypnn:function(e,t){e.exports=function(e,t,n){var r=e.byteLength;if(t=t||0,n=n||r,e.slice)return e.slice(t,n);if(t<0&&(t+=r),n<0&&(n+=r),n>r&&(n=r),t>=r||t>=n||0===r)return new ArrayBuffer(0);for(var i=new Uint8Array(e),o=new Uint8Array(n-t),a=t,s=0;a<n;a++,s++)o[s]=i[a];return o.buffer}},ysSQ:function(e,t,n){var r=n("N8QH");function i(e){if(this.support=r.webAudio&&r.mediaStream,this.gain=1,this.support){var t=this.context=new r.AudioContext;this.microphone=t.createMediaStreamSource(e),this.gainFilter=t.createGain(),this.destination=t.createMediaStreamDestination(),this.outputStream=this.destination.stream,this.microphone.connect(this.gainFilter),this.gainFilter.connect(this.destination),e.addTrack(this.outputStream.getAudioTracks()[0]),e.removeTrack(e.getAudioTracks()[0])}this.stream=e}i.prototype.setGain=function(e){this.support&&(this.gainFilter.gain.value=e,this.gain=e)},i.prototype.getGain=function(){return this.gain},i.prototype.off=function(){return this.setGain(0)},i.prototype.on=function(){this.setGain(1)},e.exports=i},ywzX:function(e,t,n){"use strict";var r={shimGetUserMedia:function(){navigator.getUserMedia=navigator.webkitGetUserMedia}};e.exports={shimGetUserMedia:r.shimGetUserMedia}},zCro:function(e,t,n){"use strict";n.r(t);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CodeshareViewOnlyCheckbox_me",selections:[{alias:null,args:null,kind:"ScalarField",name:"anonymous",storageKey:null},{args:null,kind:"FragmentSpread",name:"isCodeshareProSubscriber_me"},{args:null,kind:"FragmentSpread",name:"CodeshareProModal_me"}],type:"Me",hash:"cc14316b70c2dceb5a7984e2b64e6b82"};t.default=r},zFjM:function(e,t,n){"use strict";var r=!0,i={disableLog:function(e){return"boolean"!==typeof e?new Error("Argument type: "+typeof e+". Please use a boolean."):(r=e,e?"adapter.js logging disabled":"adapter.js logging enabled")},log:function(){if("object"===typeof window){if(r)return;"undefined"!==typeof console&&"function"===typeof console.log&&console.log.apply(console,arguments)}},extractVersion:function(e,t,n){var r=e.match(t);return r&&r.length>=n&&parseInt(r[n],10)},detectBrowser:function(){var e={browser:null,version:null,minVersion:null};if("undefined"===typeof window||!window.navigator)return e.browser="Not a browser.",e;if(navigator.mozGetUserMedia)e.browser="firefox",e.version=this.extractVersion(navigator.userAgent,/Firefox\/([0-9]+)\./,1),e.minVersion=31;else if(navigator.webkitGetUserMedia)if(window.webkitRTCPeerConnection)e.browser="chrome",e.version=this.extractVersion(navigator.userAgent,/Chrom(e|ium)\/([0-9]+)\./,2),e.minVersion=38;else{if(!navigator.userAgent.match(/Version\/(\d+).(\d+)/))return e.browser="Unsupported webkit-based browser with GUM support but no WebRTC support.",e;e.browser="safari",e.version=this.extractVersion(navigator.userAgent,/AppleWebKit\/([0-9]+)\./,1),e.minVersion=602}else{if(!navigator.mediaDevices||!navigator.userAgent.match(/Edge\/(\d+).(\d+)$/))return e.browser="Not a supported browser.",e;e.browser="edge",e.version=this.extractVersion(navigator.userAgent,/Edge\/(\d+).(\d+)$/,2),e.minVersion=10547}return e.version<e.minVersion&&i.log("Browser: "+e.browser+" Version: "+e.version+" < minimum supported version: "+e.minVersion+"\n some things might not work!"),e}};e.exports={log:i.log,disableLog:i.disableLog,browserDetails:i.detectBrowser(),extractVersion:i.extractVersion}},zJ60:function(e,t,n){(function(t){var r=n("Uxeu"),i=n("SfcZ")("socket.io-client:url");e.exports=function(e,n){var o=e;n=n||t.location,null==e&&(e=n.protocol+"//"+n.host);"string"===typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?n.protocol+e:n.host+e),/^(https?|wss?):\/\//.test(e)||(i("protocol-less url %s",e),e="undefined"!==typeof n?n.protocol+"//"+e:"https://"+e),i("parse %s",e),o=r(e));o.port||(/^(http|ws)$/.test(o.protocol)?o.port="80":/^(http|ws)s$/.test(o.protocol)&&(o.port="443"));o.path=o.path||"/";var a=-1!==o.host.indexOf(":")?"["+o.host+"]":o.host;return o.id=o.protocol+"://"+a+":"+o.port,o.href=o.protocol+"://"+a+(n&&n.port===o.port?"":":"+o.port),o}}).call(this,n("yLpj"))},zMFY:function(e,t){function n(){}e.exports=function(e,t,r){var i=!1;return r=r||n,o.count=e,0===e?t():o;function o(e,n){if(o.count<=0)throw new Error("after called too many times");--o.count,e?(i=!0,t(e),t=r):0!==o.count||i||t(null,n)}}},zT9C:function(e,t,n){(function(e,n){var r="[object Arguments]",i="[object Boolean]",o="[object Function]",a="[object GeneratorFunction]",s="[object Map]",c="[object Set]",l="[object DataView]",u="[object Float32Array]",d="[object Float64Array]",h="[object Int8Array]",p="[object Int16Array]",f="[object Int32Array]",m="[object Uint8Array]",g="[object Uint16Array]",v="[object Uint32Array]",y=/\w*$/,b=/^\[object .+?Constructor\]$/,C=/^(?:0|[1-9]\d*)$/,w={};w[r]=w["[object Array]"]=w["[object ArrayBuffer]"]=w["[object DataView]"]=w["[object Boolean]"]=w["[object Date]"]=w["[object Float32Array]"]=w["[object Float64Array]"]=w["[object Int8Array]"]=w["[object Int16Array]"]=w["[object Int32Array]"]=w[s]=w["[object Number]"]=w["[object Object]"]=w["[object RegExp]"]=w[c]=w["[object String]"]=w["[object Symbol]"]=w["[object Uint8Array]"]=w["[object Uint8ClampedArray]"]=w["[object Uint16Array]"]=w["[object Uint32Array]"]=!0,w["[object Error]"]=w[o]=w["[object WeakMap]"]=!1;var S="object"==typeof e&&e&&e.Object===Object&&e,k="object"==typeof self&&self&&self.Object===Object&&self,x=S||k||Function("return this")(),E=t&&!t.nodeType&&t,T=E&&"object"==typeof n&&n&&!n.nodeType&&n,_=T&&T.exports===E;function O(e,t){return e.set(t[0],t[1]),e}function L(e,t){return e.add(t),e}function M(e,t,n,r){var i=-1,o=e?e.length:0;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function F(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}function R(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function j(e,t){return function(n){return e(t(n))}}function A(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var P=Array.prototype,I=Function.prototype,D=Object.prototype,N=x["__core-js_shared__"],U=function(){var e=/[^.]+$/.exec(N&&N.keys&&N.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),B=I.toString,K=D.hasOwnProperty,H=D.toString,V=RegExp("^"+B.call(K).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),z=_?x.Buffer:void 0,q=x.Symbol,G=x.Uint8Array,J=j(Object.getPrototypeOf,Object),W=Object.create,Y=D.propertyIsEnumerable,$=P.splice,X=Object.getOwnPropertySymbols,Q=z?z.isBuffer:void 0,Z=j(Object.keys,Object),ee=Ee(x,"DataView"),te=Ee(x,"Map"),ne=Ee(x,"Promise"),re=Ee(x,"Set"),ie=Ee(x,"WeakMap"),oe=Ee(Object,"create"),ae=Me(ee),se=Me(te),ce=Me(ne),le=Me(re),ue=Me(ie),de=q?q.prototype:void 0,he=de?de.valueOf:void 0;function pe(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function fe(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function me(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ge(e){this.__data__=new fe(e)}function ve(e,t){var n=Re(e)||function(e){return function(e){return function(e){return!!e&&"object"==typeof e}(e)&&je(e)}(e)&&K.call(e,"callee")&&(!Y.call(e,"callee")||H.call(e)==r)}(e)?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],i=n.length,o=!!i;for(var a in e)!t&&!K.call(e,a)||o&&("length"==a||Oe(a,i))||n.push(a);return n}function ye(e,t,n){var r=e[t];K.call(e,t)&&Fe(r,n)&&(void 0!==n||t in e)||(e[t]=n)}function be(e,t){for(var n=e.length;n--;)if(Fe(e[n][0],t))return n;return-1}function Ce(e,t,n,b,C,S,k){var x;if(b&&(x=S?b(e,C,S,k):b(e)),void 0!==x)return x;if(!Ie(e))return e;var E=Re(e);if(E){if(x=function(e){var t=e.length,n=e.constructor(t);t&&"string"==typeof e[0]&&K.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!t)return function(e,t){var n=-1,r=e.length;t||(t=Array(r));for(;++n<r;)t[n]=e[n];return t}(e,x)}else{var T=_e(e),_=T==o||T==a;if(Ae(e))return function(e,t){if(t)return e.slice();var n=new e.constructor(e.length);return e.copy(n),n}(e,t);if("[object Object]"==T||T==r||_&&!S){if(F(e))return S?e:{};if(x=function(e){return"function"!=typeof e.constructor||Le(e)?{}:(t=J(e),Ie(t)?W(t):{});var t}(_?{}:e),!t)return function(e,t){return ke(e,Te(e),t)}(e,function(e,t){return e&&ke(t,De(t),e)}(x,e))}else{if(!w[T])return S?e:{};x=function(e,t,n,r){var o=e.constructor;switch(t){case"[object ArrayBuffer]":return Se(e);case i:case"[object Date]":return new o(+e);case l:return function(e,t){var n=t?Se(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,r);case u:case d:case h:case p:case f:case m:case"[object Uint8ClampedArray]":case g:case v:return function(e,t){var n=t?Se(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}(e,r);case s:return function(e,t,n){return M(t?n(R(e),!0):R(e),O,new e.constructor)}(e,r,n);case"[object Number]":case"[object String]":return new o(e);case"[object RegExp]":return function(e){var t=new e.constructor(e.source,y.exec(e));return t.lastIndex=e.lastIndex,t}(e);case c:return function(e,t,n){return M(t?n(A(e),!0):A(e),L,new e.constructor)}(e,r,n);case"[object Symbol]":return a=e,he?Object(he.call(a)):{}}var a}(e,T,Ce,t)}}k||(k=new ge);var j=k.get(e);if(j)return j;if(k.set(e,x),!E)var P=n?function(e){return function(e,t,n){var r=t(e);return Re(e)?r:function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}(r,n(e))}(e,De,Te)}(e):De(e);return function(e,t){for(var n=-1,r=e?e.length:0;++n<r&&!1!==t(e[n],n,e););}(P||e,(function(r,i){P&&(r=e[i=r]),ye(x,i,Ce(r,t,n,b,i,e,k))})),x}function we(e){return!(!Ie(e)||(t=e,U&&U in t))&&(Pe(e)||F(e)?V:b).test(Me(e));var t}function Se(e){var t=new e.constructor(e.byteLength);return new G(t).set(new G(e)),t}function ke(e,t,n,r){n||(n={});for(var i=-1,o=t.length;++i<o;){var a=t[i],s=r?r(n[a],e[a],a,n,e):void 0;ye(n,a,void 0===s?e[a]:s)}return n}function xe(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function Ee(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return we(n)?n:void 0}pe.prototype.clear=function(){this.__data__=oe?oe(null):{}},pe.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},pe.prototype.get=function(e){var t=this.__data__;if(oe){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return K.call(t,e)?t[e]:void 0},pe.prototype.has=function(e){var t=this.__data__;return oe?void 0!==t[e]:K.call(t,e)},pe.prototype.set=function(e,t){return this.__data__[e]=oe&&void 0===t?"__lodash_hash_undefined__":t,this},fe.prototype.clear=function(){this.__data__=[]},fe.prototype.delete=function(e){var t=this.__data__,n=be(t,e);return!(n<0)&&(n==t.length-1?t.pop():$.call(t,n,1),!0)},fe.prototype.get=function(e){var t=this.__data__,n=be(t,e);return n<0?void 0:t[n][1]},fe.prototype.has=function(e){return be(this.__data__,e)>-1},fe.prototype.set=function(e,t){var n=this.__data__,r=be(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},me.prototype.clear=function(){this.__data__={hash:new pe,map:new(te||fe),string:new pe}},me.prototype.delete=function(e){return xe(this,e).delete(e)},me.prototype.get=function(e){return xe(this,e).get(e)},me.prototype.has=function(e){return xe(this,e).has(e)},me.prototype.set=function(e,t){return xe(this,e).set(e,t),this},ge.prototype.clear=function(){this.__data__=new fe},ge.prototype.delete=function(e){return this.__data__.delete(e)},ge.prototype.get=function(e){return this.__data__.get(e)},ge.prototype.has=function(e){return this.__data__.has(e)},ge.prototype.set=function(e,t){var n=this.__data__;if(n instanceof fe){var r=n.__data__;if(!te||r.length<199)return r.push([e,t]),this;n=this.__data__=new me(r)}return n.set(e,t),this};var Te=X?j(X,Object):function(){return[]},_e=function(e){return H.call(e)};function Oe(e,t){return!!(t=null==t?9007199254740991:t)&&("number"==typeof e||C.test(e))&&e>-1&&e%1==0&&e<t}function Le(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||D)}function Me(e){if(null!=e){try{return B.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function Fe(e,t){return e===t||e!==e&&t!==t}(ee&&_e(new ee(new ArrayBuffer(1)))!=l||te&&_e(new te)!=s||ne&&"[object Promise]"!=_e(ne.resolve())||re&&_e(new re)!=c||ie&&"[object WeakMap]"!=_e(new ie))&&(_e=function(e){var t=H.call(e),n="[object Object]"==t?e.constructor:void 0,r=n?Me(n):void 0;if(r)switch(r){case ae:return l;case se:return s;case ce:return"[object Promise]";case le:return c;case ue:return"[object WeakMap]"}return t});var Re=Array.isArray;function je(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}(e.length)&&!Pe(e)}var Ae=Q||function(){return!1};function Pe(e){var t=Ie(e)?H.call(e):"";return t==o||t==a}function Ie(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function De(e){return je(e)?ve(e):function(e){if(!Le(e))return Z(e);var t=[];for(var n in Object(e))K.call(e,n)&&"constructor"!=n&&t.push(n);return t}(e)}n.exports=function(e){return Ce(e,!0,!0)}}).call(this,n("yLpj"),n("YuTi")(e))},zVkU:function(e,t,n){"use strict";n.r(t);var r=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"codeshareUsersFirst",type:"Int!"},{defaultValue:null,kind:"LocalArgument",name:"codeshareUsersAfter",type:"String"},{defaultValue:null,kind:"LocalArgument",name:"id",type:"ID!"}],t=[{kind:"Variable",name:"id",variableName:"id"}],n={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},i={alias:null,args:null,concreteType:"CreatedBy",kind:"LinkedField",name:"createdBy",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"userId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"me",storageKey:null}],storageKey:null},o=[{kind:"Variable",name:"after",variableName:"codeshareUsersAfter"},{kind:"Variable",name:"first",variableName:"codeshareUsersFirst"}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"refetchableCodeshareUserEdgesQuery",selections:[{alias:null,args:t,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"refetchableCodeshareUserEdges_codeshare"}],storageKey:null}],type:"Query"},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"refetchableCodeshareUserEdgesQuery",selections:[{alias:null,args:t,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[n,r,{kind:"InlineFragment",selections:[i,{alias:null,args:o,concreteType:"CodeshareUsersConnection",kind:"LinkedField",name:"users",plural:!1,selections:[{alias:null,args:null,concreteType:"CodeshareUserConnectionEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"CodeshareUser",kind:"LinkedField",name:"node",plural:!1,selections:[r,{alias:null,args:null,kind:"ScalarField",name:"createdAt",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"modifiedAt",storageKey:null},i,{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},{alias:null,args:null,concreteType:"CursorType",kind:"LinkedField",name:"cursor",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"position",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"selectionEnd",storageKey:null}],storageKey:null},n],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:o,filters:[],handle:"connection",key:"Codeshare_users",kind:"LinkedHandle",name:"users"}],type:"Codeshare"}],storageKey:null}]},params:{id:null,metadata:{derivedFrom:"refetchableCodeshareUserEdges_codeshare",isRefetchableQuery:!0},name:"refetchableCodeshareUserEdgesQuery",operationKind:"query",text:"query refetchableCodeshareUserEdgesQuery(\n  $codeshareUsersFirst: Int!\n  $codeshareUsersAfter: String\n  $id: ID!\n) {\n  node(id: $id) {\n    __typename\n    ...refetchableCodeshareUserEdges_codeshare\n    id\n  }\n}\n\nfragment refetchableCodeshareUserEdges_codeshare on Codeshare {\n  id\n  createdBy {\n    userId\n    me\n  }\n  users(first: $codeshareUsersFirst, after: $codeshareUsersAfter) {\n    edges {\n      node {\n        id\n        createdAt\n        modifiedAt\n        createdBy {\n          userId\n          me\n        }\n        color\n        cursor {\n          position\n          selectionEnd\n        }\n        __typename\n      }\n      cursor\n    }\n    pageInfo {\n      endCursor\n      hasNextPage\n    }\n  }\n}\n"}}}();r.hash="432679eebdeadeba528b71c43deeea74",t.default=r},zZgz:function(e,t,n){var r=n("7tlc"),i=(n("6fGe"),n("p7Ng"));function o(e){return{type:e.type,sdp:e.sdp}}function a(e){var t={label:e.id};return e.getAudioTracks().length&&(t.audio=e.getAudioTracks().map((function(e){return e.id}))),e.getVideoTracks().length&&(t.video=e.getVideoTracks().map((function(e){return e.id}))),t}function s(e,t){var n=this;i.call(this),this.peerconnection=new window.RTCPeerConnection(e,t),this.trace=function(e,t){n.emit("PeerConnectionTrace",{time:new Date,type:e,value:t||""})},this.onicecandidate=null,this.peerconnection.onicecandidate=function(e){n.trace("onicecandidate",e.candidate),null!==n.onicecandidate&&n.onicecandidate(e)},this.onaddstream=null,this.peerconnection.onaddstream=function(e){n.trace("onaddstream",a(e.stream)),null!==n.onaddstream&&n.onaddstream(e)},this.onremovestream=null,this.peerconnection.onremovestream=function(e){n.trace("onremovestream",a(e.stream)),null!==n.onremovestream&&n.onremovestream(e)},this.onsignalingstatechange=null,this.peerconnection.onsignalingstatechange=function(e){n.trace("onsignalingstatechange",n.signalingState),null!==n.onsignalingstatechange&&n.onsignalingstatechange(e)},this.oniceconnectionstatechange=null,this.peerconnection.oniceconnectionstatechange=function(e){n.trace("oniceconnectionstatechange",n.iceConnectionState),null!==n.oniceconnectionstatechange&&n.oniceconnectionstatechange(e)},this.onnegotiationneeded=null,this.peerconnection.onnegotiationneeded=function(e){n.trace("onnegotiationneeded"),null!==n.onnegotiationneeded&&n.onnegotiationneeded(e)},n.ondatachannel=null,this.peerconnection.ondatachannel=function(e){n.trace("ondatachannel",e),null!==n.ondatachannel&&n.ondatachannel(e)},this.getLocalStreams=this.peerconnection.getLocalStreams.bind(this.peerconnection),this.getRemoteStreams=this.peerconnection.getRemoteStreams.bind(this.peerconnection)}r.inherits(s,i),["signalingState","iceConnectionState","localDescription","remoteDescription"].forEach((function(e){Object.defineProperty(s.prototype,e,{get:function(){return this.peerconnection[e]}})})),s.prototype.addStream=function(e){this.trace("addStream",a(e)),this.peerconnection.addStream(e)},s.prototype.removeStream=function(e){this.trace("removeStream",a(e)),this.peerconnection.removeStream(e)},s.prototype.createDataChannel=function(e,t){return this.trace("createDataChannel",e,t),this.peerconnection.createDataChannel(e,t)},s.prototype.setLocalDescription=function(e,t,n){var r=this;return this.trace("setLocalDescription",o(e)),this.peerconnection.setLocalDescription(e).then((function(){r.trace("setLocalDescriptionOnSuccess"),t&&t()}),(function(e){r.trace("setLocalDescriptionOnFailure",e),n&&n(e)}))},s.prototype.setRemoteDescription=function(e,t,n){var r=this;return this.trace("setRemoteDescription",o(e)),this.peerconnection.setRemoteDescription(e).then((function(){r.trace("setRemoteDescriptionOnSuccess"),t&&t()}),(function(e){r.trace("setRemoteDescriptionOnFailure",e),n&&n(e)}))},s.prototype.close=function(){this.trace("stop"),"closed"!=this.peerconnection.signalingState&&this.peerconnection.close()},s.prototype.createOffer=function(e,t,n){var r=this;return this.trace("createOffer",n),this.peerconnection.createOffer(n).then((function(t){r.trace("createOfferOnSuccess",o(t)),e&&e(t)}),(function(e){r.trace("createOfferOnFailure",e),t&&t(e)}))},s.prototype.createAnswer=function(e,t,n){var r=this;return this.trace("createAnswer",n),this.peerconnection.createAnswer(n).then((function(t){r.trace("createAnswerOnSuccess",o(t)),e&&e(t)}),(function(e){r.trace("createAnswerOnFailure",e),t&&t(e)}))},s.prototype.addIceCandidate=function(e,t,n){var r=this;return this.trace("addIceCandidate",e),this.peerconnection.addIceCandidate(e).then((function(){t&&t()}),(function(e){r.trace("addIceCandidateOnFailure",e),n&&n(e)}))},s.prototype.getStats=function(){this.peerconnection.getStats.apply(this.peerconnection,arguments)},e.exports=s},zmzR:function(e,t,n){"use strict";var r=n("Ypoe").log,i=n("Ypoe").browserDetails,o={shimOnTrack:function(){"object"===typeof window&&window.RTCPeerConnection&&!("ontrack"in window.RTCPeerConnection.prototype)&&Object.defineProperty(window.RTCPeerConnection.prototype,"ontrack",{get:function(){return this._ontrack},set:function(e){this._ontrack&&(this.removeEventListener("track",this._ontrack),this.removeEventListener("addstream",this._ontrackpoly)),this.addEventListener("track",this._ontrack=e),this.addEventListener("addstream",this._ontrackpoly=function(e){e.stream.getTracks().forEach(function(t){var n=new Event("track");n.track=t,n.receiver={track:t},n.streams=[e.stream],this.dispatchEvent(n)}.bind(this))}.bind(this))}})},shimSourceObject:function(){"object"===typeof window&&window.HTMLMediaElement&&!("srcObject"in window.HTMLMediaElement.prototype)&&Object.defineProperty(window.HTMLMediaElement.prototype,"srcObject",{get:function(){return this.mozSrcObject},set:function(e){this.mozSrcObject=e}})},shimPeerConnection:function(){if("object"===typeof window&&(window.RTCPeerConnection||window.mozRTCPeerConnection)){window.RTCPeerConnection||(window.RTCPeerConnection=function(e,t){if(i.version<38&&e&&e.iceServers){for(var n=[],r=0;r<e.iceServers.length;r++){var o=e.iceServers[r];if(o.hasOwnProperty("urls"))for(var a=0;a<o.urls.length;a++){var s={url:o.urls[a]};0===o.urls[a].indexOf("turn")&&(s.username=o.username,s.credential=o.credential),n.push(s)}else n.push(e.iceServers[r])}e.iceServers=n}return new mozRTCPeerConnection(e,t)},window.RTCPeerConnection.prototype=mozRTCPeerConnection.prototype,mozRTCPeerConnection.generateCertificate&&Object.defineProperty(window.RTCPeerConnection,"generateCertificate",{get:function(){return mozRTCPeerConnection.generateCertificate}}),window.RTCSessionDescription=mozRTCSessionDescription,window.RTCIceCandidate=mozRTCIceCandidate),["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach((function(e){var t=RTCPeerConnection.prototype[e];RTCPeerConnection.prototype[e]=function(){return arguments[0]=new("addIceCandidate"===e?RTCIceCandidate:RTCSessionDescription)(arguments[0]),t.apply(this,arguments)}}));var e=RTCPeerConnection.prototype.addIceCandidate;RTCPeerConnection.prototype.addIceCandidate=function(){return null===arguments[0]?Promise.resolve():e.apply(this,arguments)};var t=RTCPeerConnection.prototype.getStats;RTCPeerConnection.prototype.getStats=function(e,n,r){return t.apply(this,[e||null]).then((function(e){return function(e){var t=new Map;return Object.keys(e).forEach((function(n){t.set(n,e[n]),t[n]=e[n]})),t}(e)})).then(n,r)}}},attachMediaStream:function(e,t){r("DEPRECATED, attachMediaStream will soon be removed."),e.srcObject=t},reattachMediaStream:function(e,t){r("DEPRECATED, reattachMediaStream will soon be removed."),e.srcObject=t.srcObject}};e.exports={shimOnTrack:o.shimOnTrack,shimSourceObject:o.shimSourceObject,shimPeerConnection:o.shimPeerConnection,shimGetUserMedia:n("3+jK"),attachMediaStream:o.attachMediaStream,reattachMediaStream:o.reattachMediaStream}},zotm:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("rPjj"),i=n("Fxb1"),o=n("6blF");function a(e,t,n,a,s){if(void 0===s&&(s=new r.a(e,n,a)),!s.closed)return t instanceof o.a?t.subscribe(s):Object(i.a)(t)(s)}}},[["VYIP",1,2,12,15,16,0,3,4,5,6,7,8,9,10,11,13,14]]]);